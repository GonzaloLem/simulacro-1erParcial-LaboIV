"use strict";(self.webpackChunksimulacro_primer_parcial=self.webpackChunksimulacro_primer_parcial||[]).push([[179],{96:()=>{function xe(t){return"function"==typeof t}function fc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Eh=fc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ko(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof Eh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{hx(s)}catch(o){e=e??[],o instanceof Eh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Eh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)hx(e);else{if(e instanceof Sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ko(n,e)}remove(e){const{_finalizers:n}=this;n&&Ko(n,e),e instanceof Sn&&e._removeParent(this)}}Sn.EMPTY=(()=>{const t=new Sn;return t.closed=!0,t})();const lx=Sn.EMPTY;function dx(t){return t instanceof Sn||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function hx(t){xe(t)?t():t.unsubscribe()}const Ls={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bh={setTimeout(t,e,...n){const{delegate:r}=bh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=bh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fx(t){bh.setTimeout(()=>{const{onUnhandledError:e}=Ls;if(!e)throw t;e(t)})}function vy(){}const hz=wy("C",void 0,void 0);function wy(t,e,n){return{kind:t,value:e,error:n}}let Vs=null;function Ch(t){if(Ls.useDeprecatedSynchronousErrorHandling){const e=!Vs;if(e&&(Vs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Vs;if(Vs=null,n)throw r}}else t()}class Iy extends Sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dx(e)&&e.add(this)):this.destination=vz}static create(e,n,r){return new pc(e,n,r)}next(e){this.isStopped?by(function pz(t){return wy("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?by(function fz(t){return wy("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?by(hz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mz=Function.prototype.bind;function Ey(t,e){return mz.call(t,e)}class yz{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Dh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Dh(r)}else Dh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dh(n)}}}class pc extends Iy{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ls.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ey(e.next,s),error:e.error&&Ey(e.error,s),complete:e.complete&&Ey(e.complete,s)}):i=e}this.destination=new yz(i)}}function Dh(t){Ls.useDeprecatedSynchronousErrorHandling?function gz(t){Ls.useDeprecatedSynchronousErrorHandling&&Vs&&(Vs.errorThrown=!0,Vs.error=t)}(t):fx(t)}function by(t,e){const{onStoppedNotification:n}=Ls;n&&bh.setTimeout(()=>n(t,e))}const vz={closed:!0,next:vy,error:function _z(t){throw t},complete:vy},Cy="function"==typeof Symbol&&Symbol.observable||"@@observable";function qi(t){return t}function px(t){return 0===t.length?qi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Ez(t){return t&&t instanceof Iy||function Iz(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&dx(t)}(n)?n:new pc(n,r,i);return Ch(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=gx(r))((i,s)=>{const o=new pc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Cy](){return this}pipe(...n){return px(n)(this)}toPromise(n){return new(n=gx(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function gx(t){var e;return null!==(e=t??Ls.Promise)&&void 0!==e?e:Promise}const bz=fc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let hr=(()=>{class t extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new mx(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bz}next(n){Ch(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ch(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ch(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?lx:(this.currentObservers=null,s.push(n),new Sn(()=>{this.currentObservers=null,Ko(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return t.create=(e,n)=>new mx(e,n),t})();class mx extends hr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:lx}}function yx(t){return xe(t?.lift)}function vt(t){return e=>{if(yx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new Cz(t,e,n,r,i)}class Cz extends Iy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function fe(t,e){return vt((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function Sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Wi(t){return this instanceof Wi?(this.v=t,this):new Wi(t)}function Ix(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function xy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ex=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function bx(t){return xe(t?.then)}function Cx(t){return xe(t[Cy])}function Dx(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function Tx(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Sx=function zz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ax(t){return xe(t?.[Sx])}function xx(t){return function wx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Wi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Wi(n.read());if(i)return yield Wi(void 0);yield yield Wi(r)}}finally{n.releaseLock()}})}function Mx(t){return xe(t?.getReader)}function jn(t){if(t instanceof Ge)return t;if(null!=t){if(Cx(t))return function qz(t){return new Ge(e=>{const n=t[Cy]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ex(t))return function Wz(t){return new Ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(bx(t))return function Kz(t){return new Ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fx)})}(t);if(Dx(t))return Rx(t);if(Ax(t))return function Qz(t){return new Ge(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Mx(t))return function Yz(t){return Rx(xx(t))}(t)}throw Tx(t)}function Rx(t){return new Ge(e=>{(function Xz(t,e){var n,r,i,s;return function _x(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ix(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ui(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Pt(t,e,n=1/0){return xe(e)?Pt((r,i)=>fe((s,o)=>e(r,s,i,o))(jn(t(r,i))),n):("number"==typeof e&&(n=e),vt((r,i)=>function Jz(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;jn(n(g,l++)).subscribe(pt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?ui(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Qo(t=1/0){return Pt(qi,t)}const Rr=new Ge(t=>t.complete());function My(t){return t[t.length-1]}function Nx(t){return xe(My(t))?t.pop():void 0}function gc(t){return function eq(t){return t&&xe(t.schedule)}(My(t))?t.pop():void 0}function Th(t,e=0){return vt((n,r)=>{n.subscribe(pt(r,i=>ui(r,t,()=>r.next(i),e),()=>ui(r,t,()=>r.complete(),e),i=>ui(r,t,()=>r.error(i),e)))})}function Sh(t,e=0){return vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kx(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ge(n=>{ui(n,e,()=>{const r=t[Symbol.asyncIterator]();ui(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wt(t,e){return e?function aq(t,e){if(null!=t){if(Cx(t))return function nq(t,e){return jn(t).pipe(Sh(e),Th(e))}(t,e);if(Ex(t))return function iq(t,e){return new Ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(bx(t))return function rq(t,e){return jn(t).pipe(Sh(e),Th(e))}(t,e);if(Dx(t))return kx(t,e);if(Ax(t))return function sq(t,e){return new Ge(n=>{let r;return ui(n,e,()=>{r=t[Sx](),ui(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if(Mx(t))return function oq(t,e){return kx(xx(t),e)}(t,e)}throw Tx(t)}(t,e):jn(t)}class tr extends hr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q(...t){return wt(t,gc(t))}function Px(t={}){const{connector:e=(()=>new hr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return vt((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Ry(p,i))}),v.subscribe(m),!o&&c>0&&(o=new pc({next:_=>v.next(_),error:_=>{d=!0,h(),a=Ry(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Ry(f,r),v.complete()}}),jn(g).subscribe(o))})(s)}}function Ry(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new pc({next:()=>{r.unsubscribe(),t()}});return jn(e(...n)).subscribe(r)}function fr(t,e){return vt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(pt(r,u=>{i?.unsubscribe();let c=0;const l=s++;jn(t(u,l)).subscribe(i=pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function lq(t,e){return t===e}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Ah(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ny(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const dq=be({__forward_ref__:be});function ke(t){return t.__forward_ref__=ke,t.toString=function(){return It(this())},t}function Q(t){return ky(t)?t():t}function ky(t){return"function"==typeof t&&t.hasOwnProperty(dq)&&t.__forward_ref__===ke}function Py(t){return t&&!!t.\u0275providers}const Ox="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function xh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function Oy(t,e){throw new T(-201,!1)}function nr(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mh(t){return Fx(t,Nh)||Fx(t,Lx)}function Fx(t,e){return t.hasOwnProperty(e)?t[e]:null}function Rh(t){return t&&(t.hasOwnProperty(Fy)||t.hasOwnProperty(vq))?t[Fy]:null}const Nh=be({\u0275prov:be}),Fy=be({\u0275inj:be}),Lx=be({ngInjectableDef:be}),vq=be({ngInjectorDef:be});var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{});let Ly;function An(t){const e=Ly;return Ly=t,e}function Ux(t,e,n){const r=Mh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&se.Optional?null:void 0!==e?e:void Oy(It(t))}const Pe=globalThis,mc={},$y="__NG_DI_FLAG__",kh="ngTempTokenPath",Eq=/\n/gm,jx="__source";let Yo;function Ki(t){const e=Yo;return Yo=t,e}function Dq(t,e=se.Default){if(void 0===Yo)throw new T(-203,!1);return null===Yo?Ux(t,void 0,e):Yo.get(t,e&se.Optional?null:void 0,e)}function B(t,e=se.Default){return(function Vx(){return Ly}()||Dq)(Q(t),e)}function L(t,e=se.Default){return B(t,Ph(e))}function Ph(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hy(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Tq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function yc(t,e){return t[$y]=e,t.prototype[$y]=e,t}function Tq(t){return t[$y]}function ci(t){return{toString:t}.toString()}var Oh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Oh||{}),pr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(pr||{});const Nr={},ge=[],Fh=be({\u0275cmp:be}),Gy=be({\u0275dir:be}),zy=be({\u0275pipe:be}),Hx=be({\u0275mod:be}),li=be({\u0275fac:be}),_c=be({__NG_ELEMENT_ID__:be}),Gx=be({__NG_ENV_ID__:be});function zx(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function qy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Wx(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function qx(t){return 3===t||4===t||6===t}function Wx(t){return 64===t.charCodeAt(0)}function vc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Kx(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Kx(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Qx="ng-template";function xq(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==zx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Yx(t){return 4===t.type&&t.value!==Qx}function Mq(t,e,n){return e===(4!==t.type||n?t.value:Qx)}function Rq(t,e,n){let r=4;const i=t.attrs||[],s=function Pq(t){for(let e=0;e<t.length;e++)if(qx(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Mq(t,u,n)||""===u&&1===e.length){if(gr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!xq(t.attrs,c,n)){if(gr(r))return!1;o=!0}continue}const d=Nq(8&r?"class":u,i,Yx(t),n);if(-1===d){if(gr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==zx(f,c,0)||2&r&&c!==h){if(gr(r))return!1;o=!0}}}}else{if(!o&&!gr(r)&&!gr(u))return!1;if(o&&gr(u))continue;o=!1,r=u|1&r}}return gr(r)||o}function gr(t){return 0==(1&t)}function Nq(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Oq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Xx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Rq(t,e[r],n))return!0;return!1}function Jx(t,e){return t?":not("+e.trim()+")":e}function Lq(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!gr(o)&&(e+=Jx(s,i),i=""),r=o,s=s||!gr(r);n++}return""!==i&&(e+=Jx(s,i)),e}function Jt(t){return ci(()=>{const e=eM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Oh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};tM(n);const r=t.dependencies;return n.directiveDefs=Lh(r,!1),n.pipeDefs=Lh(r,!0),n.id=function zq(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function jq(t){return ce(t)||Ot(t)}function $q(t){return null!==t}function hn(t){return ci(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zx(t,e){if(null==t)return Nr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Y(t){return ci(()=>{const e=eM(t);return tM(e),e})}function ce(t){return t[Fh]||null}function Ot(t){return t[Gy]||null}function fn(t){return t[zy]||null}function Hn(t,e){const n=t[Hx]||null;if(!n&&!0===e)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function eM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Nr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zx(t.inputs,e),outputs:Zx(t.outputs)}}function tM(t){t.features?.forEach(e=>e(t))}function Lh(t,e){if(!t)return null;const n=e?fn:jq;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter($q)}const tt=0,O=1,ne=2,ze=3,mr=4,wc=5,Zt=6,Jo=7,at=8,Qi=9,Zo=10,Z=11,Ic=12,nM=13,ea=14,ut=15,Ec=16,ta=17,kr=18,bc=19,rM=20,Yi=21,di=22,Cc=23,Dc=24,oe=25,Wy=1,iM=2,Pr=7,na=9,Ft=11;function Mn(t){return Array.isArray(t)&&"object"==typeof t[Wy]}function pn(t){return Array.isArray(t)&&!0===t[Wy]}function Ky(t){return 0!=(4&t.flags)}function Bs(t){return t.componentOffset>-1}function Uh(t){return 1==(1&t.flags)}function yr(t){return!!t.template}function Qy(t){return 0!=(512&t[ne])}function js(t,e){return t.hasOwnProperty(li)?t[li]:null}let Lt=null,Bh=!1;function rr(t){const e=Lt;return Lt=t,e}const aM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cM(t){if(!Sc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!hM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function dM(t){t.dirty=!0,function lM(t){if(void 0===t.liveConsumerNode)return;const e=Bh;Bh=!0;try{for(const n of t.liveConsumerNode)n.dirty||dM(n)}finally{Bh=e}}(t),t.consumerMarkedDirty?.(t)}function Xy(t){return t&&(t.nextProducerIndex=0),rr(t)}function Jy(t,e){if(rr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Sc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)jh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hM(t){ra(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cM(n),r!==n.version))return!0}return!1}function fM(t){if(ra(t),Sc(t))for(let e=0;e<t.producerNode.length;e++)jh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function jh(t,e){if(function gM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ra(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)jh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ra(i),i.producerIndexOfThis[r]=e}}function Sc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ra(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let mM=null;const wM=()=>{},i3=(()=>({...aM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:wM}))();class s3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ir(){return IM}function IM(t){return t.type.prototype.ngOnChanges&&(t.setInput=a3),o3}function o3(){const t=bM(this),e=t?.current;if(e){const n=t.previous;if(n===Nr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function a3(t,e,n,r){const i=this.declaredInputs[n],s=bM(t)||function u3(t,e){return t[EM]=e}(t,{previous:Nr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new s3(u&&u.currentValue,e,a===Nr),t[r]=e}ir.ngInherit=!0;const EM="__ngSimpleChanges__";function bM(t){return t[EM]||null}const Or=function(t,e,n){};function Oe(t){for(;Array.isArray(t);)t=t[tt];return t}function $h(t,e){return Oe(e[t])}function Rn(t,e){return Oe(e[t.index])}function TM(t,e){return t.data[e]}function Gn(t,e){const n=e[t];return Mn(n)?n:n[tt]}function Ji(t,e){return null==e?null:t[e]}function SM(t){t[ta]=0}function p3(t){1024&t[ne]||(t[ne]|=1024,xM(t,1))}function AM(t){1024&t[ne]&&(t[ne]&=-1025,xM(t,-1))}function xM(t,e){let n=t[ze];if(null===n)return;n[wc]+=e;let r=n;for(n=n[ze];null!==n&&(1===e&&1===r[wc]||-1===e&&0===r[wc]);)n[wc]+=e,r=n,n=n[ze]}const K={lFrame:BM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function NM(){return K.bindingsEnabled}function C(){return K.lFrame.lView}function le(){return K.lFrame.tView}function oa(t){return K.lFrame.contextLView=t,t[at]}function aa(t){return K.lFrame.contextLView=null,t}function Vt(){let t=kM();for(;null!==t&&64===t.type;)t=t.parent;return t}function kM(){return K.lFrame.currentTNode}function Fr(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function r_(){return K.lFrame.isParent}function ua(){return K.lFrame.bindingIndex++}function T3(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,s_(e)}function s_(t){K.lFrame.currentDirectiveIndex=t}function a_(t){K.lFrame.currentQueryIndex=t}function A3(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[Zt]:null}function VM(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&se.Host||(i=A3(s),null===i||(s=s[ea],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=UM();return r.currentTNode=e,r.lView=t,!0}function u_(t){const e=UM(),n=t[O];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UM(){const t=K.lFrame,e=null===t?null:t.child;return null===e?BM(t):e}function BM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function jM(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $M=jM;function c_(){const t=jM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mn(){return K.lFrame.selectedIndex}function $s(t){K.lFrame.selectedIndex=t}function Ye(){const t=K.lFrame;return TM(t.tView,t.selectedIndex)}let GM=!0;function Hh(){return GM}function Zi(t){GM=t}function Gh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function zh(t,e,n){zM(t,e,3,n)}function qh(t,e,n,r){(3&t[ne])===n&&zM(t,e,n,r)}function l_(t,e){let n=t[ne];(3&n)===e&&(n&=8191,n+=1,t[ne]=n)}function zM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ta]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ta]+=65536),(a<s||-1==s)&&(F3(t,n,e,u),t[ta]=(4294901760&t[ta])+u+2),u++}function qM(t,e){Or(4,t,e);const n=rr(null);try{e.call(t)}finally{rr(n),Or(5,t,e)}}function F3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>13<t[ta]>>16&&(3&t[ne])===e&&(t[ne]+=8192,qM(a,s)):qM(a,s)}const ca=-1;class xc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function h_(t){return t!==ca}function Mc(t){return 32767&t}function Rc(t,e){let n=function B3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ea],n--;return r}let f_=!0;function Wh(t){const e=f_;return f_=t,e}const WM=255,KM=5;let j3=0;const Lr={};function Kh(t,e){const n=QM(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,p_(r.data,t),p_(e,null),p_(r.blueprint,null));const i=Qh(t,e),s=t.injectorIndex;if(h_(i)){const o=Mc(i),a=Rc(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function p_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function QM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=nR(i),null===r)return ca;if(n++,i=i[ea],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ca}function g_(t,e,n){!function $3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(_c)&&(r=n[_c]),null==r&&(r=n[_c]=j3++);const i=r&WM;e.data[t+(i>>KM)]|=1<<i}(t,e,n)}function YM(t,e,n){if(n&se.Optional||void 0!==t)return t;Oy()}function XM(t,e,n,r){if(n&se.Optional&&void 0===r&&(r=null),!(n&(se.Self|se.Host))){const i=t[Qi],s=An(void 0);try{return i?i.get(e,r,n&se.Optional):Ux(e,r,n&se.Optional)}finally{An(s)}}return YM(r,0,n)}function JM(t,e,n,r=se.Default,i){if(null!==t){if(2048&e[ne]&&!(r&se.Self)){const o=function K3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ne]&&!(512&o[ne]);){const a=ZM(s,o,n,r|se.Self,Lr);if(a!==Lr)return a;let u=s.parent;if(!u){const c=o[rM];if(c){const l=c.get(n,Lr,r);if(l!==Lr)return l}u=nR(o),o=o[ea]}s=u}return i}(t,e,n,r,Lr);if(o!==Lr)return o}const s=ZM(t,e,n,r,Lr);if(s!==Lr)return s}return XM(e,n,r,i)}function ZM(t,e,n,r,i){const s=function z3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(_c)?t[_c]:void 0;return"number"==typeof e?e>=0?e&WM:W3:e}(n);if("function"==typeof s){if(!VM(e,t,r))return r&se.Host?YM(i,0,r):XM(e,n,r,i);try{let o;if(o=s(r),null!=o||r&se.Optional)return o;Oy()}finally{$M()}}else if("number"==typeof s){let o=null,a=QM(t,e),u=ca,c=r&se.Host?e[ut][Zt]:null;for((-1===a||r&se.SkipSelf)&&(u=-1===a?Qh(t,e):e[a+8],u!==ca&&tR(r,!1)?(o=e[O],a=Mc(u),e=Rc(u,e)):a=-1);-1!==a;){const l=e[O];if(eR(s,a,l.data)){const d=G3(a,e,n,o,r,c);if(d!==Lr)return d}u=e[a+8],u!==ca&&tR(r,e[O].data[a+8]===c)&&eR(s,a,e)?(o=l,a=Mc(u),e=Rc(u,e)):a=-1}}return i}function G3(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=function Yh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&yr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Bs(a)&&f_:r!=o&&0!=(3&a.type),i&se.Host&&s===a);return null!==l?Hs(e,o,l,a):Lr}function Hs(t,e,n,r){let i=t[n];const s=e.data;if(function L3(t){return t instanceof xc}(i)){const o=i;o.resolving&&function hq(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(s[n]));const a=Wh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?An(o.injectImpl):null;VM(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function O3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=IM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&An(c),Wh(a),o.resolving=!1,$M()}}return i}function eR(t,e,n){return!!(n[e+(t>>KM)]&1<<t)}function tR(t,e){return!(t&se.Self||t&se.Host&&e)}class yn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return JM(this._tNode,this._lView,e,Ph(r),n)}}function W3(){return new yn(Vt(),C())}function Ut(t){return ci(()=>{const e=t.prototype.constructor,n=e[li]||m_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[li]||m_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function m_(t){return ky(t)?()=>{const e=m_(Q(t));return e&&e()}:js(t)}function nR(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[Zt]:null}const da="__parameters__";function fa(t,e,n){return ci(()=>{const r=function y_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(da)?u[da]:Object.defineProperty(u,da,{value:[]})[da];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ga(t,e){t.forEach(n=>Array.isArray(n)?ga(n,e):e(n))}function iR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zn(t,e,n){let r=ma(t,e);return r>=0?t[1|r]=n:(r=~r,function t6(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function __(t,e){const n=ma(t,e);if(n>=0)return t[1|n]}function ma(t,e){return function sR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const oR=yc(fa("Inject",t=>({token:t})),-1),Tt=yc(fa("Optional"),8),ef=yc(fa("SkipSelf"),4);function af(t){return 128==(128&t.flags)}var es=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(es||{});const b_=new Map;let C6=0;const D_="__ngContext__";function en(t,e){Mn(e)?(t[D_]=e[bc],function T6(t){b_.set(t[bc],t)}(e)):t[D_]=e}let T_;function S_(t,e){return T_(t,e)}function Lc(t){const e=t[ze];return pn(e)?e[ze]:e}function TR(t){return AR(t[Ic])}function SR(t){return AR(t[mr])}function AR(t){for(;null!==t&&!pn(t);)t=t[mr];return t}function va(t,e,n,r,i){if(null!=r){let s,o=!1;pn(r)?s=r:Mn(r)&&(o=!0,r=r[tt]);const a=Oe(r);0===t&&null!==n?null==i?NR(e,n,a):Gs(e,n,a,i||null,!0):1===t&&null!==n?Gs(e,n,a,i||null,!0):2===t?function pf(t,e,n){const r=hf(t,e);r&&function z6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function K6(t,e,n,r,i){const s=n[Pr];s!==Oe(n)&&va(e,t,r,s,i);for(let a=Ft;a<n.length;a++){const u=n[a];Uc(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function lf(t,e,n){return t.createElement(e,n)}function MR(t,e){const n=t[na],r=n.indexOf(e);AM(e),n.splice(r,1)}function df(t,e){if(t.length<=Ft)return;const n=Ft+e,r=t[n];if(r){const i=r[Ec];null!==i&&i!==t&&MR(i,r),e>0&&(t[n-1][mr]=r[mr]);const s=Jh(t,Ft+e);!function L6(t,e){Uc(t,e,e[Z],2,null,null),e[tt]=null,e[Zt]=null}(r[O],r);const o=s[kr];null!==o&&o.detachView(s[O]),r[ze]=null,r[mr]=null,r[ne]&=-129}return r}function x_(t,e){if(!(256&e[ne])){const n=e[Z];e[Cc]&&fM(e[Cc]),e[Dc]&&fM(e[Dc]),n.destroyNode&&Uc(t,e,n,3,null,null),function B6(t){let e=t[Ic];if(!e)return M_(t[O],t);for(;e;){let n=null;if(Mn(e))n=e[Ic];else{const r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[mr]&&e!==t;)Mn(e)&&M_(e[O],e),e=e[ze];null===e&&(e=t),Mn(e)&&M_(e[O],e),n=e&&e[mr]}e=n}}(e)}}function M_(t,e){if(!(256&e[ne])){e[ne]&=-129,e[ne]|=256,function G6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof xc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Or(4,a,u);try{u.call(a)}finally{Or(5,a,u)}}else{Or(4,i,s);try{s.call(i)}finally{Or(5,i,s)}}}}}(t,e),function H6(t,e){const n=t.cleanup,r=e[Jo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Jo]=null);const i=e[Yi];if(null!==i){e[Yi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[O].type&&e[Z].destroy();const n=e[Ec];if(null!==n&&pn(e[ze])){n!==e[ze]&&MR(n,e);const r=e[kr];null!==r&&r.detachView(t)}!function S6(t){b_.delete(t[bc])}(e)}}function R_(t,e,n){return function RR(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[tt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===pr.None||s===pr.Emulated)return null}return Rn(r,n)}}(t,e.parent,n)}function Gs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NR(t,e,n){t.appendChild(e,n)}function kR(t,e,n,r,i){null!==r?Gs(t,e,n,r,i):NR(t,e,n)}function hf(t,e){return t.parentNode(e)}let N_,F_,mf,FR=function OR(t,e,n){return 40&t.type?Rn(t,n):null};function ff(t,e,n,r){const i=R_(t,r,e),s=e[Z],a=function PR(t,e,n){return FR(t,e,n)}(r.parent||e[Zt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)kR(s,i,n[u],a,!1);else kR(s,i,n,a,!1);void 0!==N_&&N_(s,r,e,n,i)}function Vc(t,e){if(null!==e){const n=e.type;if(3&n)return Rn(e,t);if(4&n)return k_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Vc(t,r);{const i=t[e.index];return pn(i)?k_(-1,i):Oe(i)}}if(32&n)return S_(e,t)()||Oe(t[e.index]);{const r=VR(t,e);return null!==r?Array.isArray(r)?r[0]:Vc(Lc(t[ut]),r):Vc(t,e.next)}}return null}function VR(t,e){return null!==e?t[ut][Zt].projection[e.projection]:null}function k_(t,e){const n=Ft+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return Vc(r,i)}return e[Pr]}function P_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&en(Oe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)P_(t,e,n.child,r,i,s,!1),va(e,t,i,a,s);else if(32&u){const c=S_(n,r);let l;for(;l=c();)va(e,t,i,l,s);va(e,t,i,a,s)}else 16&u?BR(t,e,r,n,i,s):va(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Uc(t,e,n,r,i,s){P_(n,r,t.firstChild,e,i,s,!1)}function BR(t,e,n,r,i,s){const o=n[ut],u=o[Zt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)va(e,t,i,u[c],s);else{let c=u;const l=o[ze];af(r)&&(c.flags|=128),P_(t,e,c,l,i,s,!0)}}function jR(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $R(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&qy(t,e,r),null!==i&&jR(t,e,i),null!==s&&function Y6(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function zR(t){return function L_(){if(void 0===mf&&(mf=null,Pe.trustedTypes))try{mf=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return mf}()?.createScriptURL(t)||t}class qR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ox})`}}function ts(t){return t instanceof qR?t.changingThisBreaksApplicationSecurity:t}function Bc(t,e){const n=function o9(t){return t instanceof qR&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ox})`)}return n===e}const l9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ea=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ea||{});function $c(t){const e=Hc();return e?e.sanitize(Ea.URL,t)||"":Bc(t,"URL")?ts(t):function V_(t){return(t=String(t)).match(l9)?t:"unsafe:"+t}(J(t))}function ZR(t){const e=Hc();if(e)return zR(e.sanitize(Ea.RESOURCE_URL,t)||"");if(Bc(t,"ResourceURL"))return zR(ts(t));throw new T(904,!1)}function Hc(){const t=C();return t&&t[Zo].sanitizer}class F{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gc=new F("ENVIRONMENT_INITIALIZER"),tN=new F("INJECTOR",-1),nN=new F("INJECTOR_DEF_TYPES");class $_{get(e,n=mc){if(n===mc){const r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return n}}function b9(...t){return{\u0275providers:rN(0,t),\u0275fromNgModule:!0}}function rN(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ga(e,o=>{const a=o;_f(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&iN(i,s),n}function iN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];G_(i,s=>{e(s,r)})}}function _f(t,e,n,r){if(!(t=Q(t)))return!1;let i=null,s=Rh(t);const o=!s&&ce(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Rh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)_f(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ga(s.imports,l=>{_f(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&iN(c,e)}if(!a){const c=js(i)||(()=>new i);e({provide:i,useFactory:c,deps:ge},i),e({provide:nN,useValue:i,multi:!0},i),e({provide:Gc,useValue:()=>B(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;G_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function G_(t,e){for(let n of t)Py(n)&&(n=n.\u0275providers),Array.isArray(n)?G_(n,e):e(n)}const C9=be({provide:String,useValue:be});function z_(t){return null!==t&&"object"==typeof t&&C9 in t}function zs(t){return"function"==typeof t}const q_=new F("Set Injector scope."),vf={},T9={};let W_;function wf(){return void 0===W_&&(W_=new $_),W_}class qn{}class If extends qn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Q_(e,o=>this.processProvider(o)),this.records.set(tN,ba(void 0,this)),i.has("environment")&&this.records.set(qn,ba(void 0,this));const s=this.records.get(q_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nN.multi,ge,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ki(this),r=An(void 0);try{return e()}finally{Ki(n),An(r)}}get(e,n=mc,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Gx))return e[Gx](this);r=Ph(r);const s=Ki(this),o=An(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function R9(t){return"function"==typeof t||"object"==typeof t&&t instanceof F}(e)&&Mh(e);u=c&&this.injectableDefInScope(c)?ba(K_(e),vf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&se.Self?wf():this.parent).get(e,n=r&se.Optional&&n===mc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[kh]=a[kh]||[]).unshift(It(e)),s)throw a;return function Sq(t,e,n,r){const i=t[kh];throw e[jx]&&i.unshift(e[jx]),t.message=function Aq(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):It(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Eq,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[kh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{An(o),Ki(s)}}resolveInjectorInitializers(){const e=Ki(this),n=An(void 0);try{const i=this.get(Gc.multi,ge,se.Self);for(const s of i)s()}finally{Ki(e),An(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=zs(e=Q(e))?e:Q(e&&e.provide);const r=function A9(t){return z_(t)?ba(void 0,t.useValue):ba(aN(t),vf)}(e);if(zs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ba(void 0,vf,!0),i.factory=()=>Hy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===vf&&(n.value=T9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function M9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function K_(t){const e=Mh(t),n=null!==e?e.factory:js(t);if(null!==n)return n;if(t instanceof F)throw new T(204,!1);if(t instanceof Function)return function S9(t){const e=t.length;if(e>0)throw function Pc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function _q(t){return t&&(t[Nh]||t[Lx])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function aN(t,e,n){let r;if(zs(t)){const i=Q(t);return js(i)||K_(i)}if(z_(t))r=()=>Q(t.useValue);else if(function oN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Hy(t.deps||[]));else if(function sN(t){return!(!t||!t.useExisting)}(t))r=()=>B(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function x9(t){return!!t.deps}(t))return js(i)||K_(i);r=()=>new i(...Hy(t.deps))}return r}function ba(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Q_(t,e){for(const n of t)Array.isArray(n)?Q_(n,e):n&&Py(n)?Q_(n.\u0275providers,e):e(n)}const Ef=new F("AppId",{providedIn:"root",factory:()=>N9}),N9="ng",uN=new F("Platform Initializer"),gi=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cN=new F("CSP nonce",{providedIn:"root",factory:()=>function Ia(){if(void 0!==F_)return F_;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lN=(t,e,n)=>null;function rv(t,e,n=!1){return lN(t,e,n)}class $9{}class fN{}class G9{resolveComponentFactory(e){throw function H9(t){const e=Error(`No component factory found for ${It(t)}.`);return e.ngComponent=t,e}(e)}}let Af=(()=>{class t{static#e=this.NULL=new G9}return t})();function z9(){return Ta(Vt(),C())}function Ta(t,e){return new Wn(Rn(t,e))}let Wn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=z9}return t})();class gN{}let mi=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function W9(){const t=C(),n=Gn(Vt().index,t);return(Mn(n)?n:t)[Z]}()}return t})(),K9=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();class Sa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const mN=new Sa("16.2.9"),ov={};function wN(t,e=null,n=null,r){const i=IN(t,e,n,r);return i.resolveInjectorInitializers(),i}function IN(t,e=null,n=null,r,i=new Set){const s=[n||ge,b9(t)];return r=r||("object"==typeof t?void 0:It(t)),new If(s,e||wf(),r||null,i)}let tn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=mc;static#t=this.NULL=new $_;static create(n,r){if(Array.isArray(n))return wN({name:""},r,n,"");{const i=n.name??"";return wN({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=j({token:t,providedIn:"any",factory:()=>B(tN)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function uv(t){return t.ngOriginalError}class yi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&uv(e);for(;n&&uv(n);)n=uv(n);return n||null}}function lv(t){return e=>{setTimeout(t,void 0,e)}}const Me=class t5 extends hr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=lv(s),i&&(i=lv(i)),o&&(o=lv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Sn&&e.add(a),a}};function bN(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function n5(){const t="function"==typeof Pe.requestAnimationFrame;let e=Pe[t?"requestAnimationFrame":"setTimeout"],n=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function s5(t){const e=()=>{!function i5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hv(t),t.isCheckStableRunning=!0,dv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function a5(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return CN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),DN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return CN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),DN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,hv(t),dv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,r5,bN,bN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const r5={};function dv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function CN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function DN(t){t._nesting--,dv(t)}class o5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const TN=new F("",{providedIn:"root",factory:SN});function SN(){const t=L(Ee);let e=!0;return function uq(...t){const e=gc(t),n=function tq(t,e){return"number"==typeof My(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?jn(r[0]):Qo(n)(wt(r,e)):Rr}(new Ge(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ge(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Px()))}function _i(t){return t instanceof Function?t():t}let fv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function Wc(t){for(;t;){t[ne]|=64;const e=Lc(t);if(Qy(t)&&!e)return t;t=e}return null}const NN=new F("",{providedIn:"root",factory:()=>!1});let Mf=null;function FN(t,e){return t[e]??UN()}function LN(t,e){const n=UN();n.producerNode?.length&&(t[e]=Mf,n.lView=t,Mf=VN())}const y5={...aM,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Wc(t.lView)},lView:null};function VN(){return Object.create(y5)}function UN(){return Mf??=VN(),Mf}const te={};function me(t){BN(le(),C(),mn()+t,!1)}function BN(t,e,n,r){if(!r)if(3==(3&e[ne])){const s=t.preOrderCheckHooks;null!==s&&zh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&qh(e,s,0,n)}$s(n)}function b(t,e=se.Default){const n=C();return null===n?B(t,e):JM(Vt(),n,Q(t),e)}function Rf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[tt]=i,d[ne]=140|r,(null!==c||t&&2048&t[ne])&&(d[ne]|=2048),SM(d),d[ze]=d[ea]=t,d[at]=n,d[Zo]=o||t&&t[Zo],d[Z]=a||t&&t[Z],d[Qi]=u||t&&t[Qi]||null,d[Zt]=s,d[bc]=function D6(){return C6++}(),d[di]=l,d[rM]=c,d[ut]=2==e.type?t[ut]:d,d}function Ma(t,e,n,r,i){let s=t.data[e];if(null===s)s=function pv(t,e,n,r,i){const s=kM(),o=r_(),u=t.data[e]=function D5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function sa(){return null!==K.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function D3(){return K.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ac(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Fr(s,!0),s}function Kc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $N(t,e,n,r,i){const s=FN(e,Cc),o=mn(),a=2&r;try{$s(-1),a&&e.length>oe&&BN(t,e,oe,!1),Or(a?2:0,i);const c=a?s:null,l=Xy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Jy(c,l)}}finally{a&&null===e[Cc]&&LN(e,Cc),$s(o),Or(a?3:1,i)}}function gv(t,e,n){if(Ky(e)){const r=rr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{rr(r)}}}function mv(t,e,n){NM()&&(function N5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Bs(n)&&function U5(t,e,n){const r=Rn(e,t),i=HN(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Nf(t,Rf(t,i,null,o,r,e,null,t[Zo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Kh(n,e),en(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Hs(e,t,a,n);en(c,e),null!==o&&B5(0,a-i,c,u,0,o),yr(u)&&(Gn(n.index,e)[at]=Hs(e,t,a,n))}}(t,e,n,Rn(n,e)),64==(64&n.flags)&&KN(t,e,n))}function yv(t,e,n=Rn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function HN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=_v(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _v(t,e,n,r,i,s,o,a,u,c,l){const d=oe+r,h=d+i,f=function v5(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(d,h),p="function"==typeof c?c():c;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let GN=t=>null;function zN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?qN(n,e,i,s):r.hasOwnProperty(i)&&qN(n,e,r[i],s)}return n}function qN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Kn(t,e,n,r,i,s,o,a){const u=Rn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(bv(t,n,l,r,i),Bs(e)&&function A5(t,e){const n=Gn(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function S5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function vv(t,e,n,r){if(NM()){const i=null===r?null:{"":-1},s=function P5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Xx(e,o.selectors,!1))if(r||(r=[]),yr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),wv(t,e,a.length)}else r.unshift(o),wv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&WN(t,e,n,o,i,a),i&&function O5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=vc(n.mergedAttrs,n.attrs)}function WN(t,e,n,r,i,s){for(let c=0;c<r.length;c++)g_(Kh(n,e),t,r[c].type);!function L5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Kc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=vc(n.mergedAttrs,l.hostAttrs),V5(t,n,e,u,l),F5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function T5(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=zN(d.inputs,l,u,h?h.inputs:null),c=zN(d.outputs,l,c,p);const g=null===u||null===o||Yx(e)?null:j5(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function KN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function S3(){return K.lFrame.currentDirectiveIndex}();try{$s(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];s_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&k5(u,c)}}finally{$s(-1),s_(o)}}function k5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function wv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function F5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function V5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=js(i.type)),o=new xc(s,yr(i),b);t.blueprint[r]=o,n[r]=o,function M5(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function R5(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Kc(t,n,i.hostVars,te),i)}function Vr(t,e,n,r,i,s){const o=Rn(t,e);!function Iv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?J(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Z],o,s,t.value,n,r,i)}function B5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)QN(r,n,o[a++],o[a++],o[a++])}function QN(t,e,n,r,i){const s=rr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{rr(s)}}function j5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function YN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function XN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];a_(n[r]),o.contentQueries(2,e[s],s)}}}function Nf(t,e){return t[Ic]?t[nM][mr]=e:t[Ic]=e,t[nM]=e,e}function Ev(t,e,n){a_(0);const r=rr(null);try{e(t,n)}finally{rr(r)}}function tk(t,e){const n=t[Qi],r=n?n.get(yi,null):null;r&&r.handleError(e)}function bv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];QN(t.data[o],e[o],r,a,i)}}function $5(t,e){const n=Gn(e,t),r=n[O];!function H5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[tt];null!==i&&null===n[di]&&(n[di]=rv(i,n[Qi])),Cv(r,n,n[at])}function Cv(t,e,n){u_(e);try{const r=t.viewQuery;null!==r&&Ev(1,r,n);const i=t.template;null!==i&&$N(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&XN(t,e),t.staticViewQueries&&Ev(2,t.viewQuery,n);const s=t.components;null!==s&&function G5(t,e){for(let n=0;n<e.length;n++)$5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,c_()}}let nk=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function r3(t,e,n){const r=Object.create(i3);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>dM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!hM(r))return;r.hasRun=!0;const o=Xy(r);try{r.cleanupFn(),r.cleanupFn=wM,r.fn(i)}finally{Jy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function kf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ny(i,a):2==s&&(r=Ny(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Qc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Oe(s)),pn(s)&&rk(s,r);const o=n.type;if(8&o)Qc(t,e,n.child,r);else if(32&o){const a=S_(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=VR(e,n);if(Array.isArray(a))r.push(...a);else{const u=Lc(e[ut]);Qc(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function rk(t,e){for(let n=Ft;n<t.length;n++){const r=t[n],i=r[O].firstChild;null!==i&&Qc(r[O],r,i,e)}t[Pr]!==t[tt]&&e.push(t[Pr])}function Pf(t,e,n,r=!0){const i=e[Zo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{ik(t,e,t.template,n)}catch(u){throw r&&tk(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function ik(t,e,n,r){const i=e[ne];if(256!=(256&i)){e[Zo].effectManager?.flush(),u_(e);try{SM(e),function OM(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$N(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&zh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&qh(e,c,0,null),l_(e,0)}if(function W5(t){for(let e=TR(t);null!==e;e=SR(e)){if(!e[iM])continue;const n=e[na];for(let r=0;r<n.length;r++){p3(n[r])}}}(e),sk(e,2),null!==t.contentQueries&&XN(t,e),o){const c=t.contentCheckHooks;null!==c&&zh(e,c)}else{const c=t.contentHooks;null!==c&&qh(e,c,1),l_(e,1)}!function _5(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=FN(e,Dc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)$s(~s);else{const o=s,a=n[++i],u=n[++i];T3(a,o),r.dirty=!1;const c=Xy(r);try{u(2,e[o])}finally{Jy(r,c)}}}}finally{null===e[Dc]&&LN(e,Dc),$s(-1)}}(t,e);const a=t.components;null!==a&&ak(e,a,0);const u=t.viewQuery;if(null!==u&&Ev(2,u,r),o){const c=t.viewCheckHooks;null!==c&&zh(e,c)}else{const c=t.viewHooks;null!==c&&qh(e,c,2),l_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ne]&=-73,AM(e)}finally{c_()}}}function sk(t,e){for(let n=TR(t);null!==n;n=SR(n))for(let r=Ft;r<n.length;r++)ok(n[r],e)}function K5(t,e,n){ok(Gn(e,t),n)}function ok(t,e){if(!function h3(t){return 128==(128&t[ne])}(t))return;const n=t[O],r=t[ne];if(80&r&&0===e||1024&r||2===e)ik(n,t,n.template,t[at]);else if(t[wc]>0){sk(t,1);const i=n.components;null!==i&&ak(t,i,1)}}function ak(t,e,n){for(let r=0;r<e.length;r++)K5(t,e[r],n)}class Yc{get rootNodes(){const e=this._lView,n=e[O];return Qc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return 256==(256&this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ze];if(pn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(df(e,r),Jh(n,r))}this._attachedToViewContainer=!1}x_(this._lView[O],this._lView)}onDestroy(e){!function MM(t,e){if(256==(256&t[ne]))throw new T(911,!1);null===t[Yi]&&(t[Yi]=[]),t[Yi].push(e)}(this._lView,e)}markForCheck(){Wc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){this._lView[ne]|=128}detectChanges(){Pf(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function U6(t,e){Uc(t,e,e[Z],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class Q5 extends Yc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Pf(e[O],e,e[at],!1)}checkNoChanges(){}get context(){return null}}class uk extends Af{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ce(e);return new Xc(n,this.ngModule)}}function ck(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class X5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ph(r);const i=this.injector.get(e,ov,r);return i!==ov||n===ov?i:this.parentInjector.get(e,n,r)}}class Xc extends fN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=ck(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ck(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Vq(t){return t.map(Lq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof qn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new X5(e,s):e,a=o.get(gN,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(K9,null),effectManager:o.get(nk,null),afterRenderEventManager:o.get(fv,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function w5(t,e,n,r){const s=r.get(NN,!1)||n===pr.ShadowDom,o=t.selectRootElement(e,s);return function I5(t){GN(t)}(o),o}(h,r,this.componentDef.encapsulation,o):lf(h,f,function Y5(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=rv(p,o,!0));const E=_v(0,null,null,1,0,null,null,null,null,null,null),A=Rf(null,E,null,v,null,null,d,h,o,null,_);let V,z;u_(A);try{const _e=this.componentDef;let et,Bn=null;_e.findHostDirectiveDefs?(et=[],Bn=new Map,_e.findHostDirectiveDefs(_e,et,Bn),et.push(_e)):et=[_e];const cx=function Z5(t,e){const n=t[O],r=oe;return t[r]=e,Ma(n,r,2,"#host",null)}(A,p),y_e=function eW(t,e,n,r,i,s,o){const a=i[O];!function tW(t,e,n,r){for(const i of t)e.mergedAttrs=vc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(kf(e,e.mergedAttrs,!0),null!==n&&$R(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=rv(e,i[Qi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Rf(i,HN(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&wv(a,t,r.length-1),Nf(i,d),i[t.index]=d}(cx,p,_e,et,A,d,h);z=TM(E,oe),p&&function rW(t,e,n,r){if(r)qy(t,n,["ng-version",mN.full]);else{const{attrs:i,classes:s}=function Uq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!gr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&qy(t,n,i),s&&s.length>0&&jR(t,n,s.join(" "))}}(h,_e,p,r),void 0!==n&&function iW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(z,this.ngContentSelectors,n),V=function nW(t,e,n,r,i,s){const o=Vt(),a=i[O],u=Rn(o,i);WN(a,i,o,n,null,r);for(let l=0;l<n.length;l++)en(Hs(i,a,o.directiveStart+l,o),i);KN(a,i,o),u&&en(u,i);const c=Hs(i,a,o.directiveStart+o.componentOffset,o);if(t[at]=i[at]=c,null!==s)for(const l of s)l(c,e);return gv(a,o,t),c}(y_e,_e,et,Bn,A,[sW]),Cv(E,A,null)}finally{c_()}return new J5(this.componentType,V,Ta(z,A),A,z)}}class J5 extends $9{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Q5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;bv(s[O],s,i,e,n),this.previousInputValues.set(e,n),Wc(Gn(this._tNode.index,s))}}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function sW(){const t=Vt();Gh(C()[O],t)}function Ce(t){let e=function lk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Of(t.inputs),o.inputTransforms=Of(t.inputTransforms),o.declaredInputs=Of(t.declaredInputs),o.outputs=Of(t.outputs);const a=i.hostBindings;a&&cW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&aW(t,u),c&&uW(t,c),Ah(t.inputs,i.inputs),Ah(t.declaredInputs,i.declaredInputs),Ah(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ah(o.inputTransforms,i.inputTransforms)),yr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function oW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vc(i.hostAttrs,n=vc(n,i.hostAttrs))}}(r)}function Of(t){return t===Nr?{}:t===ge?[]:t}function aW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function uW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function cW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function pk(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Ff(t){return!!Dv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Dv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function nn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Br(t,e,n,r){const i=C();return nn(i,ua(),e)&&(le(),Vr(Ye(),i,t,e,n,r)),Br}function Na(t,e,n,r){return nn(t,ua(),n)?e+J(n)+r:te}function Bt(t,e,n,r,i,s,o,a){const u=C(),c=le(),l=t+oe,d=c.firstCreatePass?function PW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ma(e,t,4,o||null,Ji(c,a));vv(e,n,l,Ji(c,u)),Gh(e,l);const d=l.tView=_v(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Fr(d,!1);const h=Sk(c,u,d,t);Hh()&&ff(c,u,h,d),en(h,u),Nf(u,u[l]=YN(h,u,h,d)),Uh(d)&&mv(c,u,d),null!=o&&yv(u,d,a)}let Sk=function Ak(t,e,n,r){return Zi(!0),e[Z].createComment("")};function Fe(t,e,n){const r=C();return nn(r,ua(),e)&&Kn(le(),Ye(),r,t,e,r[Z],n,!1),Fe}function Rv(t,e,n,r,i){const o=i?"class":"style";bv(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=C(),s=le(),o=oe+t,a=i[Z],u=s.firstCreatePass?function UW(t,e,n,r,i,s){const o=e.consts,u=Ma(e,t,2,r,Ji(o,i));return vv(e,n,u,Ji(o,s)),null!==u.attrs&&kf(u,u.attrs,!1),null!==u.mergedAttrs&&kf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=xk(s,i,u,a,e,t);i[o]=c;const l=Uh(u);return Fr(u,!0),$R(a,c,u),32!=(32&u.flags)&&Hh()&&ff(s,i,c,u),0===function m3(){return K.lFrame.elementDepthCount}()&&en(c,i),function y3(){K.lFrame.elementDepthCount++}(),l&&(mv(s,i,u),gv(s,u,i)),null!==r&&yv(i,u),M}function P(){let t=Vt();r_()?function i_(){K.lFrame.isParent=!1}():(t=t.parent,Fr(t,!1));const e=t;(function v3(t){return K.skipHydrationRootTNode===t})(e)&&function b3(){K.skipHydrationRootTNode=null}(),function _3(){K.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(Gh(n,t),Ky(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function V3(t){return 0!=(8&t.flags)}(e)&&Rv(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function U3(t){return 0!=(16&t.flags)}(e)&&Rv(n,e,C(),e.stylesWithoutHost,!1),P}function Re(t,e,n,r){return M(t,e,n,r),P(),Re}let xk=(t,e,n,r,i,s)=>(Zi(!0),lf(r,i,function HM(){return K.lFrame.currentNamespace}()));function Ba(){return C()}function nl(t){return!!t&&"function"==typeof t.then}function Nk(t){return!!t&&"function"==typeof t.subscribe}function De(t,e,n,r){const i=C(),s=le(),o=Vt();return function Pk(t,e,n,r,i,s,o){const a=Uh(r),c=t.firstCreatePass&&function ZN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[at],d=function JN(t){return t[Jo]||(t[Jo]=[])}(e);let h=!0;if(3&r.type||o){const g=Rn(r,e),m=o?o(g):g,v=d.length,_=o?A=>o(Oe(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function zW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Jo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=Fk(r,e,l,s,!1);const A=n.listen(m,i,s);d.push(s,A),c&&c.push(i,_,v,v+1)}}else s=Fk(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const V=e[p[m]][p[m+1]].subscribe(s),z=d.length;d.push(s,V),c&&c.push(i,r.index,z,-(z+1))}}}(s,i,i[Z],o,t,e,r),De}function Ok(t,e,n,r){try{return Or(6,e,n),!1!==n(r)}catch(i){return tk(t,i),!1}finally{Or(7,e,n)}}function Fk(t,e,n,r,i){return function s(o){if(o===Function)return r;Wc(t.componentOffset>-1?Gn(t.index,e):e);let u=Ok(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=Ok(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function ns(t=1){return function x3(t){return(K.lFrame.contextLView=function M3(t,e){for(;t>0;)e=e[ea],t--;return e}(t,K.lFrame.contextLView))[at]}(t)}function Ws(t,e,n){return ja(t,"",e,"",n),Ws}function ja(t,e,n,r,i){const s=C(),o=Na(s,e,n,r);return o!==te&&Kn(le(),Ye(),s,t,o,s[Z],i,!1),ja}function jf(t,e){return t<<17|e<<2}function rs(t){return t>>17&32767}function Pv(t){return 2|t}function Ks(t){return(131068&t)>>2}function Ov(t,e){return-131069&t|e<<2}function Fv(t){return 1|t}function zk(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?rs(s):Ks(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];e8(t[a],e)&&(u=!0,t[a+1]=r?Fv(l):Pv(l)),a=r?rs(l):Ks(l)}u&&(t[n+1]=r?Pv(s):Fv(s))}function e8(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ma(t,e)>=0}function Lv(t,e,n){return _r(t,e,n,!1),Lv}function $f(t,e){return _r(t,e,null,!0),$f}function _r(t,e,n,r){const i=C(),s=le(),o=function fi(t){const e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Zk(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[mn()],o=function Jk(t,e){return e>=t.expandoStartIndex}(t,n);(function r1(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function c8(t,e,n,r){const i=function o_(t){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=rl(n=Vv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Vv(i,t,e,n,r),null===s){let u=function l8(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ks(r))return t[rs(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Vv(null,t,e,u[1],r),u=rl(u,e.attrs,r),function d8(t,e,n,r){t[rs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function h8(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=rl(r,t[s].hostAttrs,n);return rl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function JW(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=rs(o),u=Ks(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ma(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=rs(t[a+1]);t[r+1]=jf(h,a),0!==h&&(t[h+1]=Ov(t[h+1],r)),t[a+1]=function YW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=jf(a,0),0!==a&&(t[a+1]=Ov(t[a+1],r)),a=r;else t[r+1]=jf(u,0),0===a?a=r:t[u+1]=Ov(t[u+1],r),u=r;c&&(t[r+1]=Pv(t[r+1])),zk(t,l,r,!0),zk(t,l,r,!1),function ZW(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ma(s,e)>=0&&(n[r+1]=Fv(n[r+1]))}(e,l,t,r,s),o=jf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==te&&nn(i,o,e)&&function t1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function XW(t){return 1==(1&t)}(c)?n1(u,e,n,i,Ks(c),o):void 0;Hf(l)||(Hf(s)||function QW(t){return 2==(2&t)}(c)&&(s=n1(u,null,n,i,a,o)),function Q6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:es.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=es.Important),t.setStyle(n,r,i,s))}}(r,o,$h(mn(),n),i,s))}(s,s.data[mn()],i,i[Z],t,i[o+1]=function m8(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=It(ts(t)))),t}(e,n),r,o)}function Vv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=rl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function rl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zn(t,o,!!n||e[++s]))}return void 0===t?null:t}function n1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?ge:void 0);let f=d?__(h,r):l===r?h:void 0;if(c&&!Hf(f)&&(f=__(u,r)),Hf(f)&&(a=f,o))return a;const p=t[i+1];i=o?rs(p):Ks(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=__(u,r))}return a}function Hf(t){return void 0!==t}function G(t,e=""){const n=C(),r=le(),i=t+oe,s=r.firstCreatePass?Ma(r,i,1,e,null):r.data[i],o=i1(r,n,s,e,t);n[i]=o,Hh()&&ff(r,n,o,s),Fr(s,!1)}let i1=(t,e,n,r,i)=>(Zi(!0),function cf(t,e){return t.createText(e)}(e[Z],r));function Ha(t){return Ga("",t,""),Ha}function Ga(t,e,n){const r=C(),i=Na(r,t,e,n);return i!==te&&function vi(t,e,n){const r=$h(e,t);!function xR(t,e,n){t.setValue(e,n)}(t[Z],r,n)}(r,mn(),i),Ga}const qa="en-US";let T1=qa;function jv(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)jv(t[s],e,n,r,i);else{const s=le(),o=C(),a=Vt();let u=zs(t)?t:Q(t.provide);const c=aN(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(zs(t)||!t.multi){const f=new xc(c,i,b),p=Hv(u,e,i?l:l+h,d);-1===p?(g_(Kh(a,o),s,u),$v(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Hv(u,e,l+h,d),p=Hv(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){g_(Kh(a,o),s,u);const v=function L7(t,e,n,r,i){const s=new xc(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,X1(s,i,r&&!n),s}(i?F7:O7,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),$v(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else $v(s,t,f>-1?f:p,X1(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function $v(t,e,n,r){const i=zs(e),s=function D9(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function X1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function O7(t,e,n,r){return Gv(this.multi,[])}function F7(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Hs(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),Gv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Gv(i,s);return s}function Gv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function P7(t,e,n){const r=le();if(r.firstCreatePass){const i=yr(t);jv(n,r.data,r.blueprint,i,!0),jv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ys{}class J1{}class zv extends Ys{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uk(this);const i=Hn(e);this._bootstrapComponents=_i(i.bootstrap),this._r3Injector=IN(e,n,[{provide:Ys,useValue:this},{provide:Af,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qv extends J1{constructor(e){super(),this.moduleType=e}create(e){return new zv(this.moduleType,e,[])}}class Z1 extends Ys{constructor(e){super(),this.componentFactoryResolver=new uk(this),this.instance=null;const n=new If([...e.providers,{provide:Ys,useValue:this},{provide:Af,useValue:this.componentFactoryResolver}],e.parent||wf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Wv(t,e,n=null){return new Z1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let B7=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=rN(0,n.type),i=r.length>0?Wv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(B(qn))})}return t})();function eP(t){t.getStandaloneInjector=e=>e.get(B7).getOrCreateStandaloneInjector(t)}function Qv(t,e,n,r){return function aP(t,e,n,r,i,s){const o=e+n;return nn(t,o,i)?function Ur(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function cl(t,e){const n=t[e];return n===te?void 0:n}(t,o+1)}(C(),function gn(){const t=K.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function fK(t,e,n,r=!0){const i=e[O];if(function j6(t,e,n,r){const i=Ft+r,s=n.length;r>0&&(n[i-1][mr]=e),r<s-Ft?(e[mr]=n[i],iR(n,Ft+r,e)):(n.push(e),e[mr]=null),e[ze]=n;const o=e[Ec];null!==o&&n!==o&&function $6(t,e){const n=t[na];e[ut]!==e[ze][ze][ut]&&(t[iM]=!0),null===n?t[na]=[e]:n.push(e)}(o,e);const a=e[kr];null!==a&&a.insertView(t),e[ne]|=128}(i,e,t,n),r){const s=k_(n,t),o=e[Z],a=hf(o,t[Pr]);null!==a&&function V6(t,e,n,r,i,s){r[tt]=i,r[Zt]=e,Uc(t,r,n,1,i,s)}(i,t[Zt],o,e,a,s)}}Symbol;let wi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mK}return t})();const pK=wi,gK=class extends pK{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function hK(t,e,n,r){const i=e.tView,a=Rf(t,i,n,4096&t[ne]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ec]=t[e.index];const c=t[kr];return null!==c&&(a[kr]=c.createEmbeddedView(i)),Cv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Yc(i)}};function mK(){return function Kf(t,e){return 4&t.type?new gK(e,t,Ta(t,e)):null}(Vt(),C())}let wr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=EK}return t})();function EK(){return function _P(t,e){let n;const r=e[t.index];return pn(r)?n=r:(n=YN(r,e,null,t),e[t.index]=n,Nf(e,n)),vP(n,e,t,r),new mP(n,t,e)}(Vt(),C())}const bK=wr,mP=class extends bK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ta(this._hostTNode,this._hostLView)}get injector(){return new yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qh(this._hostTNode,this._hostLView);if(h_(e)){const n=Rc(e,this._hostLView),r=Mc(e);return new yn(n[O].data[r+8],n)}return new yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=yP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function kc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Xc(ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(qn,null);m&&(s=m)}ce(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function f3(t){return pn(t[ze])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ze],l=new mP(c,c[Zt],c[ze]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return fK(a,i,o,!r),e.attachToViewContainerRef(),iR(Xv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=yP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=df(this._lContainer,n);r&&(Jh(Xv(this._lContainer),n),x_(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=df(this._lContainer,n);return r&&null!=Jh(Xv(this._lContainer),n)?new Yc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yP(t){return t[8]}function Xv(t){return t[8]||(t[8]=[])}let vP=function wP(t,e,n,r){if(t[Pr])return;let i;i=8&n.type?Oe(r):function CK(t,e){const n=t[Z],r=n.createComment(""),i=Rn(e,t);return Gs(n,hf(n,i),r,function q6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Pr]=i};const uw=new F("Application Initializer");let cw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(uw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(nl(s))n.push(s);else if(Nk(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zP=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ii=new F("LocaleId",{providedIn:"root",factory:()=>L(Ii,se.Optional|se.SkipSelf)||function tQ(){return typeof $localize<"u"&&$localize.locale||qa}()});let Xf=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class iQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let qP=(()=>{class t{compileModuleSync(n){return new qv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=_i(Hn(n).declarations).reduce((o,a)=>{const u=ce(a);return u&&o.push(new Xc(u)),o},[]);return new iQ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const YP=new F(""),Zf=new F("");let pw,hw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pw||(function CQ(t){pw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ee),B(fw),B(Zf))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),fw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return pw?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),is=null;const XP=new F("AllowMultipleToken"),gw=new F("PlatformDestroyListeners"),mw=new F("appBootstrapListener");class ZP{constructor(e,n){this.name=e,this.token=n}}function tO(t,e,n=[]){const r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=yw();if(!o||o.injector.get(XP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function SQ(t){if(is&&!is.get(XP,!1))throw new T(400,!1);(function JP(){!function Jq(t){mM=t}(()=>{throw new T(600,!1)})})(),is=t;const e=t.get(rO);(function eO(t){t.get(uN,null)?.forEach(n=>n())})(t)}(function nO(t=[],e){return tn.create({name:e,providers:[{provide:q_,useValue:"platform"},{provide:gw,useValue:new Set([()=>is=null])},...t]})}(a,r))}return function xQ(t){const e=yw();if(!e)throw new T(401,!1);return e}()}}function yw(){return is?.get(rO)??null}let rO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function MQ(t="zone.js",e){return"noop"===t?new o5:"zone.js"===t?new Ee(e):t}(r?.ngZone,function iO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function U7(t,e,n){return new zv(t,e,n)}(n.moduleType,this.injector,function cO(t){return[{provide:Ee,useFactory:t},{provide:Gc,multi:!0,useFactory:()=>{const e=L(NQ,{optional:!0});return()=>e.initialize()}},{provide:uO,useFactory:RQ},{provide:TN,useFactory:SN}]}(()=>i)),o=s.injector.get(yi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{ep(this._modules,s),a.unsubscribe()})}),function sO(t,e,n){try{const r=n();return nl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(cw);return a.runInitializers(),a.donePromise.then(()=>(function S1(t){nr(t,"Expected localeId to be defined"),"string"==typeof t&&(T1=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ii,qa)||qa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=oO({},r);return function DQ(t,e,n){const r=new qv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Qa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(gw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(B(tn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function oO(t,e){return Array.isArray(e)?e.reduce(oO,t):{...t,...e}}let Qa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(uO),this.zoneIsStable=L(TN),this.componentTypes=[],this.components=[],this.isStable=L(Xf).hasPendingTasks.pipe(fr(n=>n?q(!1):this.zoneIsStable),function cq(t,e=qi){return t=t??lq,vt((n,r)=>{let i,s=!0;n.subscribe(pt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Px()),this._injector=L(qn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof fN;if(!this._injector.get(cw).done)throw!i&&function Xo(t){const e=ce(t)||Ot(t)||fn(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(Af).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function TQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ys),c=o.create(tn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(YP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),ep(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ep(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(mw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ep(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ep(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const uO=new F("",{providedIn:"root",factory:()=>L(yi).handleError.bind(void 0)});function RQ(){const t=L(Ee),e=L(yi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let NQ=(()=>{class t{constructor(){this.zone=L(Ee),this.applicationRef=L(Qa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let tp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=PQ}return t})();function PQ(t){return function OQ(t,e,n){if(Bs(t)&&!n){const r=Gn(t.index,e);return new Yc(r,r)}return 47&t.type?new Yc(e[ut],e):null}(Vt(),C(),16==(16&t))}class fO{constructor(){}supports(e){return Ff(e)}create(e){return new jQ(e)}}const BQ=(t,e)=>e;class jQ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||BQ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<gO(r,i,s)?n:r,a=gO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ff(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function mW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $Q(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new pO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $Q{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class pO{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new HQ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gO(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class mO{constructor(){}supports(e){return e instanceof Map||Dv(e)}create(){return new GQ}}class GQ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Dv(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new zQ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class zQ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yO(){return new ip([new fO])}let ip=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:yO});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||yO()),deps:[[t,new ef,new Tt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t})();function _O(){return new fl([new mO])}let fl=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:_O});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_O()),deps:[[t,new ef,new Tt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t})();const KQ=tO(null,"core",[]);let QQ=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(B(Qa))};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({})}return t})();function Ya(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let bw=null;function ss(){return bw}class cY{}const Qn=new F("DocumentToken");let Cw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return L(dY)},providedIn:"platform"})}return t})();const lY=new F("Location Initialized");let dY=(()=>{class t extends Cw{constructor(){super(),this._doc=L(Qn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ss().getBaseHref(this._doc)}onPopState(n){const r=ss().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ss().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Dw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function SO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ei(t){return t&&"?"!==t[0]?"?"+t:t}let Js=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return L(xO)},providedIn:"root"})}return t})();const AO=new F("appBaseHref");let xO=(()=>{class t extends Js{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Qn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ei(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ei(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Cw),B(AO,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hY=(()=>{class t extends Js{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Dw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Cw),B(AO,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Tw=(()=>{class t{constructor(n){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function gY(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(SO(MO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ei(r))}normalize(n){return t.stripTrailingSlash(function pY(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,MO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ei;static#t=this.joinWithSlash=Dw;static#n=this.stripTrailingSlash=SO;static#r=this.\u0275fac=function(r){return new(r||t)(B(Js))};static#i=this.\u0275prov=j({token:t,factory:function(){return function fY(){return new Tw(B(Js))}()},providedIn:"root"})}return t})();function MO(t){return t.replace(/\/index.html$/,"")}function UO(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const Fw=/\s+/,BO=[];let Lw=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=BO,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Fw):BO}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Fw):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Fw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(b(ip),b(fl),b(Wn),b(mi))};static#t=this.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class eX{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mp=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new eX(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),$O(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{$O(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(wr),b(wi),b(ip))};static#t=this.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function $O(t,e){t.context.$implicit=e.item}let ml=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new tX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(wr),b(wi))};static#t=this.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class tX{constructor(){this.$implicit=null,this.ngIf=null}}function HO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${It(e)}'.`)}let TX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({})}return t})();function WO(t){return"server"===t}let MX=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new RX(B(Qn),window)})}return t})();class RX{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function NX(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class KO{}class tJ extends cY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gw extends tJ{static makeCurrent(){!function uY(t){bw||(bw=t)}(new Gw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function nJ(){return _l=_l||document.querySelector("base"),_l?_l.getAttribute("href"):null}();return null==n?null:function rJ(t){vp=vp||document.createElement("a"),vp.setAttribute("href",t);const e=vp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){_l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UO(document.cookie,e)}}let vp,_l=null,sJ=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const zw=new F("EventManagerPlugins");let ZO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(B(zw),B(Ee))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class eF{constructor(e){this._doc=e}}const qw="ng-app-id";let tF=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WO(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${qw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(qw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(qw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Qn),B(Ef),B(cN,8),B(gi))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const Ww={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kw=/%COMP%/g,cJ=new F("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function rF(t,e){return e.map(n=>n.replace(Kw,t))}let iF=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=WO(a),this.defaultRenderer=new Qw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pr.ShadowDom&&(r={...r,encapsulation:pr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof oF?i.applyToHost(n):i instanceof Yw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case pr.Emulated:s=new oF(u,c,r,this.appId,l,o,a,d);break;case pr.ShadowDom:return new fJ(u,c,n,r,o,a,this.nonce,d);default:s=new Yw(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(B(ZO),B(tF),B(Ef),B(cJ),B(Qn),B(gi),B(Ee),B(cN))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class Qw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ww[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Ww[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ww[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(es.DashCase|es.Important)?e.style.setProperty(n,r,i&es.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&es.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ss().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function sF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class fJ extends Qw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=rF(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yw extends Qw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?rF(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class oF extends Yw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function lJ(t){return"_ngcontent-%COMP%".replace(Kw,t)}(c),this.hostAttr=function dJ(t){return"_nghost-%COMP%".replace(Kw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let pJ=(()=>{class t extends eF{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Qn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const aF=["alt","control","meta","shift"],gJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mJ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yJ=(()=>{class t extends eF{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ss().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),aF.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=gJ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),aF.forEach(o=>{o!==i&&(0,mJ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(B(Qn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const cF=[{provide:gi,useValue:"browser"},{provide:uN,useValue:function _J(){Gw.makeCurrent()},multi:!0},{provide:Qn,useFactory:function wJ(){return function e9(t){F_=t}(document),document},deps:[]}],IJ=tO(KQ,"browser",cF),EJ=new F(""),lF=[{provide:Zf,useClass:class iJ{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ss().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:YP,useClass:hw,deps:[Ee,fw,Zf]},{provide:hw,useClass:hw,deps:[Ee,fw,Zf]}],dF=[{provide:q_,useValue:"root"},{provide:yi,useFactory:function vJ(){return new yi},deps:[]},{provide:zw,useClass:pJ,multi:!0,deps:[Qn,Ee,gi]},{provide:zw,useClass:yJ,multi:!0,deps:[Qn]},iF,tF,ZO,{provide:gN,useExisting:iF},{provide:KO,useClass:sJ,deps:[]},[]];let bJ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ef,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(EJ,12))};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({providers:[...dF,...lF],imports:[TX,QQ]})}return t})(),hF=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(B(Qn))};static#t=this.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function DJ(){return new hF(B(Qn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:MJ}=Array,{getPrototypeOf:RJ,prototype:NJ,keys:kJ}=Object;function mF(t){if(1===t.length){const e=t[0];if(MJ(e))return{args:e,keys:null};if(function PJ(t){return t&&"object"==typeof t&&RJ(t)===NJ}(e)){const n=kJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:OJ}=Array;function yF(t){return fe(e=>function FJ(t,e){return OJ(e)?t(...e):t(e)}(t,e))}function _F(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let vF=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(mi),b(Wn))};static#t=this.\u0275dir=Y({type:t})}return t})(),Zs=(()=>{class t extends vF{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ut(t)))(i||t)}}();static#t=this.\u0275dir=Y({type:t,features:[Ce]})}return t})();const Hr=new F("NgValueAccessor"),UJ={provide:Hr,useExisting:ke(()=>eo),multi:!0},jJ=new F("CompositionEventMode");let eo=(()=>{class t extends vF{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BJ(){const t=ss()?ss().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(mi),b(Wn),b(jJ,8))};static#t=this.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&De("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[qe([UJ]),Ce]})}return t})();function as(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function IF(t){return null!=t&&"number"==typeof t.length}const rn=new F("NgValidators"),us=new F("NgAsyncValidators"),$J=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(e){return function EF(t){return e=>{if(as(e.value)||as(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function bF(t){return e=>{if(as(e.value)||as(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function CF(t){return as(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function DF(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function TF(t){return as(t.value)||$J.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function SF(t){return e=>as(e.value)||!IF(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function AF(t){return e=>IF(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function xF(t){if(!t)return wp;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(as(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return OF(e)}static composeAsync(e){return FF(e)}}function wp(t){return null}function MF(t){return null!=t}function RF(t){return nl(t)?wt(t):t}function NF(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function kF(t,e){return e.map(n=>n(t))}function PF(t){return t.map(e=>function HJ(t){return!t.validate}(e)?e:n=>e.validate(n))}function OF(t){if(!t)return null;const e=t.filter(MF);return 0==e.length?null:function(n){return NF(kF(n,e))}}function Jw(t){return null!=t?OF(PF(t)):null}function FF(t){if(!t)return null;const e=t.filter(MF);return 0==e.length?null:function(n){return function LJ(...t){const e=Nx(t),{args:n,keys:r}=mF(t),i=new Ge(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;jn(n[l]).subscribe(pt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?_F(r,a):a),s.complete())}))}});return e?i.pipe(yF(e)):i}(kF(n,e).map(RF)).pipe(fe(NF))}}function Zw(t){return null!=t?FF(PF(t)):null}function LF(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function VF(t){return t._rawValidators}function UF(t){return t._rawAsyncValidators}function eI(t){return t?Array.isArray(t)?t:[t]:[]}function Ip(t,e){return Array.isArray(t)?t.includes(e):t===e}function BF(t,e){const n=eI(e);return eI(t).forEach(i=>{Ip(n,i)||n.push(i)}),n}function jF(t,e){return eI(e).filter(n=>!Ip(t,n))}class $F{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class In extends $F{get formDirective(){return null}get path(){return null}}class cs extends $F{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vl=(()=>{class t extends HF{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(cs,2))};static#t=this.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&$f("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ce]})}return t})(),wl=(()=>{class t extends HF{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(In,10))};static#t=this.\u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&$f("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ce]})}return t})();const Il="VALID",bp="INVALID",Ja="PENDING",El="DISABLED";function rI(t){return(Cp(t)?t.validators:t)||null}function iI(t,e){return(Cp(e)?e.asyncValidators:t)||null}function Cp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function zF(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function qF(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Dp{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Il}get invalid(){return this.status===bp}get pending(){return this.status==Ja}get disabled(){return this.status===El}get enabled(){return this.status!==El}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jF(e,this._rawAsyncValidators))}hasValidator(e){return Ip(this._rawValidators,e)}hasAsyncValidator(e){return Ip(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ja,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=El,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Il,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Il||this.status===Ja)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?El:Il}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ja,this._hasOwnPendingAsyncValidator=!0;const n=RF(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?El:this.errors?bp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ja)?Ja:this._anyControlsHaveStatus(bp)?bp:Il}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function WJ(t){return Array.isArray(t)?Jw(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function KJ(t){return Array.isArray(t)?Zw(t):t||null}(this._rawAsyncValidators)}}class bl extends Dp{constructor(e,n,r){super(rI(n),iI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){qF(this,0,e),Object.keys(e).forEach(r=>{zF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class WF extends bl{}const to=new F("CallSetDisabledState",{providedIn:"root",factory:()=>Cl}),Cl="always";function Dl(t,e,n=Cl){sI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function YJ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&KF(t,e)})}(t,e),function JJ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function XJ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&KF(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function QJ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Sp(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ap(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function sI(t,e){const n=VF(t);null!==e.validator?t.setValidators(LF(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=UF(t);null!==e.asyncValidator?t.setAsyncValidators(LF(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ap(e._rawValidators,i),Ap(e._rawAsyncValidators,i)}function xp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=VF(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=UF(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Ap(e._rawValidators,r),Ap(e._rawAsyncValidators,r),n}function KF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function XF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function JF(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Sl=class extends Dp{constructor(e=null,n,r){super(rI(n),iI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=JF(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){JF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Al=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),iL=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({})}return t})();const lI=new F("NgModelWithFormControlWarning"),hZ={provide:In,useExisting:ke(()=>no)};let no=(()=>{class t extends In{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Me,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Dl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Sp(n.control||null,n,!1),function nZ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function YF(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Sp(r||null,n),(t=>t instanceof Sl)(i)&&(Dl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function QF(t,e){sI(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function ZJ(t,e){return xp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sI(this.form,this),this._oldForm&&xp(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(b(rn,10),b(us,10),b(to,8))};static#t=this.\u0275dir=Y({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&De("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([hZ]),Ce,ir]})}return t})();const gZ={provide:cs,useExisting:ke(()=>Za)};let Za=(()=>{class t extends cs{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Me,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function uI(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===eo?n=s:function tZ(t){return Object.getPrototypeOf(t.constructor)===Zs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function aI(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Tp(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(b(In,13),b(rn,10),b(us,10),b(Hr,10),b(lI,8))};static#n=this.\u0275dir=Y({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([gZ]),Ce,ir]})}return t})(),wL=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({imports:[iL]})}return t})();class IL extends Dp{constructor(e,n,r){super(rI(n),iI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){qF(this,0,e),e.forEach((r,i)=>{zF(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function EL(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Mp=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return EL(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new bl(i,s)}record(n,r=null){const i=this._reduceControls(n);return new WF(i,r)}control(n,r,i){let s={};return this.useNonNullable?(EL(r)?s=r:(s.validators=r,s.asyncValidators=i),new Sl(n,{...s,nonNullable:!0})):new Sl(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new IL(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Sl||n instanceof Dp?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:to,useValue:n.callSetDisabledState??Cl}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({imports:[wL]})}return t})(),RZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:to,useValue:n.callSetDisabledState??Cl}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({imports:[wL]})}return t})();function mI(...t){const e=gc(t),n=Nx(t),{args:r,keys:i}=mF(t);if(0===r.length)return wt([],e);const s=new Ge(function kZ(t,e,n=qi){return r=>{bL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)bL(e,()=>{const c=wt(t[u],e);let l=!1;c.subscribe(pt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>_F(i,o):qi));return n?s.pipe(yF(n)):s}function bL(t,e,n){t?ui(n,t,e):e()}const Rp=fc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function yI(...t){return function PZ(){return Qo(1)}()(wt(t,gc(t)))}function CL(t){return new Ge(e=>{jn(t()).subscribe(e)})}function xl(t,e){const n=xe(t)?t:()=>t,r=i=>i.error(n());return new Ge(e?i=>e.schedule(r,0,i):r)}function _I(){return vt((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class DL extends Ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sn;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sn.EMPTY)}return e}refCount(){return _I()(this)}}function eu(t){return t<=0?()=>Rr:vt((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Di(t,e){return vt((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Np(t){return vt((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function TL(t=FZ){return vt((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function FZ(){return new Rp}function io(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Di((i,s)=>t(i,s,r)):qi,eu(1),n?Np(e):TL(()=>new Rp))}function tu(t,e){return xe(e)?Pt(t,e,1):Pt(t,1)}function jt(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):qi}function so(t){return vt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,o=>{s=jn(t(o,so(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function vI(t){return t<=0?()=>Rr:vt((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ml(t){return vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",Rl=Symbol("RouteTitle");class $Z{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function nu(t){return new $Z(t)}function HZ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Gr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!SL(t[i],e[i]))return!1;return!0}function SL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function AL(t){return t.length>0?t[t.length-1]:null}function ls(t){return function NZ(t){return!!t&&(t instanceof Ge||xe(t.lift)&&xe(t.subscribe))}(t)?t:nl(t)?wt(Promise.resolve(t)):q(t)}const zZ={exact:function RL(t,e,n){if(!oo(t.segments,e.segments)||!kp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!RL(t.children[r],e.children[r],n))return!1;return!0},subset:NL},xL={exact:function qZ(t,e){return Gr(t,e)},subset:function WZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SL(t[n],e[n]))},ignored:()=>!0};function ML(t,e,n){return zZ[n.paths](t.root,e.root,n.matrixParams)&&xL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function NL(t,e,n){return kL(t,e,e.segments,n)}function kL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!oo(i,n)||e.hasChildren()||!kp(i,n,r))}if(t.segments.length===n.length){if(!oo(t.segments,n)||!kp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!NL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(oo(t.segments,i)&&kp(t.segments,i,r)&&t.children[re])&&kL(t.children[re],e,s,r)}}function kp(t,e,n){return e.every((r,i)=>xL[n](t[i].parameters,r.parameters))}class ru{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nu(this.queryParams)),this._queryParamMap}toString(){return YZ.serialize(this)}}class Te{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pp(this)}}class Nl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=nu(this.parameters)),this._parameterMap}toString(){return FL(this)}}function oo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let kl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new wI},providedIn:"root"})}return t})();class wI{parse(e){const n=new aee(e);return new ru(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Pl(e.root,!0)}`,r=function ZZ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Op(n)}=${Op(i)}`).join("&"):`${Op(n)}=${Op(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function XZ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const YZ=new wI;function Pp(t){return t.segments.map(e=>FL(e)).join("/")}function Pl(t,e){if(!t.hasChildren())return Pp(t);if(e){const n=t.children[re]?Pl(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Pl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function QZ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===re?[Pl(t.children[re],!1)]:[`${i}:${Pl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${Pp(t)}/${n[0]}`:`${Pp(t)}/(${n.join("//")})`}}function PL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Op(t){return PL(t).replace(/%3B/gi,";")}function II(t){return PL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fp(t){return decodeURIComponent(t)}function OL(t){return Fp(t.replace(/\+/g,"%20"))}function FL(t){return`${II(t.path)}${function JZ(t){return Object.keys(t).map(e=>`;${II(e)}=${II(t[e])}`).join("")}(t.parameters)}`}const eee=/^[^\/()?;#]+/;function EI(t){const e=t.match(eee);return e?e[0]:""}const tee=/^[^\/()?;=#]+/,ree=/^[^=?&#]+/,see=/^[^&#]+/;class aee{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Te(e,n)),r}parseSegment(){const e=EI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Nl(Fp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function nee(t){const e=t.match(tee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=EI(this.remaining);i&&(r=i,this.capture(r))}e[Fp(n)]=Fp(r)}parseQueryParam(e){const n=function iee(t){const e=t.match(ree);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function oee(t){const e=t.match(see);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=OL(n),s=OL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=EI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new Te([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function LL(t){return t.segments.length>0?new Te([],{[re]:t}):t}function VL(t){const e={};for(const r of Object.keys(t.children)){const s=VL(t.children[r]);if(r===re&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function uee(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new Te(t.segments.concat(e.segments),e.children)}return t}(new Te(t.segments,e))}function ao(t){return t instanceof ru}function UL(t){let e;const i=LL(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Te(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function BL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return bI(i,i,i,n,r);const s=function lee(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $L(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $L(n,e,r)}(e);if(s.toRoot())return bI(i,i,new Te([],{}),n,r);const o=function dee(t,e,n){if(t.isAbsolute)return new Vp(e,!0,0);if(!n)return new Vp(e,!1,NaN);if(null===n.parent)return new Vp(n,!0,0);const r=Lp(t.commands[0])?0:1;return function hee(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Vp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Fl(o.segmentGroup,o.index,s.commands):HL(o.segmentGroup,o.index,s.commands);return bI(i,o.segmentGroup,a,n,r)}function Lp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ol(t){return"object"==typeof t&&null!=t&&t.outlets}function bI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:jL(t,e,n);const a=LL(VL(o));return new ru(a,s,i)}function jL(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:jL(s,e,n)}),new Te(t.segments,r)}class $L{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Lp(r[0]))throw new T(4003,!1);const i=r.find(Ol);if(i&&i!==AL(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function HL(t,e,n){if(t||(t=new Te([],{})),0===t.segments.length&&t.hasChildren())return Fl(t,e,n);const r=function pee(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ol(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!zL(u,c,o))return s;r+=2}else{if(!zL(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Te(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Te(t.segments.slice(r.pathIndex),t.children),Fl(s,0,i)}return r.match&&0===i.length?new Te(t.segments,{}):r.match&&!t.hasChildren()?CI(t,e,n):r.match?Fl(t,0,i):CI(t,e,n)}function Fl(t,e,n){if(0===n.length)return new Te(t.segments,{});{const r=function fee(t){return Ol(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const s=Fl(t.children[re],e,n);return new Te(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=HL(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Te(t.segments,i)}}function CI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ol(s)){const u=gee(s.outlets);return new Te(r,u)}if(0===i&&Lp(n[0])){r.push(new Nl(t.segments[e].path,GL(n[0]))),i++;continue}const o=Ol(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Lp(a)?(r.push(new Nl(o,GL(a))),i+=2):(r.push(new Nl(o,{})),i++)}return new Te(r,{})}function gee(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=CI(new Te([],{}),0,r))}),e}function GL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zL(t,e,n){return t==n.path&&Gr(e,n.parameters)}const Ll="imperative";class zr{constructor(e,n){this.id=e,this.url=n}}class Up extends zr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ds extends zr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vl extends zr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iu extends zr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Bp extends zr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qL extends zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mee extends zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yee extends zr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _ee extends zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vee extends zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wee{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Iee{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Eee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bee{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cee{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dee{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class DI{}class TI{constructor(e){this.url=e}}class Tee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ul,this.attachRef=null}}let Ul=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Tee,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class KL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=SI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=SI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=AI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AI(e,this._root).map(n=>n.value)}}function SI(t,e){if(t===e.value)return e;for(const n of e.children){const r=SI(t,n);if(r)return r}return null}function AI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=AI(t,n);if(r.length)return r.unshift(e),r}return[]}class Ti{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function su(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class QL extends KL{constructor(e,n){super(e),this.snapshot=n,xI(this,e)}toString(){return this.snapshot.toString()}}function YL(t,e){const n=function See(t,e){const o=new jp([],{},{},"",{},re,e,null,{});return new JL("",new Ti(o,[]))}(0,e),r=new tr([new Nl("",{})]),i=new tr({}),s=new tr({}),o=new tr({}),a=new tr(""),u=new ou(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new QL(new Ti(u,[]),n)}class ou{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(fe(c=>c[Rl]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(e=>nu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(e=>nu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function XL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Aee(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jp{get title(){return this.data?.[Rl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JL extends KL{constructor(e,n){super(n),this.url=e,xI(this,n)}toString(){return ZL(this._root)}}function xI(t,e){e.value._routerState=t,e.children.forEach(n=>xI(t,n))}function ZL(t){const e=t.children.length>0?` { ${t.children.map(ZL).join(", ")} } `:"";return`${t.value}${e}`}function MI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Gr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Gr(e.params,n.params)||t.paramsSubject.next(n.params),function GZ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Gr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Gr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function RI(t,e){const n=Gr(t.params,e.params)&&function KZ(t,e){return oo(t,e)&&t.every((n,r)=>Gr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||RI(t.parent,e.parent))}let NI=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=L(Ul),this.location=L(wr),this.changeDetector=L(tp),this.environmentInjector=L(qn),this.inputBinder=L($p,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new xee(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ir]})}return t})();class xee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ou?this.route:e===Ul?this.childContexts:this.parent.get(e,n)}}const $p=new F("");let e2=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=mI([r.queryParams,r.params,r.data]).pipe(fr(([s,o,a],u)=>(a={...s,...o,...a},0===u?q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function aY(t){const e=ce(t);if(!e)return null;const n=new Xc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Bl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Ree(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bl(t,r,i);return Bl(t,r)})}(t,e,n);return new Ti(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bl(t,a)),o}}const r=function Nee(t){return new ou(new tr(t.url),new tr(t.params),new tr(t.queryParams),new tr(t.fragment),new tr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Bl(t,s));return new Ti(r,i)}}const kI="ngNavigationCancelingError";function t2(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=n2(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function n2(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[kI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function r2(t){return t&&t[kI]}let i2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Jt({type:t,selectors:[["ng-component"]],standalone:!0,features:[eP],decls:1,vars:0,template:function(r,i){1&r&&Re(0,"router-outlet")},dependencies:[NI],encapsulation:2})}return t})();function PI(t){const e=t.children&&t.children.map(PI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=i2),n}function br(t){return t.outlet||re}function jl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Bee{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),MI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=su(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=su(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=su(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=su(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Dee(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bee(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(MI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),MI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=jl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class s2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hp{constructor(e,n){this.component=e,this.route=n}}function jee(t,e,n){const r=t._root;return $l(r,e?e._root:null,n,[r.value])}function au(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function yq(t){return null!==Mh(t)}(t)?e.get(t):t:r}function $l(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=su(e);return t.children.forEach(o=>{(function Hee(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Gee(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!oo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!oo(t.url,e.url)||!Gr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RI(t,e)||!Gr(t.queryParams,e.queryParams);default:return!RI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new s2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$l(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hp(a.outlet.component,o))}else o&&Hl(e,a,i),i.canActivateChecks.push(new s2(r)),$l(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Hl(a,n.getContext(o),i)),i}function Hl(t,e,n){const r=su(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Hl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Hp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gl(t){return"function"==typeof t}function o2(t){return t instanceof Rp||"EmptyError"===t?.name}const Gp=Symbol("INITIAL_VALUE");function uu(){return fr(t=>mI(t.map(e=>e.pipe(eu(1),function OZ(...t){const e=gc(t);return vt((n,r)=>{(e?yI(t,n,e):yI(t,n)).subscribe(r)})}(Gp)))).pipe(fe(e=>{for(const n of e)if(!0!==n){if(n===Gp)return Gp;if(!1===n||n instanceof ru)return n}return!0}),Di(e=>e!==Gp),eu(1)))}function a2(t){return function wz(...t){return px(t)}(jt(e=>{if(ao(e))throw t2(0,e)}),fe(e=>!0===e))}class zp{constructor(e){this.segmentGroup=e||null}}class u2{constructor(e){this.urlTree=e}}function cu(t){return xl(new zp(t))}function c2(t){return xl(new u2(t))}class lte{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[re])return xl(new T(4e3,!1));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ru(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Te(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const OI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dte(t,e,n,r,i){const s=FI(t,e,n);return s.matched?(r=function Pee(t,e){return t.providers&&!t._injector&&(t._injector=Wv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function ate(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=au(o,t);return ls(function Yee(t){return t&&Gl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(uu(),a2()):q(!0)}(r,e,n).pipe(fe(o=>!0===o?s:{...OI}))):q(s)}function FI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...OI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||HZ)(n,t,e);if(!i)return{...OI};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function l2(t,e,n,r){return n.length>0&&function pte(t,e,n){return n.some(r=>qp(t,e,r)&&br(r)!==re)}(t,n,r)?{segmentGroup:new Te(e,fte(r,new Te(n,t.children))),slicedSegments:[]}:0===n.length&&function gte(t,e,n){return n.some(r=>qp(t,e,r))}(t,n,r)?{segmentGroup:new Te(t.segments,hte(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function hte(t,e,n,r,i){const s={};for(const o of r)if(qp(t,n,o)&&!i[br(o)]){const a=new Te([],{});s[br(o)]=a}return{...i,...s}}function fte(t,e){const n={};n[re]=e;for(const r of t)if(""===r.path&&br(r)!==re){const i=new Te([],{});n[br(r)]=i}return n}function qp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class vte{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new lte(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=l2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(so(n=>{if(n instanceof u2)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof zp?this.noMatchError(n):n}),fe(n=>{const r=new jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Ti(r,n),s=new JL("",i),o=function cee(t,e,n=null,r=null){return BL(UL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,re).pipe(so(r=>{throw r instanceof zp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=XL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wt(i).pipe(tu(s=>{const o=r.children[s],a=function Vee(t,e){const n=t.filter(r=>br(r)===e);return n.push(...t.filter(r=>br(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function VZ(t,e){return vt(function LZ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(pt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Np(null),function UZ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Di((i,s)=>t(i,s,r)):qi,vI(1),n?Np(e):TL(()=>new Rp))}(),Pt(s=>{if(null===s)return cu(r);const o=d2(s);return function wte(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(o),q(o)}))}processSegment(e,n,r,i,s,o){return wt(n).pipe(tu(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(so(u=>{if(u instanceof zp)return q(null);throw u}))),io(a=>!!a),so(a=>{if(o2(a))return function yte(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?q([]):cu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function mte(t,e,n,r){return!!(br(t)===r||r!==re&&qp(e,n,t))&&("**"===t.path||FI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):cu(i):cu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?c2(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Pt(o=>{const a=new Te(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=FI(n,i,s);if(!a)return cu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?c2(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Pt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?AL(i).parameters:{};a=q({snapshot:new jp(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h2(r),br(r),r.component??r._loadedComponent??null,r,f2(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=dte(n,r,i,e).pipe(fe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new jp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h2(r),br(r),r.component??r._loadedComponent??null,r,f2(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(fr(u=>null===u?cu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(fr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=l2(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(fe(v=>null===v?null:[new Ti(d,v)]));if(0===c.length&&0===g.length)return q([new Ti(d,[])]);const m=br(r)===s;return this.processSegment(l,c,p,g,m?re:s,!0).pipe(fe(v=>[new Ti(d,v)]))}))))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?q({routes:n._loadedRoutes,injector:n._loadedInjector}):function ote(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=au(o,t);return ls(function qee(t){return t&&Gl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(uu(),a2())}(e,n,r).pipe(Pt(i=>i?this.configLoader.loadChildren(e,n).pipe(jt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function cte(t){return xl(n2(!1,3))}())):q({routes:[],injector:e})}}function Ite(t){const e=t.value.routeConfig;return e&&""===e.path}function d2(t){const e=[],n=new Set;for(const r of t){if(!Ite(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=d2(r.children);e.push(new Ti(r.value,i))}return e.filter(r=>!n.has(r))}function h2(t){return t.data||{}}function f2(t){return t.resolve||{}}function p2(t){return"string"==typeof t.title||null===t.title}function LI(t){return fr(e=>{const n=t(e);return n?wt(n).pipe(fe(()=>e)):q(e)})}const lu=new F("ROUTES");let VI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(qP)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ls(n.loadComponent()).pipe(fe(g2),jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ml(()=>{this.componentLoaders.delete(n)})),i=new DL(r,()=>new hr).pipe(_I());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Ate(t,e,n,r){return ls(t.loadChildren()).pipe(fe(g2),Pt(i=>i instanceof J1||Array.isArray(i)?q(i):wt(e.compileModuleAsync(i))),fe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(lu,[],{optional:!0,self:!0}).flat()),{routes:o.map(PI),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ml(()=>{this.childrenLoaders.delete(r)})),o=new DL(s,()=>new hr).pipe(_I());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function g2(t){return function xte(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Wp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new hr,this.transitionAbortSubject=new hr,this.configLoader=L(VI),this.environmentInjector=L(qn),this.urlSerializer=L(kl),this.rootContexts=L(Ul),this.inputBindingEnabled=null!==L($p,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Iee(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new wee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new tr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ll,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Di(s=>0!==s.id),fe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),fr(s=>{this.currentTransition=s;let o=!1,a=!1;return q(s).pipe(jt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new iu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Rr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(fr(h=>{const f=this.transitions?.getValue();return this.events.next(new Up(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Rr:Promise.resolve(h)}),function Ete(t,e,n,r,i,s){return Pt(o=>function _te(t,e,n,r,i,s,o="emptyOnly"){return new vte(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(fe(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),jt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new qL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new Up(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const _=YL(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},q(s)}{const h="";return this.events.next(new iu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Rr}}),jt(u=>{const c=new mee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),fe(u=>(this.currentTransition=s={...u,guards:jee(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function Jee(t,e){return Pt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?q({...n,guardsResult:!0}):function Zee(t,e,n,r){return wt(t).pipe(Pt(i=>function ste(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const u=jl(e)??i,c=au(a,u);return ls(function Qee(t){return t&&Gl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(io())})).pipe(uu()):q(!0)}(i.component,i.route,n,e,r)),io(i=>!0!==i,!0))}(o,r,i,t).pipe(Pt(a=>a&&function zee(t){return"boolean"==typeof t}(a)?function ete(t,e,n,r){return wt(e).pipe(tu(i=>yI(function nte(t,e){return null!==t&&e&&e(new Eee(t)),q(!0)}(i.route.parent,r),function tte(t,e){return null!==t&&e&&e(new Cee(t)),q(!0)}(i.route,r),function ite(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function $ee(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>CL(()=>q(o.guards.map(u=>{const c=jl(o.node)??n,l=au(u,c);return ls(function Kee(t){return t&&Gl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(io())})).pipe(uu())));return q(s).pipe(uu())}(t,i.path,n),function rte(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>CL(()=>{const o=jl(e)??n,a=au(s,o);return ls(function Wee(t){return t&&Gl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(io())}));return q(i).pipe(uu())}(t,i.route,n))),io(i=>!0!==i,!0))}(r,s,t,e):q(a)),fe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),jt(u=>{if(s.guardsResult=u.guardsResult,ao(u.guardsResult))throw t2(0,u.guardsResult);const c=new yee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Di(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),LI(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(jt(c=>{const l=new _ee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),fr(c=>{let l=!1;return q(c).pipe(function bte(t,e){return Pt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=0;return wt(i).pipe(tu(o=>function Cte(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!p2(i)&&(s[Rl]=i.title),function Dte(t,e,n,r){const i=function Tte(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return q({});const s={};return wt(i).pipe(Pt(o=>function Ste(t,e,n,r){const i=jl(e)??r,s=au(t,i);return ls(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(io(),jt(a=>{s[o]=a}))),vI(1),function BZ(t){return fe(()=>t)}(s),so(o=>o2(o)?Rr:xl(o)))}(s,t,e,r).pipe(fe(o=>(t._resolvedData=o,t.data=XL(t,n).resolve,i&&p2(i)&&(t.data[Rl]=i.title),null)))}(o.route,r,t,e)),jt(()=>s++),vI(1),Pt(o=>s===i.length?q(n):Rr))})}(n.paramsInheritanceStrategy,this.environmentInjector),jt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),jt(c=>{const l=new vee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),LI(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(jt(h=>{l.component=h}),fe(()=>{})));for(const h of l.children)d.push(...c(h));return d};return mI(c(u.targetSnapshot.root)).pipe(Np(),eu(1))}),LI(()=>this.afterPreactivation()),fe(u=>{const c=function Mee(t,e,n){const r=Bl(t,e._root,n?n._root:void 0);return new QL(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),jt(()=>{this.events.next(new DI)}),((t,e,n,r)=>fe(i=>(new Bee(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),eu(1),jt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ds(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function jZ(t){return vt((e,n)=>{jn(t).subscribe(pt(n,()=>n.complete(),vy)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(jt(u=>{throw u}))),Ml(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),so(u=>{if(a=!0,r2(u))this.events.next(new Vl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function kee(t){return r2(t)&&ao(t.url)}(u)?this.events.next(new TI(u.url)):s.resolve(!1);else{this.events.next(new Bp(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Rr}))}))}cancelNavigationTransition(n,r,i){const s=new Vl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function m2(t){return t!==Ll}let y2=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Rl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return L(Mte)},providedIn:"root"})}return t})(),Mte=(()=>{class t extends y2{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(B(hF))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return L(kte)},providedIn:"root"})}return t})();class Nte{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let kte=(()=>{class t extends Nte{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ut(t)))(i||t)}}();static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Kp=new F("",{providedIn:"root",factory:()=>({})});let Pte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return L(Ote)},providedIn:"root"})}return t})(),Ote=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(zl||{});function _2(t,e){t.events.pipe(Di(n=>n instanceof ds||n instanceof Vl||n instanceof Bp||n instanceof iu),fe(n=>n instanceof ds||n instanceof iu?zl.COMPLETE:n instanceof Vl&&(0===n.code||1===n.code)?zl.REDIRECTING:zl.FAILED),Di(n=>n!==zl.REDIRECTING),eu(1)).subscribe(()=>{e()})}function Fte(t){throw t}function Lte(t,e,n){return e.parse("/")}const Vte={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ute={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(zP),this.isNgZoneEnabled=!1,this._events=new hr,this.options=L(Kp,{optional:!0})||{},this.pendingTasks=L(Xf),this.errorHandler=this.options.errorHandler||Fte,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Lte,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(Pte),this.routeReuseStrategy=L(Rte),this.titleStrategy=L(y2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(lu,{optional:!0})?.flat()??[],this.navigationTransitions=L(Wp),this.urlSerializer=L(kl),this.location=L(Tw),this.componentInputBindingEnabled=!!L($p,{optional:!0}),this.eventsSubscription=new Sn,this.isNgZoneEnabled=L(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ru,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=YL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(v2(r)&&this._events.next(r));if(r instanceof Up)m2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof iu)this.rawUrlTree=i.rawUrl;else if(r instanceof qL){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof DI)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Vl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof TI){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||m2(i.source)};this.scheduleNavigation(s,Ll,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Bp&&this.restoreHistory(i,!0),r instanceof ds&&(this.navigated=!0),v2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ll,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(PI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=UL(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return BL(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ao(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ll,null,r)}navigate(n,r={skipLocationChange:!1}){return function Bte(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Vte}:!1===r?{...Ute}:r,ao(n))return ML(this.currentUrlTree,n,i);const s=this.parseUrl(n);return ML(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return _2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function v2(t){return!(t instanceof DI||t instanceof TI)}let du=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new hr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof ds&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function eN(t,e,n){return function E9(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ZR:$c}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(b(sn),b(ou),function Xh(t){return function H3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(qx(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Vt(),t)}("tabindex"),b(mi),b(Wn),b(Js))};static#t=this.\u0275dir=Y({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&De("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Br("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ya],skipLocationChange:["skipLocationChange","skipLocationChange",Ya],replaceUrl:["replaceUrl","replaceUrl",Ya],routerLink:"routerLink"},standalone:!0,features:[pk,ir]})}return t})();class w2{}let Hte=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Di(n=>n instanceof ds),tu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Wv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return wt(i).pipe(Qo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):q(null);const s=i.pipe(Pt(o=>null===o?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?wt([s,this.loader.loadComponent(r)]).pipe(Qo()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(B(sn),B(qP),B(qn),B(w2),B(VI))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const UI=new F("");let I2=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ds?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof iu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof WL&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new WL(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function jN(){throw new Error("invalid")}()};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Si(t,e){return{\u0275kind:t,\u0275providers:e}}function b2(){const t=L(tn);return e=>{const n=t.get(Qa);if(e!==n.components[0])return;const r=t.get(sn),i=t.get(C2);1===t.get(BI)&&r.initialNavigation(),t.get(D2,null,se.Optional)?.setUpPreloading(),t.get(UI,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const C2=new F("",{factory:()=>new hr}),BI=new F("",{providedIn:"root",factory:()=>1}),D2=new F("");function Wte(t){return Si(0,[{provide:D2,useExisting:Hte},{provide:w2,useExisting:t}])}const T2=new F("ROUTER_FORROOT_GUARD"),Qte=[Tw,{provide:kl,useClass:wI},sn,Ul,{provide:ou,useFactory:function E2(t){return t.routerState.root},deps:[sn]},VI,[]];function Yte(){return new ZP("Router",sn)}let S2=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Qte,[],{provide:lu,multi:!0,useValue:n},{provide:T2,useFactory:ene,deps:[[sn,new Tt,new ef]]},{provide:Kp,useValue:r||{}},r?.useHash?{provide:Js,useClass:hY}:{provide:Js,useClass:xO},{provide:UI,useFactory:()=>{const t=L(MX),e=L(Ee),n=L(Kp),r=L(Wp),i=L(kl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new I2(i,r,t,e,n)}},r?.preloadingStrategy?Wte(r.preloadingStrategy).\u0275providers:[],{provide:ZP,multi:!0,useFactory:Yte},r?.initialNavigation?tne(r):[],r?.bindToComponentInputs?Si(8,[e2,{provide:$p,useExisting:e2}]).\u0275providers:[],[{provide:A2,useFactory:b2},{provide:mw,multi:!0,useExisting:A2}]]}}static forChild(n){return{ngModule:t,providers:[{provide:lu,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(T2,8))};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({})}return t})();function ene(t){return"guarded"}function tne(t){return["disabled"===t.initialNavigation?Si(3,[{provide:uw,multi:!0,useFactory:()=>{const e=L(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:BI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Si(2,[{provide:BI,useValue:0},{provide:uw,multi:!0,deps:[tn],useFactory:e=>{const n=e.get(lY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(sn),s=e.get(C2);_2(i,()=>{r(!0)}),e.get(Wp).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const A2=new F("");function x2(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){x2(s,r,i,o,a,"next",u)}function a(u){x2(s,r,i,o,a,"throw",u)}o(void 0)})}}const M2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new one;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class one extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qp=function(t){return function(t){const e=M2(t);return $I.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Yp=function(t){try{return $I.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Xp=()=>{try{return function cne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},N2=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Xp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},k2=()=>{var t;return null===(t=Xp())||void 0===t?void 0:t.config};class Jp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function P2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qp(JSON.stringify({alg:"none",type:"JWT"})),Qp(JSON.stringify(o)),""].join(".")}function Xn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function HI(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function uo(){try{return"object"==typeof indexedDB}catch{return!1}}function ql(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function GI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qr.prototype.create)}}class qr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function _ne(t,e){return t.replace(vne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new cr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const vne=/\{\$([^}]+)}/g;function zI(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(L2(s)&&L2(o)){if(!zI(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L2(t){return null!==t&&"object"==typeof t}function V2(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Ine{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Ene(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=qI),void 0===i.error&&(i.error=qI),void 0===i.complete&&(i.complete=qI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qI(){}const bne=1e3,Cne=2,Dne=144e5,Tne=.5;function KI(t,e=bne,n=Cne){const r=e*Math.pow(n,t),i=Math.round(Tne*r*(Math.random()-.5)*2);return Math.min(Dne,r+i)}function $t(t){return t&&t._delegate?t._delegate:t}class Ht{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class Ane{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Mne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===co?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ane(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const QI=[];var pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{});const U2={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Nne=pe.INFO,kne={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},Pne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=kne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class hu{constructor(e){this.name=e,this._logLevel=Nne,this._logHandler=Pne,this._userLogHandler=null,QI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?U2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const One=(t,e)=>e.some(n=>t instanceof n);let B2,j2;const $2=new WeakMap,YI=new WeakMap,H2=new WeakMap,XI=new WeakMap,JI=new WeakMap;let ZI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return YI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||H2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $ne(t){return"function"==typeof t?function jne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lne(){return j2||(j2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(eE(this),e),hs($2.get(this))}:function(...e){return hs(t.apply(eE(this),e))}:function(e,...n){const r=t.call(eE(this),e,...n);return H2.set(r,e.sort?e.sort():[e]),hs(r)}}(t):(t instanceof IDBTransaction&&function Une(t){if(YI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});YI.set(t,e)}(t),One(t,function Fne(){return B2||(B2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ZI):t)}function hs(t){if(t instanceof IDBRequest)return function Vne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$2.set(n,t)}).catch(()=>{}),JI.set(e,t),e}(t);if(XI.has(t))return XI.get(t);const e=$ne(t);return e!==t&&(XI.set(t,e),JI.set(e,t)),e}const eE=t=>JI.get(t),Gne=["get","getKey","getAll","getAllKeys","count"],zne=["put","add","delete","clear"],tE=new Map;function G2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tE.get(e))return tE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Gne.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return tE.set(e,s),s}!function Bne(t){ZI=t(ZI)}(t=>({...t,get:(e,n,r)=>G2(e,n)||t.get(e,n,r),has:(e,n)=>!!G2(e,n)||t.has(e,n)}));class qne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Wne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const nE="@firebase/app",lo=new hu("@firebase/app"),eg="[DEFAULT]",vre={[nE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ho=new Map,tg=new Map;function wre(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if(tg.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const n of ho.values())wre(n,t);return!0}function Wl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ai=new qr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ere{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const fu="9.23.0";function q2(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=k2()),!n)throw Ai.create("no-options");const s=ho.get(i);if(s){if(zI(n,s.options)&&zI(r,s.config))return s;throw Ai.create("duplicate-app",{appName:i})}const o=new Rne(i);for(const u of tg.values())o.addComponent(u);const a=new Ere(n,r,o);return ho.set(i,a),a}function rE(t=eg){const e=ho.get(t);if(!e&&t===eg&&k2())return q2();if(!e)throw Ai.create("no-app",{appName:t});return e}function W2(){return Array.from(ho.values())}function We(t,e,n){var r;let i=null!==(r=vre[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void lo.warn(a.join(" "))}on(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const bre="firebase-heartbeat-database",Cre=1,Kl="firebase-heartbeat-store";let sE=null;function K2(){return sE||(sE=function Hne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hs(o.result),u.oldVersion,u.newVersion,hs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(bre,Cre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Kl)}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),sE}function oE(){return(oE=y(function*(t){try{return yield(yield K2()).transaction(Kl).objectStore(Kl).get(Y2(t))}catch(e){if(e instanceof cr)lo.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e?.message});lo.warn(n.message)}}})).apply(this,arguments)}function Q2(t,e){return aE.apply(this,arguments)}function aE(){return(aE=y(function*(t,e){try{const r=(yield K2()).transaction(Kl,"readwrite");yield r.objectStore(Kl).put(e,Y2(t)),yield r.done}catch(n){if(n instanceof cr)lo.warn(n.message);else{const r=Ai.create("idb-set",{originalErrorMessage:n?.message});lo.warn(r.message)}}})).apply(this,arguments)}function Y2(t){return`${t.name}!${t.options.appId}`}class Are{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=X2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=X2(),{heartbeatsToSend:r,unsentEntries:i}=function xre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),J2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Qp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function X2(){return(new Date).toISOString().substring(0,10)}class Mre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!uo()&&ql().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Dre(t){return oE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Q2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Q2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function J2(t){return Qp(JSON.stringify({version:2,heartbeats:t})).length}!function Rre(t){on(new Ht("platform-logger",e=>new qne(e),"PRIVATE")),on(new Ht("heartbeat",e=>new Are(e),"PRIVATE")),We(nE,"0.9.13",t),We(nE,"0.9.13","esm2017"),We("fire-js","")}(""),We("firebase","9.23.0","app");const Pre=(t,e)=>e.some(n=>t instanceof n);let Z2,eV;const tV=new WeakMap,uE=new WeakMap,nV=new WeakMap,cE=new WeakMap,lE=new WeakMap;let dE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return uE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||nV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function jre(t){return"function"==typeof t?function Bre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fre(){return eV||(eV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(hE(this),e),fs(tV.get(this))}:function(...e){return fs(t.apply(hE(this),e))}:function(e,...n){const r=t.call(hE(this),e,...n);return nV.set(r,e.sort?e.sort():[e]),fs(r)}}(t):(t instanceof IDBTransaction&&function Vre(t){if(uE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});uE.set(t,e)}(t),Pre(t,function Ore(){return Z2||(Z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,dE):t)}function fs(t){if(t instanceof IDBRequest)return function Lre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tV.set(n,t)}).catch(()=>{}),lE.set(e,t),e}(t);if(cE.has(t))return cE.get(t);const e=jre(t);return e!==t&&(cE.set(t,e),lE.set(e,t)),e}const hE=t=>lE.get(t),Hre=["get","getKey","getAll","getAllKeys","count"],Gre=["put","add","delete","clear"],fE=new Map;function rV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(fE.get(e))return fE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Gre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hre.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return fE.set(e,s),s}!function Ure(t){dE=t(dE)}(t=>({...t,get:(e,n,r)=>rV(e,n)||t.get(e,n,r),has:(e,n)=>!!rV(e,n)||t.has(e,n)}));const iV="@firebase/installations",pE="0.6.4",sV=1e4,oV=`w:${pE}`,aV="FIS_v2",zre="https://firebaseinstallations.googleapis.com/v1",qre=36e5,xi=new qr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function uV(t){return t instanceof cr&&t.code.includes("request-failed")}function gE({projectId:t}){return`${zre}/projects/${t}/installations`}function cV(t){return{token:t.token,requestStatus:2,expiresIn:Yre(t.expiresIn),creationTime:Date.now()}}function mE(t,e){return yE.apply(this,arguments)}function yE(){return(yE=y(function*(t,e){const r=(yield e.json()).error;return xi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function lV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _E(t){return vE.apply(this,arguments)}function vE(){return(vE=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Yre(t){return Number(t.replace("s","000"))}function wE(){return(wE=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gE(t),i=lV(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:aV,appId:t.appId,sdkVersion:oV})},u=yield _E(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:cV(c.authToken)}}throw yield mE("Create Installation",u)})).apply(this,arguments)}function hV(t){return new Promise(e=>{setTimeout(e,t)})}const eie=/^[cdef][\w-]{21}$/,IE="";function tie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function nie(t){return function Zre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return eie.test(n)?n:IE}catch{return IE}}function pu(t){return`${t.appName}!${t.appId}`}const gu=new Map;function fV(t,e){const n=pu(t);pV(n,e),function sie(t,e){const n=function gV(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{pV(t.data.key,t.data.fid)}),fo}();n&&n.postMessage({key:t,fid:e}),function mV(){0===gu.size&&fo&&(fo.close(),fo=null)}()}(n,e)}function pV(t,e){const n=gu.get(t);if(n)for(const r of n)r(e)}let fo=null;const oie="firebase-installations-database",aie=1,po="firebase-installations-store";let EE=null;function bE(){return EE||(EE=function $re(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fs(o.result),u.oldVersion,u.newVersion,fs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(oie,aie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(po)}})),EE}function ng(t,e){return CE.apply(this,arguments)}function CE(){return(CE=y(function*(t,e){const n=pu(t),i=(yield bE()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&fV(t,e.fid),e})).apply(this,arguments)}function DE(t){return TE.apply(this,arguments)}function TE(){return(TE=y(function*(t){const e=pu(t),r=(yield bE()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.done})).apply(this,arguments)}function Ql(t,e){return SE.apply(this,arguments)}function SE(){return(SE=y(function*(t,e){const n=pu(t),i=(yield bE()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&fV(t,a.fid),a})).apply(this,arguments)}function AE(t){return xE.apply(this,arguments)}function xE(){return xE=y(function*(t){let e;const n=yield Ql(t.appConfig,r=>{const i=function uie(t){return _V(t||{fid:tie(),registrationStatus:0})}(r),s=function cie(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function lie(t,e){return ME.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:die(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===IE?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),xE.apply(this,arguments)}function ME(){return ME=y(function*(t,e){try{const n=yield function Jre(t,e){return wE.apply(this,arguments)}(t,e);return ng(t.appConfig,n)}catch(n){throw uV(n)&&409===n.customData.serverCode?yield DE(t.appConfig):yield ng(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),ME.apply(this,arguments)}function die(t){return RE.apply(this,arguments)}function RE(){return(RE=y(function*(t){let e=yield yV(t.appConfig);for(;1===e.registrationStatus;)yield hV(100),e=yield yV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield AE(t);return r||n}return e})).apply(this,arguments)}function yV(t){return Ql(t,e=>{if(!e)throw xi.create("installation-not-found");return _V(e)})}function _V(t){return function hie(t){return 1===t.registrationStatus&&t.registrationTime+sV<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function NE(){return(NE=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function pie(t,{fid:e}){return`${gE(t)}/${e}/authTokens:generate`}(t,n),i=function dV(t,{refreshToken:e}){const n=lV(t);return n.append("Authorization",function Xre(t){return`${aV} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:oV,appId:t.appId}})},u=yield _E(()=>fetch(r,a));if(u.ok)return cV(yield u.json());throw yield mE("Generate Auth Token",u)})).apply(this,arguments)}function kE(t){return PE.apply(this,arguments)}function PE(){return PE=y(function*(t,e=!1){let n;const r=yield Ql(t.appConfig,s=>{if(!wV(s))throw xi.create("not-registered");const o=s.authToken;if(!e&&function yie(t){return 2===t.requestStatus&&!function _ie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qre}(t)}(o))return s;if(1===o.requestStatus)return n=function gie(t,e){return OE.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw xi.create("app-offline");const a=function vie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function mie(t,e){return FE.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),PE.apply(this,arguments)}function OE(){return(OE=y(function*(t,e){let n=yield vV(t.appConfig);for(;1===n.authToken.requestStatus;)yield hV(100),n=yield vV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?kE(t,e):r})).apply(this,arguments)}function vV(t){return Ql(t,e=>{if(!wV(e))throw xi.create("not-registered");return function wie(t){return 1===t.requestStatus&&t.requestTime+sV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function FE(){return FE=y(function*(t,e){try{const n=yield function fie(t,e){return NE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ng(t.appConfig,r),n}catch(n){if(!uV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ng(t.appConfig,r)}else yield DE(t.appConfig);throw n}}),FE.apply(this,arguments)}function wV(t){return void 0!==t&&2===t.registrationStatus}function LE(){return(LE=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield AE(e);return r?r.catch(console.error):kE(e).catch(console.error),n.fid})).apply(this,arguments)}function VE(){return VE=y(function*(t,e=!1){const n=t;return yield function bie(t){return UE.apply(this,arguments)}(n),(yield kE(n,e)).token}),VE.apply(this,arguments)}function UE(){return(UE=y(function*(t){const{registrationPromise:e}=yield AE(t);e&&(yield e)})).apply(this,arguments)}function $E(t){return xi.create("missing-app-config-values",{valueName:t})}const IV="installations",Aie=t=>{const e=t.getProvider("app").getImmediate(),n=function Tie(t){if(!t||!t.options)throw $E("App Configuration");if(!t.name)throw $E("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $E(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Wl(e,"heartbeat"),_delete:()=>Promise.resolve()}},xie=t=>{const n=Wl(t.getProvider("app").getImmediate(),IV).getImmediate();return{getId:()=>function Iie(t){return LE.apply(this,arguments)}(n),getToken:i=>function Eie(t){return VE.apply(this,arguments)}(n,i)}};(function Mie(){on(new Ht(IV,Aie,"PUBLIC")),on(new Ht("installations-internal",xie,"PRIVATE"))})(),We(iV,pE),We(iV,pE,"esm2017");const HE="@firebase/remote-config",On=new qr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jie{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function $ie(t=navigator){return t.languages&&t.languages[0]||t.language}class Hie{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:$ie()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),On.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw On.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw On.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class qie{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function Gie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function zie(t){if(!(t instanceof cr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+KI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Qie{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ig(t,e){const n=t.target.error||void 0;return On.create(e,{originalErrorMessage:n&&n?.message})}const go="app_namespace_store";class Zie{constructor(e,n,r,i=function Jie(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(ig(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(n){e(On.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readonly").objectStore(go),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(ig(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(On.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([go],"readwrite").objectStore(go),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(ig(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(On.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readwrite").objectStore(go),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(ig(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(On.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ese{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function nse(){return KE.apply(this,arguments)}function KE(){return(KE=y(function*(){if(!uo())return!1;try{return yield ql()}catch{return!1}})).apply(this,arguments)}!function tse(){on(new Ht("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw On.create("registration-window");if(!uo())throw On.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw On.create("registration-project-id");if(!o)throw On.create("registration-api-key");if(!a)throw On.create("registration-app-id");const u=new Zie(a,r.name,n=n||"firebase"),c=new ese(u),l=new hu(HE);l.logLevel=pe.ERROR;const d=new Hie(i,fu,n,s,o,a),h=new qie(d,u),f=new jie(h,u,c,l),p=new Qie(r,f,c,u,l);return function Vie(t){const e=$t(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),We(HE,"0.4.4"),We(HE,"0.4.4","esm2017")}();const rse=(t,e)=>e.some(n=>t instanceof n);let DV,TV;const SV=new WeakMap,QE=new WeakMap,AV=new WeakMap,YE=new WeakMap,XE=new WeakMap;let JE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return QE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||AV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lse(t){return"function"==typeof t?function cse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sse(){return TV||(TV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ZE(this),e),Mi(SV.get(this))}:function(...e){return Mi(t.apply(ZE(this),e))}:function(e,...n){const r=t.call(ZE(this),e,...n);return AV.set(r,e.sort?e.sort():[e]),Mi(r)}}(t):(t instanceof IDBTransaction&&function ase(t){if(QE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});QE.set(t,e)}(t),rse(t,function ise(){return DV||(DV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,JE):t)}function Mi(t){if(t instanceof IDBRequest)return function ose(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SV.set(n,t)}).catch(()=>{}),XE.set(e,t),e}(t);if(YE.has(t))return YE.get(t);const e=lse(t);return e!==t&&(YE.set(t,e),XE.set(e,t)),e}const ZE=t=>XE.get(t);function xV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mi(o.result),u.oldVersion,u.newVersion,Mi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function eb(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Mi(n).then(()=>{})}const dse=["get","getKey","getAll","getAllKeys","count"],hse=["put","add","delete","clear"],tb=new Map;function MV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tb.get(e))return tb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dse.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return tb.set(e,s),s}!function use(t){JE=t(JE)}(t=>({...t,get:(e,n,r)=>MV(e,n)||t.get(e,n,r),has:(e,n)=>!!MV(e,n)||t.has(e,n)}));const fse="/firebase-messaging-sw.js",pse="/firebase-cloud-messaging-push-scope",RV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gse="https://fcmregistrations.googleapis.com/v1",NV="google.c.a.c_id",mse="google.c.a.c_l",yse="google.c.a.ts";var sg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(sg||{});function Ri(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wse(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const nb="fcm_token_details_db",Ise=5,kV="fcm_token_object_Store";function rb(){return rb=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(nb))return null;let e=null;return(yield xV(nb,Ise,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(kV))return;const c=a.objectStore(kV),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ri(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ri(d.auth),p256dh:Ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ri(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ri(d.auth),p256dh:Ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ri(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield eb(nb),yield eb("fcm_vapid_details_db"),yield eb("undefined"),function bse(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),rb.apply(this,arguments)}const Cse="firebase-messaging-database",Dse=1,mo="firebase-messaging-store";let ib=null;function sb(){return ib||(ib=xV(Cse,Dse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mo)}})),ib}function PV(t){return ob.apply(this,arguments)}function ob(){return ob=y(function*(t){const e=lb(t),r=yield(yield sb()).transaction(mo).objectStore(mo).get(e);if(r)return r;{const i=yield function Ese(t){return rb.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield ab(t,i),i}}),ob.apply(this,arguments)}function ab(t,e){return ub.apply(this,arguments)}function ub(){return(ub=y(function*(t,e){const n=lb(t),i=(yield sb()).transaction(mo,"readwrite");return yield i.objectStore(mo).put(e,n),yield i.done,e})).apply(this,arguments)}function cb(){return(cb=y(function*(t){const e=lb(t),r=(yield sb()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.done})).apply(this,arguments)}function lb({appConfig:t}){return t.appId}const Gt=new qr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ase(t,e){return db.apply(this,arguments)}function db(){return(db=y(function*(t,e){const n=yield gb(t),r=FV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(pb(t.appConfig),i)).json()}catch(o){throw Gt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function hb(){return(hb=y(function*(t,e){const n=yield gb(t),r=FV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${pb(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Gt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-update-no-token");return s.token})).apply(this,arguments)}function OV(t,e){return fb.apply(this,arguments)}function fb(){return(fb=y(function*(t,e){const r={method:"DELETE",headers:yield gb(t)};try{const s=yield(yield fetch(`${pb(t.appConfig)}/${e}`,r)).json();if(s.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Gt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function pb({projectId:t}){return`${gse}/projects/${t}/registrations`}function gb(t){return mb.apply(this,arguments)}function mb(){return(mb=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function FV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==RV&&(i.web.applicationPubKey=r),i}const Mse=6048e5;function yb(){return yb=y(function*(t){const e=yield function kse(t,e){return Ib.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ri(e.getKey("auth")),p256dh:Ri(e.getKey("p256dh"))},r=yield PV(t.firebaseDependencies);if(r){if(function Pse(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Mse?function Nse(t,e){return vb.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield OV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return VV(t.firebaseDependencies,n)}return VV(t.firebaseDependencies,n)}),yb.apply(this,arguments)}function _b(){return _b=y(function*(t){const e=yield PV(t.firebaseDependencies);e&&(yield OV(t.firebaseDependencies,e.token),yield function Tse(t){return cb.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),_b.apply(this,arguments)}function vb(){return vb=y(function*(t,e){try{const n=yield function xse(t,e){return hb.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield ab(t.firebaseDependencies,r),n}catch(n){throw yield function LV(t){return _b.apply(this,arguments)}(t),n}}),vb.apply(this,arguments)}function VV(t,e){return wb.apply(this,arguments)}function wb(){return(wb=y(function*(t,e){const r={token:yield Ase(t,e),createTime:Date.now(),subscriptionOptions:e};return yield ab(t,r),r.token})).apply(this,arguments)}function Ib(){return(Ib=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wse(e)})})).apply(this,arguments)}function UV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Ose(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Fse(t,e){e.data&&(t.data=e.data)}(e,t),function Lse(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function BV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Eb(t){return Gt.create("missing-app-config-values",{valueName:t})}BV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),BV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bse{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Use(t){if(!t||!t.options)throw Eb("App Configuration Object");if(!t.name)throw Eb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Eb(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function bb(){return(bb=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(fse,{scope:pse}),t.swRegistration.update().catch(()=>{})}catch(e){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Cb(){return(Cb=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function jV(t){return bb.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Db(){return(Db=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=RV)})).apply(this,arguments)}function Tb(){return Tb=y(function*(t,e){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield function $se(t,e){return Db.apply(this,arguments)}(t,e?.vapidKey),yield function jse(t,e){return Cb.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Rse(t){return yb.apply(this,arguments)}(t)}),Tb.apply(this,arguments)}function Sb(){return(Sb=y(function*(t,e,n){const r=function Gse(t){switch(t){case sg.NOTIFICATION_CLICKED:return"notification_open";case sg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[NV],message_name:n[mse],message_time:n[yse],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ab(){return Ab=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===sg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(UV(n)):t.onMessageHandler.next(UV(n)));const r=n.data;(function Vse(t){return"object"==typeof t&&!!t&&NV in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Hse(t,e,n){return Sb.apply(this,arguments)}(t,n.messageType,r))}),Ab.apply(this,arguments)}const HV="@firebase/messaging",qse=t=>{const e=new Bse(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function zse(t,e){return Ab.apply(this,arguments)}(e,n)),e},Wse=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function $V(t,e){return Tb.apply(this,arguments)}(e,r)}};function zV(){return xb.apply(this,arguments)}function xb(){return(xb=y(function*(){try{yield ql()}catch{return!1}return typeof window<"u"&&uo()&&GI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kse(){on(new Ht("messaging",qse,"PUBLIC")),on(new Ht("messaging-internal",Wse,"PRIVATE")),We(HV,"0.12.4"),We(HV,"0.12.4","esm2017")}();const og="analytics",Xse="firebase_id",Jse="origin",Zse=6e4,eoe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nb="https://www.googletagmanager.com/gtag/js",St=new hu("@firebase/analytics"),En=new qr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function noe(t){if(!t.startsWith(Nb)){const e=En.create("invalid-gtag-resource",{gtagURL:t});return St.warn(e.message),""}return t}function qV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kb(){return(kb=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield qV(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)})).apply(this,arguments)}function Pb(){return(Pb=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield qV(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}})).apply(this,arguments)}const doe=30,WV=new class foe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function poe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ob(){return(Ob=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:poe(r)},s=eoe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Fb(){return(Fb=y(function*(t,e=WV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw En.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw En.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new voe;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:Zse),KV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function KV(t,e,n){return Lb.apply(this,arguments)}function Lb(){return Lb=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=WV){var s;const{appId:o,measurementId:a}=t;try{yield function yoe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function goe(t){return Ob.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function _oe(t){if(!(t instanceof cr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?KI(n,i.intervalMillis,doe):KI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),St.debug(`Calling attemptFetch again in ${l} millis`),KV(t,d,r,i)}}),Lb.apply(this,arguments)}class voe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Vb,zb;function Ub(){return(Ub=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function qb(){return(qb=y(function*(){if(!uo())return St.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ql()}catch(t){return St.warn(En.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Wb(){return Wb=y(function*(t,e,n,r,i,s,o){var a;const u=function moe(t){return Fb.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const c=function Toe(){return qb.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function loe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Nb)&&n.src.includes(t))return n;return null})(s)||function ioe(t,e){const n=function roe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:noe}),r=document.createElement("script"),i=`${Nb}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),zb&&(i("consent","default",zb),function QV(t){zb=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Jse]="firebase",h.update=!0,null!=d&&(h[Xse]=d),i("config",l.measurementId,h),Vb&&(i("set",Vb),function YV(t){Vb=t}(void 0)),l.measurementId}),Wb.apply(this,arguments)}class Aoe{constructor(e){this.app=e}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},XV=[];const JV={};let eU,Kr,ag="dataLayer",Kb=!1;function Moe(t,e,n){!function xoe(){const t=[];if(HI()&&t.push("This is a browser extension environment."),GI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw En.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw En.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[r])throw En.create("already-exists",{id:r});if(!Kb){!function soe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ag);const{wrappedGtag:s,gtagCore:o}=function coe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function uoe(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function aoe(t,e,n,r,i){return Pb.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function ooe(t,e,n,r,i,s){return kb.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){St.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Wr,XV,JV,ag,"gtag");Kr=s,eU=o,Kb=!0}return Wr[r]=function Soe(t,e,n,r,i,s,o){return Wb.apply(this,arguments)}(t,XV,JV,e,eU,ag,n),new Aoe(t)}function Noe(){return Qb.apply(this,arguments)}function Qb(){return(Qb=y(function*(){if(HI()||!GI()||!uo())return!1;try{return yield ql()}catch{return!1}})).apply(this,arguments)}const tU="@firebase/analytics";!function Poe(){on(new Ht(og,(e,{options:n})=>Moe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),on(new Ht("analytics-internal",function t(e){try{const n=e.getProvider(og).getImmediate();return{logEvent:(r,i,s)=>function koe(t,e,n,r){t=$t(t),function woe(t,e,n,r,i){return Ub.apply(this,arguments)}(Kr,Wr[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We(tU,"0.10.0"),We(tU,"0.10.0","esm2017")}();class Ooe extends Sn{constructor(e,n){super()}schedule(e,n=0){return this}}const ug={setInterval(t,e,...n){const{delegate:r}=ug;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ug;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class rU extends Ooe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ug.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ug.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ko(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const iU={now:()=>(iU.delegate||Date).now(),delegate:void 0};class Yl{constructor(e,n=Yl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Yl.now=iU.now;class sU extends Yl{constructor(e,n=Yl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Voe=new class Loe extends sU{}(class Foe extends rU{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Uoe=new sU(rU),cg=new Sa("7.6.1"),Xb="__angularfire_symbol__analyticsIsSupportedValue",Jb="__angularfire_symbol__analyticsIsSupported",Zb="__angularfire_symbol__remoteConfigIsSupportedValue",eC="__angularfire_symbol__remoteConfigIsSupported",tC="__angularfire_symbol__messagingIsSupportedValue",nC="__angularfire_symbol__messagingIsSupported";function lg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Jb]||(globalThis[Jb]=Noe().then(t=>globalThis[Xb]=t).catch(()=>globalThis[Xb]=!1)),globalThis[nC]||(globalThis[nC]=zV().then(t=>globalThis[tC]=t).catch(()=>globalThis[tC]=!1)),globalThis[eC]||(globalThis[eC]=nse().then(t=>globalThis[Zb]=t).catch(()=>globalThis[Zb]=!1));const dg=(t,e)=>{const n=e?[e]:W2(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function mu(){}class oU{constructor(e,n=Voe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Boe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mu,{},mu,mu)),n.pipe(jt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let iC=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oU(Zone.current)),this.insideAngular=n.run(()=>new oU(Zone.current,Uoe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B(Ee))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function _o(t){return yo().ngZone.run(()=>t())}function $oe(t){return yo(),function Hoe(t){return function(n){return(n=n.lift(new Boe(t.ngZone))).pipe(Sh(t.outsideAngular),Th(t.insideAngular))}}(yo())(t)}const Goe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_o(()=>t.apply(void 0,r))},Cr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mu,{},mu,mu)))),r[s]=Goe(r[s],n));const i=function joe(t){return yo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ge){const s=yo();return i.pipe(Sh(s.outsideAngular),Th(s.insideAngular))}return _o(()=>i)}return i instanceof Ge?i.pipe($oe):i instanceof Promise?_o(()=>new Promise((s,o)=>i.then(a=>_o(()=>s(a)),a=>_o(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:_o(()=>i)};class vo{constructor(e){return e}}class sC{constructor(){return W2()}}const oC=new F("angularfire2._apps"),qoe={provide:vo,useFactory:function zoe(t){return t&&1===t.length?t[0]:new vo(rE())},deps:[[new Tt,oC]]},Woe={provide:sC,deps:[[new Tt,oC]]};function Koe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vo(r)}}let Qoe=(()=>{class t{constructor(n){We("angularfire",cg.full,"core"),We("angularfire",cg.full,"app"),We("angular",mN.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(gi))},t.\u0275mod=hn({type:t}),t.\u0275inj=Xt({providers:[qoe,Woe]}),t})();function Yoe(t,...e){return{ngModule:Qoe,providers:[{provide:oC,useFactory:Koe(t),multi:!0,deps:[Ee,tn,iC,...e]}]}}const Xoe=Cr(q2,!0);const Joe=function aU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},uU=new qr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hg=new hu("@firebase/auth");function fg(t,...e){hg.logLevel<=pe.ERROR&&hg.error(`Auth (${fu}): ${t}`,...e)}function Fn(t,...e){throw aC(t,...e)}function Qr(t,...e){return aC(t,...e)}function aC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uU.create(t,...e)}function x(t,e,...n){if(!t)throw aC(e,...n)}function Yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fg(e),new Error(e)}function ps(t,e){t||Yr(e)}function lU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=function gne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}()||function mne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function eae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function uC(){return"http:"===lU()||"https:"===lU()}()||HI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class dU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rae=new Jl(3e4,6e4);function rt(t,e,n,r){return lC.apply(this,arguments)}function lC(){return(lC=y(function*(t,e,n,r,i={}){return hU(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=V2(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),dU.fetch()(fU(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function hU(t,e,n){return dC.apply(this,arguments)}function dC(){return(dC=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nae),e);try{const i=new iae(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Zl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Zl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Zl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Zl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function cU(t,e,n){const r=Object.assign(Object.assign({},Joe()),{[e]:n});return new qr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Fn(t,l)}}catch(i){if(i instanceof cr)throw i;Fn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function fU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function cC(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class iae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),rae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}function fC(){return(fC=y(function*(t,e){return rt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function gC(){return(gC=y(function*(t,e){return rt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mC(){return(mC=y(function*(t,e=!1){const n=$t(t),r=yield n.getIdToken(e),i=pg(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ed(yC(i.auth_time)),issuedAtTime:ed(yC(i.iat)),expirationTime:ed(yC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function yC(t){return 1e3*Number(t)}function pg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return fg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yp(n);return i?JSON.parse(i):(fg("Failed to decode base64 JWT payload"),null)}catch(i){return fg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ki(t,e){return _C.apply(this,arguments)}function _C(){return(_C=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof cr&&function lae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class dae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class pU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function td(t){return vC.apply(this,arguments)}function vC(){return vC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ki(t,function aae(t,e){return gC.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function pae(t){return t.map(e=>{var{providerId:n}=e,r=Sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function fae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pU(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),vC.apply(this,arguments)}function wC(){return(wC=y(function*(t){const e=$t(t);yield td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function IC(){return(IC=y(function*(t,e){const n=yield hU(t,{},y(function*(){const r=V2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fU(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dU.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class nd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cae(t){const e=pg(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function gae(t,e){return IC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nd;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nd,this.toJSON())}_performRefresh(){return Yr("not implemented")}}function gs(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class wo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield ki(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function uae(t){return mC.apply(this,arguments)}(this,e)}reload(){return function hae(t){return wC.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield td(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield ki(e,function sae(t,e){return fC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:V,providerData:z,stsTokenManager:_e}=n;x(E&&_e,e,"internal-error");const et=nd.fromJSON(this.name,_e);x("string"==typeof E,e,"internal-error"),gs(d,e.name),gs(h,e.name),x("boolean"==typeof A,e,"internal-error"),x("boolean"==typeof V,e,"internal-error"),gs(f,e.name),gs(p,e.name),gs(g,e.name),gs(m,e.name),gs(v,e.name),gs(_,e.name);const Bn=new wo({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:et,createdAt:v,lastLoginAt:_});return z&&Array.isArray(z)&&(Bn.providerData=z.map(cx=>Object.assign({},cx))),m&&(Bn._redirectEventId=m),Bn}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new nd;i.updateFromServerResponse(n);const s=new wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield td(s),s})()}}const gU=new Map;function Pi(t){ps(t instanceof Function,"Expected a class definition");let e=gU.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gU.set(t,e),e)}const mU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function gg(t,e,n){return`firebase:${t}:${e}:${n}`}class _u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gg(this.userKey,i.apiKey,s),this.fullPersistenceKey=gg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?wo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new _u(Pi(mU),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Pi(mU);const o=gg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=wo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new _u(s,e,r)):new _u(s,e,r)})()}}function yU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function wU(t=Xn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function _U(t=Xn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function EU(t=Xn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function bU(t=Xn()){return/webos/i.test(t)}(e))return"Webos";if(function EC(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function vU(t=Xn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function IU(t=Xn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function CU(t,e=[]){let n;switch(t){case"Browser":n=yU(Xn());break;case"Worker":n=`${yU(Xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fu}/${r}`}function DU(t,e){return CC.apply(this,arguments)}function CC(){return(CC=y(function*(t,e){return rt(t,"GET","/v2/recaptchaConfig",function Xe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function SU(t){return void 0!==t&&void 0!==t.enterprise}class AU{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class MU{constructor(e){this.type="recaptcha-enterprise",this.auth=At(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){DU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new AU(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;SU(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&SU(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function DC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function vae(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class bae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Cae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RU(this),this.idTokenSubscription=new RU(this),this.beforeStateQueue=new bae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield _u.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield td(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?$t(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Pi(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield DU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new AU(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new MU(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Pi(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield _u.create(n,[Pi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Zoe(t,...e){hg.logLevel<=pe.WARN&&hg.warn(`Auth (${fu}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function At(t){return $t(t)}class RU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function wne(t,e){const n=new Ine(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function xU(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Jl(3e4,6e4),new Jl(2e3,1e4),new Jl(3e4,6e4),new Jl(5e3,15e3),encodeURIComponent("fac");var oB="@firebase/auth";class mce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Xp(),function _ce(t){on(new Ht("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CU(t)},c=new Cae(r,i,s,u);return function Tae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),on(new Ht("auth-internal",e=>{const n=At(e.getProvider("auth").getImmediate());return new mce(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(oB,"0.23.2",function yce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),We(oB,"0.23.2","esm2017")}("Browser");class hT{constructor(){return dg("auth")}}const pT=new Map,lB={activated:!1,tokenObservers:[]},Dce={initialized:!1,enabled:!1};function it(t){return pT.get(t)||Object.assign({},lB)}function Ag(){return Dce}const gT="https://content-firebaseappcheck.googleapis.com/v1",xce="exchangeDebugToken",dB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Rce{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Jp,yield function Nce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Jp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const zt=new qr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mT(t){if(!it(t).activated)throw zt.create("use-before-activation",{appName:t.name})}function Rg(t,e){return _T.apply(this,arguments)}function _T(){return _T=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw zt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw zt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw zt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),_T.apply(this,arguments)}function hB(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${gT}/projects/${n}/apps/${r}:${xce}?key=${i}`,body:{debug_token:e}}}const Fce="firebase-app-check-database",Lce=1,ad="firebase-app-check-store";let Ng=null;function vT(){return vT=y(function*(t,e){const r=(yield function pB(){return Ng||(Ng=new Promise((t,e)=>{try{const n=indexedDB.open(Fce,Lce);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(zt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ad,{keyPath:"compositeKey"})}}catch(n){e(zt.create("storage-open",{originalErrorMessage:n?.message}))}}),Ng)}()).transaction(ad,"readwrite"),s=r.objectStore(ad).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(zt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),vT.apply(this,arguments)}const ud=new hu("@firebase/app-check");function ET(t,e){return uo()?function Uce(t,e){return function gB(t,e){return vT.apply(this,arguments)}(function yB(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ud.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CT(){return Ag().enabled}function DT(){return TT.apply(this,arguments)}function TT(){return TT=y(function*(){const t=Ag();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TT.apply(this,arguments)}const zce={error:"UNKNOWN_ERROR"};function qce(t){return $I.encodeString(JSON.stringify(t),!1)}function kg(t){return ST.apply(this,arguments)}function ST(){return ST=y(function*(t,e=!1){const n=t.app;mT(n);const r=it(n);let s,i=r.token;if(i&&!wu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(wu(u)?i=u:yield ET(n,void 0))}if(!e&&i&&wu(i))return{token:i.token};let a,o=!1;if(CT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Rg(hB(n,yield DT()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ET(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield it(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ud.warn(u.message):ud.error(u),s=u}return i?s?a=wu(i)?{token:i.token,internalError:s}:IB(s):(a={token:i.token},r.token=i,yield ET(n,i)):a=IB(s),o&&function wB(t,e){const n=it(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),ST.apply(this,arguments)}function AT(){return AT=y(function*(t){const e=t.app;mT(e);const{provider:n}=it(e);if(CT()){const r=yield DT(),{token:i}=yield Rg(hB(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),AT.apply(this,arguments)}function MT(t,e){const n=it(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function vB(t){const{app:e}=t,n=it(e);let r=n.tokenRefresher;r||(r=function Wce(t){const{app:e}=t;return new Rce(y(function*(){let r;if(r=it(e).token?yield kg(t,!0):yield kg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=it(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},dB.RETRIAL_MIN_WAIT,dB.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function wu(t){return t.expireTimeMillis-Date.now()>0}function IB(t){return{token:qce(zce),error:t}}class Kce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=it(this.app);for(const n of e)MT(this.app,n.next);return Promise.resolve()}}const xB="app-check-internal";!function ule(){on(new Ht("app-check",t=>function Qce(t,e){return new Kce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xB).initialize()})),on(new Ht(xB,t=>function Yce(t){return{getToken:e=>kg(t,e),getLimitedUseToken:()=>function _B(t){return AT.apply(this,arguments)}(t),addTokenListener:e=>function xT(t,e,n,r){const{app:i}=t,s=it(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&wu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),vB(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>vB(t))}(t,"INTERNAL",e),removeTokenListener:e=>MT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();class PT{constructor(){return dg("app-check")}}typeof window<"u"&&window;var k,fle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={},FT=FT||{},ee=fle||self;function Og(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function cd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var LT="closure_uid_"+(1e9*Math.random()>>>0),gle=0;function mle(t,e,n){return t.call.apply(t.bind,arguments)}function yle(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mle:yle).apply(null,arguments)}function Fg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ys(){this.s=this.s,this.o=this.o}ys.prototype.s=!1,ys.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ple(t){Object.prototype.hasOwnProperty.call(t,LT)&&t[LT]||(t[LT]=++gle)}(this)},ys.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function VT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function NB(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Og(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function un(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var vle=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return t}();function ld(t){return/^[\s\xa0]*$/.test(t)}function Lg(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Xr(t){return-1!=Lg().indexOf(t)}function UT(t){return UT[" "](t),t}UT[" "]=function(){};var jT,Ile=Xr("Opera"),Iu=Xr("Trident")||Xr("MSIE"),kB=Xr("Edge"),BT=kB||Iu,PB=Xr("Gecko")&&!(-1!=Lg().toLowerCase().indexOf("webkit")&&!Xr("Edge"))&&!(Xr("Trident")||Xr("MSIE"))&&!Xr("Edge"),Ele=-1!=Lg().toLowerCase().indexOf("webkit")&&!Xr("Edge");function OB(){var t=ee.document;return t?t.documentMode:void 0}e:{var $T="",HT=function(){var t=Lg();return PB?/rv:([^\);]+)(\)|;)/.exec(t):kB?/Edge\/([\d\.]+)/.exec(t):Iu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Ele?/WebKit\/(\S+)/.exec(t):Ile?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(HT&&($T=HT?HT[1]:""),Iu){var GT=OB();if(null!=GT&&GT>parseFloat($T)){jT=String(GT);break e}}jT=$T}var ble=ee.document&&Iu&&(OB()||parseInt(jT,10))||void 0;function dd(t,e){if(un.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PB){e:{try{UT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Cle[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dd.$.h.call(this)}}xt(dd,un);var Cle={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hd="closure_listenable_"+(1e6*Math.random()|0),Dle=0;function Tle(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Dle,this.fa=this.ia=!1}function Vg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function qT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function LB(t){const e={};for(const n in t)e[n]=t[n];return e}const VB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UB(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<VB.length;s++)n=VB[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ug(t){this.src=t,this.g={},this.h=0}function WT(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=RB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function KT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Ug.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=KT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Tle(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var QT="closure_lm_"+(1e6*Math.random()|0),YT={};function BB(t,e,n,r,i){if(r&&r.once)return $B(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BB(t,e[s],n,r,i);return null}return n=e0(n),t&&t[hd]?t.O(e,n,cd(r)?!!r.capture:!!r,i):jB(t,e,n,!1,r,i)}function jB(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=cd(i)?!!i.capture:!!i,a=JT(t);if(a||(t[QT]=a=new Ug(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Ale(){const e=xle;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vle||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GB(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $B(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$B(t,e[s],n,r,i);return null}return n=e0(n),t&&t[hd]?t.P(e,n,cd(r)?!!r.capture:!!r,i):jB(t,e,n,!0,r,i)}function HB(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)HB(t,e[s],n,r,i);else r=cd(r)?!!r.capture:!!r,n=e0(n),t&&t[hd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=KT(s=t.g[e],n,r,i))&&(Vg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=JT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=KT(e,n,r,i)),(n=-1<t?e[t]:null)&&XT(n))}function XT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[hd])WT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GB(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=JT(e))?(WT(n,t),0==n.h&&(n.src=null,e[QT]=null)):Vg(t)}}}function GB(t){return t in YT?YT[t]:YT[t]="on"+t}function xle(t,e){if(t.fa)t=!0;else{e=new dd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&XT(t),t=n.call(r,e)}return t}function JT(t){return(t=t[QT])instanceof Ug?t:null}var ZT="__closure_events_fn_"+(1e9*Math.random()>>>0);function e0(t){return"function"==typeof t?t:(t[ZT]||(t[ZT]=function(e){return t.handleEvent(e)}),t[ZT])}function Mt(){ys.call(this),this.i=new Ug(this),this.S=this,this.J=null}function qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new un(e,t);else if(e instanceof un)e.target=e.target||t;else{var i=e;UB(e=new un(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Bg(o,r,!0,e)&&i}if(i=Bg(o=e.g=t,r,!0,e)&&i,i=Bg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Bg(o=e.g=n[s],r,!1,e)&&i}function Bg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&WT(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(Mt,ys),Mt.prototype[hd]=!0,Mt.prototype.removeEventListener=function(t,e,n,r){HB(this,t,e,n,r)},Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vg(n[r]);delete t.g[e],t.h--}}this.J=null},Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var t0=ee.JSON.stringify;function Rle(){var t=n0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var zB=new class Mle{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new kle,t=>t.reset());class kle{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ple(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ole(t){ee.setTimeout(()=>{throw t},0)}let fd,pd=!1,n0=new class Nle{constructor(){this.h=this.g=null}add(e,n){const r=zB.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},qB=()=>{const t=ee.Promise.resolve(void 0);fd=()=>{t.then(Fle)}};var Fle=()=>{for(var t;t=Rle();){try{t.h.call(t.g)}catch(n){Ole(n)}var e=zB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pd=!1};function jg(t,e){Mt.call(this),this.h=t||1,this.g=e||ee,this.j=an(this.qb,this),this.l=Date.now()}function r0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function s0(t,e,n){if("function"==typeof t)n&&(t=an(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=an(t.handleEvent,t)}return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function WB(t){t.g=s0(()=>{t.g=null,t.i&&(t.i=!1,WB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xt(jg,Mt),(k=jg.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qt(this,"tick"),this.ga&&(r0(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){jg.$.N.call(this),r0(this),delete this.g};class Lle extends ys{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WB(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gd(t){ys.call(this),this.h=t,this.g={}}xt(gd,ys);var KB=[];function QB(t,e,n,r){Array.isArray(n)||(n&&(KB[0]=n.toString()),n=KB);for(var i=0;i<n.length;i++){var s=BB(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function YB(t){qT(t.g,function(e,n){this.g.hasOwnProperty(n)&&XT(e)},t),t.g={}}function $g(){this.g=!0}function Eu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jle(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return t0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}gd.prototype.N=function(){gd.$.N.call(this),YB(this)},gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$g.prototype.Ea=function(){this.g=!1},$g.prototype.info=function(){};var Co={},XB=null;function Hg(){return XB=XB||new Mt}function JB(t){un.call(this,Co.Ta,t)}function md(t){const e=Hg();qt(e,new JB(e))}function ZB(t,e){un.call(this,Co.STAT_EVENT,t),this.stat=e}function bn(t){const e=Hg();qt(e,new ZB(e,t))}function ej(t,e){un.call(this,Co.Ua,t),this.size=e}function yd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}Co.Ta="serverreachability",xt(JB,un),Co.STAT_EVENT="statevent",xt(ZB,un),Co.Ua="timingevent",xt(ej,un);var Gg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function o0(){}function rj(){}o0.prototype.h=null;var c0,_d={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function a0(){un.call(this,"d")}function u0(){un.call(this,"c")}function zg(){}function vd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new gd(this),this.P=$le,this.V=new jg(t=BT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ij}function ij(){this.i=null,this.g="",this.h=!1}xt(a0,un),xt(u0,un),xt(zg,o0),zg.prototype.g=function(){return new XMLHttpRequest},zg.prototype.i=function(){return{}},c0=new zg;var $le=45e3,l0={},qg={};function d0(t,e,n){t.L=1,t.v=Yg(Fi(e)),t.s=n,t.S=!0,sj(t,null)}function sj(t,e){t.G=Date.now(),wd(t),t.A=Fi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),gj(n.i,"t",r),t.C=0,n=t.l.J,t.h=new ij,t.g=Uj(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Lle(an(t.Pa,t,t.g),t.O)),QB(t.U,t.g,"readystatechange",t.nb),e=t.I?LB(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),md(),function Vle(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function oj(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function aj(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Hle(t,n),i==qg){4==e&&(t.o=4,bn(14),r=!1),Eu(t.j,t.m,null,"[Incomplete Response]");break}if(i==l0){t.o=4,bn(15),Eu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Eu(t.j,t.m,i,null),h0(t,i)}oj(t)&&i!=qg&&i!=l0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),v0(e),e.M=!0,bn(11))):(Eu(t.j,t.m,n,"[Invalid Chunked Response]"),Do(t),Id(t))}function Hle(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?qg:(n=Number(e.substring(n,r)),isNaN(n)?l0:(r+=1)+n>e.length?qg:(e=e.slice(r,r+n),t.C=r+n,e))}function wd(t){t.Y=Date.now()+t.P,uj(t,t.P)}function uj(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=yd(an(t.lb,t),e)}function Wg(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}function Id(t){0==t.l.H||t.J||Oj(t.l,t)}function Do(t){Wg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,r0(t.V),YB(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function h0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||f0(n.i,t)))if(!t.K&&f0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;nm(n),em(n)}_0(n),bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=yd(an(n.ib,n),6e3));if(1>=_j(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else So(n,11)}else if((t.K||n.g==t)&&nm(n),!ld(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(p0(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Be(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=Vj(r,r.J?r.pa:null,r.Y),o.K){vj(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Wg(a),wd(a)),r.g=o}else kj(r);0<n.j.length&&tm(n)}else"stop"!=c[0]&&"close"!=c[0]||So(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?So(n,7):y0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}md()}catch{}}function cj(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Og(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function zle(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Og(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Gle(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Og(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(k=vd.prototype).setTimeout=function(t){this.P=t},k.nb=function(t){t=t.target;const e=this.M;e&&3==Jr(t)?e.l():this.Pa(t)},k.Pa=function(t){try{if(t==this.g)e:{const l=Jr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||BT||this.g&&(this.h.h||this.g.ja()||Sj(this.g)))){this.J||4!=l||7==e||md(),Wg(this);var n=this.g.da();this.ca=n;t:if(oj(this)){var r=Sj(this.g);t="";var i=r.length,s=4==Jr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Id(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Ule(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ld(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,bn(12),Do(this),Id(this);break e}Eu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,h0(this,n)}this.S?(aj(this,l,o),BT&&this.i&&3==l&&(QB(this.U,this.V,"tick",this.mb),this.V.start())):(Eu(this.j,this.m,o,null),h0(this,o)),4==l&&Do(this),this.i&&!this.J&&(4==l?Oj(this.l,this):(this.i=!1,wd(this)))}else(function cde(t){const e={};t=(t.g&&2<=Jr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(ld(t[r]))continue;var n=Ple(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Sle(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),Do(this),Id(this)}}}catch{}},k.mb=function(){if(this.g){var t=Jr(this.g),e=this.g.ja();this.C<e.length&&(Wg(this),aj(this,t,e),this.i&&4!=t&&wd(this))}},k.cancel=function(){this.J=!0,Do(this)},k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Ble(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(md(),bn(17)),Do(this),this.o=2,Id(this)):uj(this,this.Y-t)};var lj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof To){this.h=t.h,Kg(this,t.j),this.s=t.s,this.g=t.g,Qg(this,t.m),this.l=t.l;var e=t.i,n=new Cd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dj(this,n),this.o=t.o}else t&&(e=String(t).match(lj))?(this.h=!1,Kg(this,e[1]||"",!0),this.s=Ed(e[2]||""),this.g=Ed(e[3]||"",!0),Qg(this,e[4]),this.l=Ed(e[5]||"",!0),dj(this,e[6]||"",!0),this.o=Ed(e[7]||"")):(this.h=!1,this.i=new Cd(null,this.h))}function Fi(t){return new To(t)}function Kg(t,e,n){t.j=n?Ed(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dj(t,e,n){e instanceof Cd?(t.i=e,function Jle(t,e){e&&!t.j&&(_s(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(fj(this,r),gj(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=bd(e,Yle)),t.i=new Cd(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function Yg(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ed(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wle),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wle(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}To.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bd(e,hj,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(bd(e,hj,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(bd(n,"/"==n.charAt(0)?Qle:Kle,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bd(n,Xle)),t.join("")};var hj=/[#\/\?@]/g,Kle=/[#\?:]/g,Qle=/[#\?]/g,Yle=/[#\?@]/g,Xle=/#/g;function Cd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _s(t){t.g||(t.g=new Map,t.h=0,t.i&&function qle(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function fj(t,e){_s(t),e=bu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pj(t,e){return _s(t),e=bu(t,e),t.g.has(e)}function gj(t,e,n){fj(t,e),0<n.length&&(t.i=null,t.g.set(bu(t,e),VT(n)),t.h+=n.length)}function bu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mj(t){this.l=t||ede,t=ee.PerformanceNavigationTiming?0<(t=ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Cd.prototype).add=function(t,e){_s(this),this.i=null,t=bu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){_s(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},k.ta=function(){_s(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},k.Z=function(t){_s(this);let e=[];if("string"==typeof t)pj(this,t)&&(e=e.concat(this.g.get(bu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},k.set=function(t,e){return _s(this),this.i=null,pj(this,t=bu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ede=10;function yj(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _j(t){return t.h?1:t.g?t.g.size:0}function f0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function p0(t,e){t.g?t.g.add(e):t.h=e}function vj(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function wj(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return VT(t.i)}mj.prototype.cancel=function(){if(this.i=wj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var tde=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function nde(){this.g=new tde}function rde(t,e,n){const r=n||"";try{cj(t,function(i,s){let o=i;cd(i)&&(o=t0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dd(t){this.l=t.fc||null,this.j=t.ob||!1}function Jg(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=g0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Dd,o0),Dd.prototype.g=function(){return new Jg(this.l,this.j)},Dd.prototype.i=function(t){return function(){return t}}({}),xt(Jg,Mt);var g0=0;function Ij(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Td(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sd(t)}function Sd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=Jg.prototype).open=function(t,e){if(this.readyState!=g0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sd(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Td(this)),this.readyState=g0},k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sd(this)),this.g&&(this.readyState=3,Sd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ij(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Td(this):Sd(this),3==this.readyState&&Ij(this)}},k.Za=function(t){this.g&&(this.response=this.responseText=t,Td(this))},k.Ya=function(t){this.g&&(this.response=t,Td(this))},k.ka=function(){this.g&&Td(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Jg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var sde=ee.JSON.parse;function st(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ej,this.L=this.M=!1}xt(st,Mt);var Ej="",ode=/^https?$/i,ade=["POST","PUT"];function bj(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Cj(t),Zg(t)}function Cj(t){t.F||(t.F=!0,qt(t,"complete"),qt(t,"error"))}function Dj(t){if(t.h&&typeof FT<"u"&&(!t.C[1]||4!=Jr(t)||2!=t.da()))if(t.v&&4==Jr(t))s0(t.La,0,t);else if(qt(t,"readystatechange"),4==Jr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(lj)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!ode.test(i?i.toLowerCase():"")}n=r}if(n)qt(t,"complete"),qt(t,"success");else{t.m=6;try{var s=2<Jr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Cj(t)}}finally{Zg(t)}}}function Zg(t,e){if(t.g){Tj(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Tj(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function Jr(t){return t.g?t.g.readyState:0}function Sj(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ej:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Aj(t){let e="";return qT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function m0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Aj(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Be(t,e,n))}function Ad(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xj(t){this.Ga=0,this.j=[],this.l=new $g,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ad("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ad("baseRetryDelayMs",5e3,t),this.hb=Ad("retryDelaySeedMs",1e4,t),this.eb=Ad("forwardChannelMaxRetries",2,t),this.xa=Ad("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new mj(t&&t.concurrentRequestLimit),this.Ja=new nde,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function y0(t){if(Mj(t),3==t.H){var e=t.W++,n=Fi(t.I);if(Be(n,"SID",t.K),Be(n,"RID",e),Be(n,"TYPE","terminate"),xd(t,n),(e=new vd(t,t.l,e)).L=2,e.v=Yg(Fi(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=Uj(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wd(e)}Lj(t)}function em(t){t.g&&(v0(t),t.g.cancel(),t.g=null)}function Mj(t){em(t),t.u&&(ee.clearTimeout(t.u),t.u=null),nm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ee.clearTimeout(t.m),t.m=null)}function tm(t){if(!yj(t.i)&&!t.m){t.m=!0;var e=t.Na;fd||qB(),pd||(fd(),pd=!0),n0.add(e,t),t.C=0}}function Rj(t,e){var n;n=e?e.m:t.W++;const r=Fi(t.I);Be(r,"SID",t.K),Be(r,"RID",n),Be(r,"AID",t.V),xd(t,r),t.o&&t.s&&m0(r,t.o,t.s),n=new vd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Nj(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),p0(t.i,n),d0(n,r,e)}function xd(t,e){t.na&&qT(t.na,function(n,r){Be(e,r,n)}),t.h&&cj({},function(n,r){Be(e,r,n)})}function Nj(t,e,n){n=Math.min(t.j.length,n);var r=t.h?an(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{rde(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function kj(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;fd||qB(),pd||(fd(),pd=!0),n0.add(e,t),t.A=0}}function _0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=yd(an(t.Ma,t),Fj(t,t.A)),t.A++,0))}function v0(t){null!=t.B&&(ee.clearTimeout(t.B),t.B=null)}function Pj(t){t.g=new vd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Fi(t.wa);Be(e,"RID","rpc"),Be(e,"SID",t.K),Be(e,"AID",t.V),Be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Be(e,"TO",t.qa),Be(e,"TYPE","xmlhttp"),xd(t,e),t.o&&t.s&&m0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Yg(Fi(e)),n.s=null,n.S=!0,sj(n,t)}function nm(t){null!=t.v&&(ee.clearTimeout(t.v),t.v=null)}function Oj(t,e){var n=null;if(t.g==e){nm(t),v0(t),t.g=null;var r=2}else{if(!f0(t.i,e))return;n=e.F,vj(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;qt(r=Hg(),new ej(r,n)),tm(t)}else kj(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function lde(t,e){return!(_j(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=yd(an(t.Na,t,e),Fj(t,t.C)),t.C++,0)))}(t,e)||2==r&&_0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:So(t,5);break;case 4:So(t,10);break;case 3:So(t,6);break;default:So(t,2)}}function Fj(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function So(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=an(t.pb,t);n||(n=new To("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Kg(n,"https"),Yg(n)),function ide(t,e){const n=new $g;if(ee.Image){const r=new Image;r.onload=Fg(Xg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fg(Xg,n,r,"TestLoadImage: error",!1,e),r.onabort=Fg(Xg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fg(Xg,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else bn(2);t.H=0,t.h&&t.h.za(e),Lj(t),Mj(t)}function Lj(t){if(t.H=0,t.ma=[],t.h){const e=wj(t.i);(0!=e.length||0!=t.j.length)&&(NB(t.ma,e),NB(t.ma,t.j),t.i.i.length=0,VT(t.j),t.j.length=0),t.h.ya()}}function Vj(t,e,n){var r=n instanceof To?Fi(n):new To(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Qg(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new To(null);r&&Kg(s,r),e&&(s.g=e),i&&Qg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Be(r,n,e),Be(r,"VER",t.ra),xd(t,r),r}function Uj(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new st(n&&t.Ha&&!t.va?new Dd({ob:!0}):t.va)).Oa(t.J),e}function Bj(){}function rm(){if(Iu&&!(10<=Number(ble)))throw Error("Environmental error: no available transport.")}function Jn(t,e){Mt.call(this),this.g=new xj(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ld(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ld(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Cu(this)}function jj(t){a0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $j(){u0.call(this),this.status=1}function Cu(t){this.g=t}function Tr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function w0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(k=st.prototype).Oa=function(t){this.M=t},k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():c0.g(),this.C=function nj(t){return t.h||(t.h=t.i())}(this.u?this.u:c0),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void bj(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&t instanceof ee.FormData,!(0<=RB(ade,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Tj(this),0<this.B&&((this.L=function ude(t){return Iu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=s0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bj(this,s)}},k.ua=function(){typeof FT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qt(this,"complete"),qt(this,"abort"),Zg(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zg(this,!0)),st.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?Dj(this):this.kb())},k.kb=function(){Dj(this)},k.isActive=function(){return!!this.g},k.da=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sde(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=xj.prototype).ra=8,k.H=1,k.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new vd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=LB(s),UB(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nj(this,i,e),Be(n=Fi(this.I),"RID",t),Be(n,"CVER",22),this.F&&Be(n,"X-HTTP-Session-Id",this.F),xd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Aj(s)))+"&"+e:this.o&&m0(n,this.o,s)),p0(this.i,i),this.bb&&Be(n,"TYPE","init"),this.P?(Be(n,"$req",e),Be(n,"SID","null"),i.aa=!0,d0(i,n,null)):d0(i,n,e),this.H=2}}else 3==this.H&&(t?Rj(this,t):0==this.j.length||yj(this.i)||Rj(this))},k.Ma=function(){if(this.u=null,Pj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yd(an(this.jb,this),t)}},k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),em(this),Pj(this))},k.ib=function(){null!=this.v&&(this.v=null,em(this),_0(this),bn(19))},k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))},k.isActive=function(){return!!this.h&&this.h.isActive(this)},(k=Bj.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.isActive=function(){return!0},k.Va=function(){},rm.prototype.g=function(t,e){return new Jn(t,e)},xt(Jn,Mt),Jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Vj(t,null,t.Y),tm(t)},Jn.prototype.close=function(){y0(this.g)},Jn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=t0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&tm(e)},Jn.prototype.N=function(){this.g.h=null,delete this.j,y0(this.g),delete this.g,Jn.$.N.call(this)},xt(jj,a0),xt($j,u0),xt(Cu,Bj),Cu.prototype.Ba=function(){qt(this.g,"a")},Cu.prototype.Aa=function(t){qt(this.g,new jj(t))},Cu.prototype.za=function(t){qt(this.g,new $j)},Cu.prototype.ya=function(){qt(this.g,"b")},xt(Tr,function dde(){this.blockSize=-1}),Tr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Tr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)w0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){w0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){w0(this,r),i=0;break}}this.h=i,this.i+=e},Tr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var hde={};function I0(t){return-128<=t&&128>t?function wle(t,e){var n=hde;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Se([0|e],0>e?-1:0)}):new Se([0|t],0>t?-1:0)}function Zr(t){if(isNaN(t)||!isFinite(t))return Du;if(0>t)return Wt(Zr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=E0;return new Se(e,0)}var E0=4294967296,Du=I0(0),b0=I0(1),Gj=I0(16777216);function Li(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function dr(t){return-1==t.h}function Wt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Se(n,~t.h).add(b0)}function im(t,e){return t.add(Wt(e))}function sm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Md(t,e){this.g=t,this.h=e}function om(t,e){if(Li(e))throw Error("division by zero");if(Li(t))return new Md(Du,Du);if(dr(t))return e=om(Wt(t),e),new Md(Wt(e.g),Wt(e.h));if(dr(e))return e=om(t,Wt(e)),new Md(Wt(e.g),e.h);if(30<t.g.length){if(dr(t)||dr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=b0,r=e;0>=r.X(t);)n=zj(n),r=zj(r);var i=Tu(n,1),s=Tu(r,1);for(r=Tu(r,2),n=Tu(n,2);!Li(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Tu(r,1),n=Tu(n,1)}return e=im(t,i.R(e)),new Md(i,e)}for(i=Du;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Zr(n)).R(e);dr(o)||0<o.X(t);)o=(s=Zr(n-=r)).R(e);Li(s)&&(s=b0),i=i.add(s),t=im(t,o)}return new Md(i,t)}function zj(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Se(n,t.h)}function Tu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Se(i,t.h)}(k=Se.prototype).ea=function(){if(dr(this))return-Wt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:E0+r)*e,e*=E0}return t},k.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Li(this))return"0";if(dr(this))return"-"+Wt(this).toString(t);for(var e=Zr(Math.pow(t,6)),n=this,r="";;){var i=om(n,e).g,s=((0<(n=im(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Li(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},k.X=function(t){return dr(t=im(this,t))?-1:Li(t)?0:1},k.abs=function(){return dr(this)?Wt(this):this},k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Se(n,-2147483648&n[n.length-1]?-1:0)},k.R=function(t){if(Li(this)||Li(t))return Du;if(dr(this))return dr(t)?Wt(this).R(Wt(t)):Wt(Wt(this).R(t));if(dr(t))return Wt(this.R(Wt(t)));if(0>this.X(Gj)&&0>t.X(Gj))return Zr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,sm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,sm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,sm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,sm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Se(n,0)},k.gb=function(t){return om(this,t).h},k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Se(n,this.h&t.h)},k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Se(n,this.h|t.h)},k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Se(n,this.h^t.h)},rm.prototype.createWebChannel=rm.prototype.g,Jn.prototype.send=Jn.prototype.u,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,Gg.NO_ERROR=0,Gg.TIMEOUT=8,Gg.HTTP_ERROR=6,tj.COMPLETE="complete",rj.EventType=_d,_d.OPEN="a",_d.CLOSE="b",_d.ERROR="c",_d.MESSAGE="d",Mt.prototype.listen=Mt.prototype.O,st.prototype.listenOnce=st.prototype.P,st.prototype.getLastError=st.prototype.Sa,st.prototype.getLastErrorCode=st.prototype.Ia,st.prototype.getStatus=st.prototype.da,st.prototype.getResponseJson=st.prototype.Wa,st.prototype.getResponseText=st.prototype.ja,st.prototype.send=st.prototype.ha,st.prototype.setWithCredentials=st.prototype.Oa,Tr.prototype.digest=Tr.prototype.l,Tr.prototype.reset=Tr.prototype.reset,Tr.prototype.update=Tr.prototype.j,Se.prototype.add=Se.prototype.add,Se.prototype.multiply=Se.prototype.R,Se.prototype.modulo=Se.prototype.gb,Se.prototype.compare=Se.prototype.X,Se.prototype.toNumber=Se.prototype.ea,Se.prototype.toString=Se.prototype.toString,Se.prototype.getBits=Se.prototype.D,Se.fromNumber=Zr,Se.fromString=function Hj(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Wt(Hj(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zr(Math.pow(e,8)),r=Du,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Zr(Math.pow(e,s)),r=r.R(s).add(Zr(o))):r=(r=r.R(n)).add(Zr(o))}return r};var fde=Dr.createWebChannelTransport=function(){return new rm},pde=Dr.getStatEventTarget=function(){return Hg()},C0=Dr.ErrorCode=Gg,gde=Dr.EventType=tj,mde=Dr.Event=Co,qj=Dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yde=Dr.FetchXmlHttpFactory=Dd,am=Dr.WebChannel=rj,_de=Dr.XhrIo=st,vde=Dr.Md5=Tr,Su=Dr.Integer=Se;const Wj="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let Au="9.23.0";const vs=new hu("@firebase/firestore");function D0(){return vs.logLevel}function S(t,...e){if(vs.logLevel<=pe.DEBUG){const n=e.map(T0);vs.debug(`Firestore (${Au}): ${t}`,...n)}}function lt(t,...e){if(vs.logLevel<=pe.ERROR){const n=e.map(T0);vs.error(`Firestore (${Au}): ${t}`,...n)}}function Sr(t,...e){if(vs.logLevel<=pe.WARN){const n=e.map(T0);vs.warn(`Firestore (${Au}): ${t}`,...n)}}function T0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function U(t="Unexpected state"){const e=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: `+t;throw lt(e),new Error(e)}function $(t,e){t||U()}function N(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Kj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class Ide{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ede{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new Kj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Rt(e)}}class bde{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cde{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new bde(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dde{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($("string"==typeof n.token),this.T=n.token,new Qj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Yj{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Tde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function xu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new Je(0,0))}static max(){return new H(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rd{constructor(e,n,r){void 0===n?n=0:n>e.length&&U(),void 0===r?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Rd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends Rd{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const Sde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Rd{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return Sde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(de.fromString(e))}static fromName(e){return new R(de.fromString(e).popFirst(5))}static empty(){return new R(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new de(e.slice()))}}function Zj(t){return new Zn(t.readTime,t.key,-1)}class Zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zn(H.min(),R.empty(),-1)}static max(){return new Zn(H.max(),R.empty(),-1)}}function A0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const e$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ws(t){return x0.apply(this,arguments)}function x0(){return x0=y(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==e$)throw t;S("LocalStore","Unexpectedly lost primary lease")}),x0.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Is(t){return"IndexedDbTransactionError"===t.name}let er=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Pd(t){return null==t}function Od(t){return 0===t&&1/t==-1/0}function c$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ue{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hm(this.root,e,this.comparator,!0)}}class hm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=s??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1,Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Kt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d$(this.data.getIterator())}getIteratorFrom(e){return new d$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class d${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new je(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class h$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new h$("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const Zde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if($(!!t),"string"==typeof t){let e=0;const n=Zde.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vi(t){return"string"==typeof t?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function fm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pm(t){const e=t.mapValue.fields.__previous_value__;return fm(e)?pm(e):e}function Fd(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}class ehe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Mo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const Cs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fm(t)?4:m$(t)?9007199254740991:10:U()}function ti(t,e){if(t===e)return!0;const n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fd(t).isEqual(Fd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=bs(r.timestampValue),o=bs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Vi(t.bytesValue).isEqual(Vi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ot(r.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ot(r.integerValue)===ot(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ot(r.doubleValue),o=ot(i.doubleValue);return s===o?Od(s)===Od(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return xu(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(c$(s)!==c$(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ti(s[a],o[a])))return!1;return!0}(t,e);default:return U()}var i}function Ld(t,e){return void 0!==(t.values||[]).find(n=>ti(n,e))}function Ts(t,e){if(t===e)return 0;const n=Ds(t),r=Ds(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ot(i.integerValue||i.doubleValue),a=ot(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return f$(t.timestampValue,e.timestampValue);case 4:return f$(Fd(t),Fd(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Vi(i),a=Vi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=X(o[u],a[u]);if(0!==c)return c}return X(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=X(ot(i.latitude),ot(s.latitude));return 0!==o?o:X(ot(i.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ts(o[u],a[u]);if(c)return c}return X(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cs.mapValue&&s===Cs.mapValue)return 0;if(i===Cs.mapValue)return 1;if(s===Cs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=X(a[l],c[l]);if(0!==d)return d;const h=Ts(o[a[l]],u[c[l]]);if(0!==h)return h}return X(a.length,c.length)}(t.mapValue,e.mapValue);default:throw U()}}function f$(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=bs(t),r=bs(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function Ru(t){return N0(t)}function N0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=bs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Vi(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=N0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${N0(r.fields[a])}`;return s+"}"}(t.mapValue):U();var e}function k0(t){return!!t&&"integerValue"in t}function Vd(t){return!!t&&"arrayValue"in t}function p$(t){return!!t&&"nullValue"in t}function g$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ym(t){return!!t&&"mapValue"in t}function Ud(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ud(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ud(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m$(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ym(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ud(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ud(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ym(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ym(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Es(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(Ud(this.value))}}function v$(t){const e=[];return Es(t.fields,(n,r)=>{const i=new dt([n]);if(ym(r)){const s=v$(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ln(e)}class $e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,H.min(),H.min(),H.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new $e(e,1,n,H.min(),r,i,0)}static newNoDocument(e,n){return new $e(e,2,n,H.min(),H.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,H.min(),H.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ss{constructor(e,n){this.position=e,this.inclusive=n}}function w$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):Ts(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function I$(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function rhe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class E${}class ae extends E${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new ihe(e,n,r):"array-contains"===n?new ahe(e,r):"in"===n?new A$(e,r):"not-in"===n?new uhe(e,r):"array-contains-any"===n?new che(e,r):new ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new she(e,r):new ohe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ts(n,this.value)):null!==n&&Ds(this.value)===Ds(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ae extends E${constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ae(e,n)}matches(e){return ku(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ku(t){return"and"===t.op}function O0(t){return function b$(t){for(const e of t.filters)if(e instanceof Ae)return!1;return!0}(t)&&ku(t)}function F0(t){if(t instanceof ae)return t.field.canonicalString()+t.op.toString()+Ru(t.value);if(O0(t))return t.filters.map(e=>F0(e)).join(",");{const e=t.filters.map(n=>F0(n)).join(",");return`${t.op}(${e})`}}function C$(t,e){return t instanceof ae?(n=t,(r=e)instanceof ae&&n.op===r.op&&n.field.isEqual(r.field)&&ti(n.value,r.value)):t instanceof Ae?function(n,r){return r instanceof Ae&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&C$(s,r.filters[o]),!0)}(t,e):void U();var n,r}function T$(t){return t instanceof ae?function(e){return`${e.field.canonicalString()} ${e.op} ${Ru(e.value)}`}(t):t instanceof Ae?function(e){return e.op.toString()+" {"+e.getFilters().map(T$).join(" ,")+"}"}(t):"Filter"}class ihe extends ae{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class she extends ae{constructor(e,n){super(e,"in",n),this.keys=S$(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ohe extends ae{constructor(e,n){super(e,"not-in",n),this.keys=S$(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function S$(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class ahe extends ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vd(n)&&Ld(n.arrayValue,this.value)}}class A$ extends ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ld(this.value.arrayValue,n)}}class uhe extends ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ld(this.value.arrayValue,n)}}class che extends ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ld(this.value.arrayValue,r))}}class lhe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function L0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lhe(t,e,n,r,i,s,o)}function No(t){const e=N(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>F0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),e.dt=n}return e.dt}function Bd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rhe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I$(t.startAt,e.startAt)&&I$(t.endAt,e.endAt)}function _m(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ui{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Pu(t){return new Ui(t)}function N$(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ko(t){const e=N(t);if(null===e.wt){e.wt=[];const n=function wm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function V0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Nu(n)),e.wt.push(new Nu(dt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Nu(dt.keyField(),s))}}}return e.wt}function Cn(t){const e=N(t);if(!e._t)if("F"===e.limitType)e._t=L0(e.path,e.collectionGroup,ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ko(e))n.push(new Nu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ss(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ss(e.startAt.position,e.startAt.inclusive):null;e._t=L0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Im(t,e,n){return new Ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jd(t,e){return Bd(Cn(t),Cn(e))&&t.limitType===e.limitType}function k$(t){return`${No(Cn(t))}|lt:${t.limitType}`}function j0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>T$(r)).join(", ")}]`),Pd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),`Target(${n})`}(Cn(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ko(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=w$(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ko(n),r)||n.endAt&&!function(i,s,o){const a=w$(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ko(n),r)));var n,r}function O$(t){return(e,n)=>{let r=!1;for(const i of ko(t)){const s=dhe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function dhe(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ts(a,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l$(this.inner)}size(){return this.innerSize}}const hhe=new Ue(R.comparator);function Vn(){return hhe}const F$=new Ue(R.comparator);function Hd(...t){let e=F$;for(const n of t)e=e.insert(n.key,n);return e}function L$(t){let e=F$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ni(){return Gd()}function V$(){return Gd()}function Gd(){return new Bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const fhe=new Ue(R.comparator),phe=new je(R.comparator);function ie(...t){let e=phe;for(const n of t)e=e.add(n);return e}const ghe=new je(X);function U$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function B$(t){return{integerValue:""+t}}function j$(t,e){return function n$(t){return"number"==typeof t&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?B$(e):U$(t,e)}class Em{constructor(){this._=void 0}}function mhe(t,e,n){return t instanceof Ou?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&fm(i)&&(i=pm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Po?H$(t,e):t instanceof Oo?G$(t,e):function(r,i){const s=$$(r,i),o=z$(s)+z$(r.gt);return k0(s)&&k0(r.gt)?B$(o):U$(r.serializer,o)}(t,e)}function yhe(t,e,n){return t instanceof Po?H$(t,e):t instanceof Oo?G$(t,e):n}function $$(t,e){return t instanceof Fu?k0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ou extends Em{}class Po extends Em{constructor(e){super(),this.elements=e}}function H$(t,e){const n=q$(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oo extends Em{constructor(e){super(),this.elements=e}}function G$(t,e){let n=q$(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class Fu extends Em{constructor(e,n){super(),this.serializer=e,this.gt=n}}function z$(t){return ot(t.integerValue||t.doubleValue)}function q$(t){return Vd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vhe{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Cm{}function W$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Vu(t.key,Ke.none()):new Lu(t.key,t.data,Ke.none());{const n=t.data,r=Qt.empty();let i=new je(dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ji(t.key,r,new Ln(i.toArray()),Ke.none())}}function whe(t,e,n){t instanceof Lu?function(r,i,s){const o=r.value.clone(),a=Y$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(r,i,s){if(!bm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Y$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Q$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function qd(t,e,n,r){return t instanceof Lu?function(i,s,o,a){if(!bm(i.precondition,s))return o;const u=i.value.clone(),c=X$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,s,o,a){if(!bm(i.precondition,s))return o;const u=X$(i.fieldTransforms,a,s),c=s.data;return c.setAll(Q$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,bm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Ihe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$$(r.transform,i||null);null!=s&&(null===n&&(n=Qt.empty()),n.set(r.field,s))}return n||null}function K$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&xu(n,r,(i,s)=>function _he(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Po&&r instanceof Po||n instanceof Oo&&r instanceof Oo?xu(n.elements,r.elements,ti):n instanceof Fu&&r instanceof Fu?ti(n.gt,r.gt):n instanceof Ou&&r instanceof Ou);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Lu extends Cm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends Cm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Q$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y$(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yhe(o,a,n[i]))}return r}function X$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mhe(s,o,e))}return r}class Vu extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H0 extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&whe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=W$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(n,r)=>K$(n,r))&&xu(this.baseMutations,e.baseMutations,(n,r)=>K$(n,r))}}class z0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$(e.mutations.length===r.length);let i=fhe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new z0(e,n,r,i)}}class q0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bhe{constructor(e,n){this.count=e,this.unchangedNames=n}}var yt,he;function Z$(t){if(void 0===t)return lt("GRPC error has no .code"),I.UNKNOWN;switch(t){case yt.OK:return I.OK;case yt.CANCELLED:return I.CANCELLED;case yt.UNKNOWN:return I.UNKNOWN;case yt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case yt.INTERNAL:return I.INTERNAL;case yt.UNAVAILABLE:return I.UNAVAILABLE;case yt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case yt.NOT_FOUND:return I.NOT_FOUND;case yt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case yt.ABORTED:return I.ABORTED;case yt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case yt.DATA_LOSS:return I.DATA_LOSS;default:return U()}}(he=yt||(yt={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class W0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Dm}static getOrCreateInstance(){return null===Dm&&(Dm=new W0),Dm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Dm=null;const Che=new Su([4294967295,4294967295],0);function tH(t){const e=function eH(){return new TextEncoder}().encode(t),n=new vde;return n.update(e),new Uint8Array(n.digest())}function nH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Su([n,r],0),new Su([i,s],0)]}class K0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wd(`Invalid padding: ${n}`);if(r<0)throw new Wd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Wd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Wd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Su.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Su.fromNumber(r)));return 1===i.compare(Che)&&(i=new Su([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=tH(e),[r,i]=nH(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new K0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=tH(e),[r,i]=nH(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kd(H.min(),i,new Ue(X),Vn(),ie())}}class Qd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qd(r,n,ie(),ie(),ie())}}class Tm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class rH{constructor(e,n){this.targetId=e,this.Vt=n}}class iH{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sH{constructor(){this.St=0,this.Dt=aH(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ie(),n=ie(),r=ie();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Qd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=aH()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Dhe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vn(),this.zt=oH(),this.Wt=new Ue(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(_m(o))if(0===i){const a=new R(o.path);this.Yt(r,a,$e.newNoDocument(a,H.min()))}else $(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=W0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(m=E?.bits)||void 0===m?void 0:m.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Vi(s).toUint8Array()}catch(l){if(l instanceof h$)return Sr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new K0(u,o,a)}catch(l){return Sr(l instanceof Wd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&_m(a.target)){const u=new R(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,$e.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ie();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Kd(e,n,this.Wt,this.jt,r);return this.jt=Vn(),this.zt=oH(),this.Wt=new Ue(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new sH,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new je(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new sH),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function oH(){return new Ue(R.comparator)}function aH(){return new Ue(R.comparator)}const The={asc:"ASCENDING",desc:"DESCENDING"},She={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ahe={and:"AND",or:"OR"};class xhe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Q0(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function Uu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mhe(t,e){return Uu(t,e.toTimestamp())}function ht(t){return $(!!t),H.fromTimestamp(function(e){const n=bs(e);return new Je(n.seconds,n.nanos)}(t))}function Y0(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function cH(t){const e=de.fromString(t);return $(_H(e)),e}function Yd(t,e){return Y0(t.databaseId,e.path)}function ri(t,e){const n=cH(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(dH(n))}function X0(t,e){return Y0(t.databaseId,e)}function Xd(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dH(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hH(t,e,n){return{name:Yd(t,e),fields:n.value.mapValue.fields}}function pH(t,e){return{documents:[X0(t,e.path)]}}function Z0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=X0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=X0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return yH(Ae.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:As((l=c).field),direction:Ohe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Q0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function gH(t){let e=function lH(t){const e=cH(t);return 4===e.length?de.emptyPath():dH(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=mH(l);return d instanceof Ae&&O0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Nu(Bu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Pd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ss((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ss(l.values||[],!l.before)}(n.endAt)),function R$(t,e,n,r,i,s,o,a){return new Ui(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function mH(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bu(e.unaryFilter.field);return ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Bu(e.unaryFilter.field);return ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bu(e.unaryFilter.field);return ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bu(e.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):void 0!==t.fieldFilter?function(e){return ae.create(Bu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Ae.create(e.compositeFilter.filters.map(n=>mH(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(t):U()}function Ohe(t){return The[t]}function Fhe(t){return She[t]}function Lhe(t){return Ahe[t]}function As(t){return{fieldPath:t.canonicalString()}}function Bu(t){return dt.fromServerFormat(t.fieldPath)}function yH(t){return t instanceof ae?function(e){if("=="===e.op){if(g$(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NAN"}};if(p$(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(g$(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NOT_NAN"}};if(p$(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(e.field),op:Fhe(e.op),value:e.value}}}(t):t instanceof Ae?function(e){const n=e.getFilters().map(r=>yH(r));return 1===n.length?n[0]:{compositeFilter:{op:Lhe(e.op),filters:n}}}(t):U()}function Vhe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _H(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class $i{constructor(e,n,r,i,s=H.min(),o=H.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vH{constructor(e){this.fe=e}}function eS(t){const e=gH({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Im(e,e.limit,"L"):e}class Uo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Od(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Vi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?m$(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):U()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),R.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Uo.Ve=new Uo;class Whe{constructor(){this.rn=new oS}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Zn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Zn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class oS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(de.comparator)).toArray()}}new Uint8Array(0);class ln{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class jo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new jo(0)}static Mn(){return new jo(-1)}}class Zhe{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&qd(r.mutation,i,Ln.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=ni();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Hd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vn();const o=Gd(),a=Gd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ji)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),qd(l.mutation,c,l.mutation.getFieldMask(),Je.now())):o.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new nfe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Gd();let i=new Ue((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Ln.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ie()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=V$();l.forEach(h=>{if(!s.has(h)){const f=W$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function U0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(ni());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ie())).next(l=>({batchId:a,changes:L$(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=Hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Hd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ui(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,$e.newInvalidDocument(c)))});let o=Hd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&qd(c.mutation,u,Ln.empty(),Je.now()),$d(n,u)&&(o=o.insert(a,u))}),o})}}class rfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ht(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:eS(r.bundledQuery),readTime:ht(r.readTime)}),w.resolve();var r}}class ife{constructor(){this.overlays=new Ue(R.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ni();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=ni(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ni(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ni(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new q0(n,r));let s=this.ls.get(n);void 0===s&&(s=ie(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class aS{constructor(){this.fs=new je(kt.ds),this.ws=new je(kt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new kt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new kt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new R(new de([])),r=new kt(n,e),i=new kt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new R(new de([])),r=new kt(n,e),i=new kt(n,e+1);let s=ie();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return R.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||R.comparator(e.key,n.key)}}class sfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new je(kt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new G0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(X);return n.forEach(i=>{const s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new kt(new R(s),0);let a=new je(X);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new kt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ofe{constructor(e){this.Ds=e,this.docs=new Ue(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn();const o=n.path,a=new R(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||A0(Zj(l),r)<=0||(i.has(l.key)||$d(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new afe(this)}getSize(e){return w.resolve(this.size)}}class afe extends Zhe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class ufe{constructor(e){this.persistence=e,this.xs=new Bi(n=>No(n),Bd),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Ns=0,this.ks=new aS,this.targetCount=0,this.Ms=jo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class uS{constructor(e,n){this.$s={},this.overlays={},this.Os=new er(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ufe(this),this.indexManager=new Whe,this.remoteDocumentCache=new ofe(r=>this.referenceDelegate.Ls(r)),this.serializer=new vH(n),this.qs=new rfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ife,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new sfe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new cfe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class cfe extends Mde{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Qs=new aS,this.js=null}static zs(e){return new Om(e)}get Ws(){if(this.js)return this.js;throw U()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=R.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,H.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class hS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hS(e,n.fromCache,r,i)}}class WH{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(N$(n))return w.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Im(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Im(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return N$(n)||i.isEqual(H.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(D0()<=pe.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),j0(n)),this.Wi(e,o,n,function Jj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=H.fromTimestamp(1e9===r?new Je(n+1,0):new Je(n,r));return new Zn(i,R.empty(),e)}(i,-1)))})}ji(e,n){let r=new je(O$(e));return n.forEach((i,s)=>{$d(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return D0()<=pe.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",j0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Zn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class dfe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ue(X),this.Yi=new Bi(s=>No(s),Bd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function QH(t,e){return fS.apply(this,arguments)}function fS(){return fS=y(function*(t,e){const n=N(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ie();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),fS.apply(this,arguments)}function YH(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function pfe(t,e){const n=N(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gu(t,e,n){return pS.apply(this,arguments)}function pS(){return pS=y(function*(t,e,n){const r=N(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Is(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),pS.apply(this,arguments)}function Vm(t,e,n){const r=N(t);let i=H.min(),s=ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=N(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:H.min(),n?s:ie())).next(a=>(function eG(t,e,n){let r=t.Xi.get(e)||H.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function P$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class vS{constructor(){this.activeTargetIds=function $0(){return ghe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rG{constructor(){this.Hr=new vS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yfe{Yr(e){}shutdown(){}}class iG{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jm=null;function IS(){return null===jm?jm=268435456+Math.round(2147483648*Math.random()):jm++,"0x"+jm.toString(16)}const _fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vfe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const dn="WebChannelConnection";class wfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=IS(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Sr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Au,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${_fe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=IS();return new Promise((o,a)=>{const u=new _de;u.setWithCredentials(!0),u.listenOnce(gde.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case C0.NO_ERROR:const l=u.getResponseJson();S(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case C0.TIMEOUT:S(dn,`RPC '${e}' ${s} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case C0.HTTP_ERROR:const d=u.getStatus();if(S(dn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{S(dn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(dn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=IS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fde(),a=pde(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new yde({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(dn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new vfe({ro:m=>{f?S(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(dn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(dn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,v,_)=>{m.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return g(d,am.EventType.OPEN,()=>{f||S(dn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,am.EventType.CLOSE,()=>{f||(f=!0,S(dn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,am.EventType.ERROR,m=>{f||(f=!0,Sr(dn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new D(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,am.EventType.MESSAGE,m=>{var v;if(!f){const _=m.data[0];$(!!_);const A=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(A){S(dn,`RPC '${e}' stream ${i} received error:`,A);const V=A.status;let z=function(et){const Bn=yt[et];if(void 0!==Bn)return Z$(Bn)}(V),_e=A.message;void 0===z&&(z=I.INTERNAL,_e="Unknown error status: "+V+" with message "+A.message),f=!0,p.wo(new D(z,_e)),d.close()}else S(dn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,mde.STAT_EVENT,m=>{m.stat===qj.PROXY?S(dn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===qj.NOPROXY&&S(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function $m(){return typeof document<"u"?document:null}function ah(t){return new xhe(t,!0)}class ES{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oG{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ES(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(lt(n.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ife extends oG{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Nhe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:U(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?($(void 0===c||"string"==typeof c),Dt.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:Z$(u.code);return new D(c,u.message||"")}(o);n=new iH(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ri(t,r.document.name),s=ht(r.document.updateTime),o=r.document.createTime?ht(r.document.createTime):H.min(),a=new Qt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);n=new Tm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ri(t,r.document),s=r.readTime?ht(r.readTime):H.min(),o=$e.newNoDocument(i,s);n=new Tm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ri(t,r.document);n=new Tm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new bhe(i,s);n=new rH(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return H.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?ht(s.readTime):H.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Xd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=_m(a)?{documents:pH(i,a)}:{query:Z0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=uH(i,s.resumeToken);const u=Q0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(H.min())>0){o.readTime=Uu(i,s.snapshotVersion.toTimestamp());const u=Q0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Phe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Xd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Efe extends oG{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function khe(t,e){return t&&t.length>0?($(void 0!==e),t.map(n=>function(r,i){let s=ht(r.updateTime?r.updateTime:i);return s.isEqual(H.min())&&(s=ht(i)),new vhe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ht(e.commitTime);return this.listener.cu(r,n)}return $(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Xd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Jd(t,e){let n;if(e instanceof Lu)n={update:hH(t,e.key,e.value)};else if(e instanceof Vu)n={delete:Yd(t,e.key)};else if(e instanceof ji)n={update:hH(t,e.key,e.data),updateMask:Vhe(e.fieldMask)};else{if(!(e instanceof H0))return U();n={verify:Yd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Mhe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),n;var i}(this.serializer,r))};this.Wo(n)}}class bfe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Dfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lt(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Tfe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;Ns(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=N(c);l.vu.add(4),yield zu(l),l.bu.set("Unknown"),l.vu.delete(4),yield uh(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Dfe(r,i)}}function uh(t){return CS.apply(this,arguments)}function CS(){return CS=y(function*(t){if(Ns(t))for(const e of t.Ru)yield e(!0)}),CS.apply(this,arguments)}function zu(t){return DS.apply(this,arguments)}function DS(){return DS=y(function*(t){for(const e of t.Ru)yield e(!1)}),DS.apply(this,arguments)}function Hm(t,e){const n=N(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),AS(n)?SS(n):Wu(n).Ko()&&TS(n,e))}function ch(t,e){const n=N(t),r=Wu(n);n.Au.delete(e),r.Ko()&&aG(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ns(n)&&n.bu.set("Unknown"))}function TS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wu(t).su(e)}function aG(t,e){t.Vu.qt(e),Wu(t).iu(e)}function SS(t){t.Vu=new Dhe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Wu(t).start(),t.bu.gu()}function AS(t){return Ns(t)&&!Wu(t).Uo()&&t.Au.size>0}function Ns(t){return 0===N(t).vu.size}function uG(t){t.Vu=void 0}function Sfe(t){return xS.apply(this,arguments)}function xS(){return xS=y(function*(t){t.Au.forEach((e,n)=>{TS(t,e)})}),xS.apply(this,arguments)}function Afe(t,e){return MS.apply(this,arguments)}function MS(){return MS=y(function*(t,e){uG(t),AS(t)?(t.bu.Iu(e),SS(t)):t.bu.set("Unknown")}),MS.apply(this,arguments)}function xfe(t,e,n){return RS.apply(this,arguments)}function RS(){return RS=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof iH&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gm(t,r)}else if(e instanceof Tm?t.Vu.Ht(e):e instanceof rH?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(H.min()))try{const r=yield YH(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),aG(i,a);const l=new $i(c.target,a,u,c.sequenceNumber);TS(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Gm(t,r)}var r}),RS.apply(this,arguments)}function Gm(t,e,n){return NS.apply(this,arguments)}function NS(){return NS=y(function*(t,e,n){if(!Is(e))throw e;t.vu.add(1),yield zu(t),t.bu.set("Offline"),n||(n=()=>YH(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield uh(t)}))}),NS.apply(this,arguments)}function cG(t,e){return e().catch(n=>Gm(t,n,e))}function qu(t){return kS.apply(this,arguments)}function kS(){return kS=y(function*(t){const e=N(t),n=ks(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Mfe(e);)try{const i=yield pfe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Rfe(e,i)}catch(i){yield Gm(e,i)}lG(e)&&dG(e)}),kS.apply(this,arguments)}function Mfe(t){return Ns(t)&&t.Eu.length<10}function Rfe(t,e){t.Eu.push(e);const n=ks(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function lG(t){return Ns(t)&&!ks(t).Uo()&&t.Eu.length>0}function dG(t){ks(t).start()}function Nfe(t){return PS.apply(this,arguments)}function PS(){return PS=y(function*(t){ks(t).hu()}),PS.apply(this,arguments)}function kfe(t){return OS.apply(this,arguments)}function OS(){return OS=y(function*(t){const e=ks(t);for(const n of t.Eu)e.uu(n.mutations)}),OS.apply(this,arguments)}function Pfe(t,e,n){return FS.apply(this,arguments)}function FS(){return FS=y(function*(t,e,n){const r=t.Eu.shift(),i=z0.from(r,e,n);yield cG(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qu(t)}),FS.apply(this,arguments)}function Ofe(t,e){return LS.apply(this,arguments)}function LS(){return LS=y(function*(t,e){var n;e&&ks(t).ou&&(yield(n=y(function*(r,i){if(function J$(t){switch(t){default:return U();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();ks(r).Qo(),yield cG(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),lG(t)&&dG(t)}),LS.apply(this,arguments)}function hG(t,e){return VS.apply(this,arguments)}function VS(){return VS=y(function*(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ns(n);n.vu.add(3),yield zu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield uh(n)}),VS.apply(this,arguments)}function BS(){return BS=y(function*(t,e){const n=N(t);e?(n.vu.delete(2),yield uh(n)):e||(n.vu.add(2),yield zu(n),n.bu.set("Unknown"))}),BS.apply(this,arguments)}function Wu(t){return t.Su||(t.Su=function(e,n,r){const i=N(e);return i.fu(),new Ife(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Sfe.bind(null,t),ao:Afe.bind(null,t),nu:xfe.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),AS(t)?SS(t):t.bu.set("Unknown")):(yield t.Su.stop(),uG(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ks(t){return t.Du||(t.Du=function(e,n,r){const i=N(e);return i.fu(),new Efe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Nfe.bind(null,t),ao:Ofe.bind(null,t),au:kfe.bind(null,t),cu:Pfe.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Du.Qo(),yield qu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class jS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new jS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ku(t,e){if(lt("AsyncQueue",`${e}: ${t}`),Is(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Qu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=Hd(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new Qu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fG{constructor(){this.Cu=new Ue(R.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):U():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yu(e,n,Qu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ffe{constructor(){this.Nu=void 0,this.listeners=[]}}class Lfe{constructor(){this.queries=new Bi(e=>k$(e),jd),this.onlineState="Unknown",this.ku=new Set}}function $S(t,e){return HS.apply(this,arguments)}function HS(){return HS=y(function*(t,e){const n=N(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ffe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Ku(o,`Initialization of query '${j0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&qS(n)}),HS.apply(this,arguments)}function GS(t,e){return zS.apply(this,arguments)}function zS(){return zS=y(function*(t,e){const n=N(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),zS.apply(this,arguments)}function Vfe(t,e){const n=N(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&qS(n)}function Ufe(t,e,n){const r=N(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function qS(t){t.ku.forEach(e=>{e.next()})}class WS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class mG{constructor(e){this.key=e}}class yG{constructor(e){this.key=e}}class _G{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ie(),this.mutatedKeys=ie(),this.tc=O$(e),this.ec=new Qu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new fG,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=$d(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Yu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fG,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ie(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new yG(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new mG(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ie();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Yu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class $fe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hfe{constructor(e){this.key=e,this.fc=!1}}class Gfe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Bi(a=>k$(a),jd),this._c=new Map,this.mc=new Set,this.gc=new Ue(R.comparator),this.yc=new Map,this.Ic=new aS,this.Tc={},this.Ec=new Map,this.Ac=jo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function zfe(t,e){return KS.apply(this,arguments)}function KS(){return KS=y(function*(t,e){const n=function yA(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=epe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kfe.bind(null,e),e.dc.nu=Vfe.bind(null,e.eventManager),e.dc.Pc=Ufe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Hu(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new $i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Cn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function QS(t,e,n,r,i){return YS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Hm(n.remoteStore,o)}return i}),KS.apply(this,arguments)}function YS(){return YS=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,v,_){let E=m.view.sc(v);E.zi&&(E=yield Vm(g.localStore,m.query,!1).then(({documents:z})=>m.view.sc(z,E)));const A=_&&_.targetChanges.get(m.targetId),V=m.view.applyChanges(E,g.isPrimaryClient,A);return oA(g,m.targetId,V.cc),V.snapshot}),function(g,m,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Vm(t.localStore,e,!0),o=new _G(e,s.ir),a=o.sc(s.documents),u=Qd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);oA(t,n,c.cc);const l=new $fe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),YS.apply(this,arguments)}function qfe(t,e){return XS.apply(this,arguments)}function XS(){return XS=y(function*(t,e){const n=N(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!jd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ch(n.remoteStore,r.targetId),Xu(n,r.targetId)}).catch(ws))):(Xu(n,r.targetId),yield Gu(n.localStore,r.targetId,!0))}),XS.apply(this,arguments)}function JS(){return JS=y(function*(t,e,n){const r=function _A(t){const e=N(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yfe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=N(s),u=Je.now(),c=o.reduce((h,f)=>h.add(f.key),ie());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Vn(),p=ie();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const v of o){const _=Ihe(v,l.get(v.key).overlayedDocument);null!=_&&m.push(new ji(v.key,_,v$(_.value.mapValue),Ke.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:L$(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Ue(X)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Hi(r,i.changes),yield qu(r.remoteStore)}catch(i){const s=Ku(i,"Failed to persist write");n.reject(s)}}),JS.apply(this,arguments)}function vG(t,e){return ZS.apply(this,arguments)}function ZS(){return ZS=y(function*(t,e){const n=N(t);try{const r=yield function ffe(t,e){const n=N(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Dt.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Vn(),c=ie();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function XH(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(H.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(H.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?$(o.fc):i.removedDocuments.size>0&&($(o.fc),o.fc=!1))}),yield Hi(n,r,e)}catch(r){yield ws(r)}}),ZS.apply(this,arguments)}function wG(t,e,n){const r=N(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&qS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kfe(t,e,n){return eA.apply(this,arguments)}function eA(){return eA=y(function*(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ue(R.comparator);o=o.insert(s,$e.newNoDocument(s,H.min()));const a=ie().add(s),u=new Kd(H.min(),new Map,new Ue(X),o,a);yield vG(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),aA(r)}else yield Gu(r.localStore,e,!1).then(()=>Xu(r,e,n)).catch(ws)}),eA.apply(this,arguments)}function Qfe(t,e){return tA.apply(this,arguments)}function tA(){return tA=y(function*(t,e){const n=N(t),r=e.batch.batchId;try{const i=yield function hfe(t,e){const n=N(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);$(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ie();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);sA(n,r,null),iA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hi(n,i)}catch(i){yield ws(i)}}),tA.apply(this,arguments)}function Yfe(t,e,n){return nA.apply(this,arguments)}function nA(){return nA=y(function*(t,e,n){const r=N(t);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>($(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);sA(r,e,n),iA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hi(r,i)}catch(i){yield ws(i)}}),nA.apply(this,arguments)}function iA(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function sA(t,e,n){const r=N(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Xu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||IG(t,r)})}function IG(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(ch(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),aA(t))}function oA(t,e,n){for(const r of n)r instanceof mG?(t.Ic.addReference(r.key,e),Jfe(t,r)):r instanceof yG?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||IG(t,r.key)):U()}function Jfe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),aA(t))}function aA(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new R(de.fromString(e)),r=t.Ac.next();t.yc.set(r,new Hfe(n)),t.gc=t.gc.insert(n,r),Hm(t.remoteStore,new $i(Cn(Pu(n.path)),r,"TargetPurposeLimboResolution",er.ct))}}function Hi(t,e,n){return uA.apply(this,arguments)}function uA(){return uA=y(function*(t,e,n){const r=N(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=hS.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,c){const l=N(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Is(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),uA.apply(this,arguments)}function Zfe(t,e){return cA.apply(this,arguments)}function cA(){return cA=y(function*(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield QH(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hi(n,r.er)}var i}),cA.apply(this,arguments)}function epe(t,e){const n=N(t),r=n.yc.get(e);if(r&&r.fc)return ie().add(r.key);{let i=ie();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class zm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=ah(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function KH(t,e,n,r){return new dfe(t,e,n,r)}(this.persistence,new WH,e.initialUser,this.serializer)}createPersistence(e){return new uS(Om.zs,this.serializer)}createSharedClientState(e){return new rG}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ju{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Zfe.bind(null,r.syncEngine),yield function US(t,e){return BS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Lfe}createDatastore(e){const n=ah(e.databaseInfo.databaseId),r=new wfe(e.databaseInfo);return new bfe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>wG(this.syncEngine,a,0),o=iG.D()?new iG:new yfe,new Tfe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Gfe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=N(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield zu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class qm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class fpe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=Yj.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ku(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Wm(t,e){return vA.apply(this,arguments)}function vA(){return vA=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield QH(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),vA.apply(this,arguments)}function wA(t,e){return IA.apply(this,arguments)}function IA(){return IA=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function EA(t){return bA.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>hG(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>hG(e.remoteStore,s)),t._onlineComponents=e}),IA.apply(this,arguments)}function bA(){return bA=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function SG(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Sr("Error using user provided cache. Falling back to memory cache: "+n),yield Wm(t,new zm)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Wm(t,new zm);return t._offlineComponents}),bA.apply(this,arguments)}function Km(t){return CA.apply(this,arguments)}function CA(){return CA=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield wA(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield wA(t,new Ju))),t._onlineComponents}),CA.apply(this,arguments)}function Zu(t){return TA.apply(this,arguments)}function TA(){return TA=y(function*(t){const e=yield Km(t),n=e.eventManager;return n.onListen=zfe.bind(null,e.syncEngine),n.onUnlisten=qfe.bind(null,e.syncEngine),n}),TA.apply(this,arguments)}function kG(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const PG=new Map;function SA(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OG(t){if(!R.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FG(t){if(R.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ym(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":U()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ym(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class VG{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Epe(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VG(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new wde;switch(n.type){case"firstParty":return new Cde(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=PG.get(e);n&&(S("ComponentProvider","Removing Datastore"),PG.delete(e),n.terminate())}(this),Promise.resolve()}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}}class Yt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yt(this.firestore,e,this._query)}}class ii extends Yt{constructor(e,n,r){super(e,n,Pu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new R(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Cpe(t,e,...n){if(t=$t(t),SA("collection","path",e),t instanceof lh){const r=de.fromString(e,...n);return FG(r),new ii(t,null,r)}{if(!(t instanceof ft||t instanceof ii))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return FG(r),new ii(t.firestore,null,r)}}class Tpe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ES(this,"async_queue_retry"),this.Xc=()=>{const n=$m();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=$m();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=$m();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Is(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,lt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=jS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&U()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function AA(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class He extends lh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tpe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BG(this),this._firestoreClient.terminate()}}function Ape(t,e){const r="string"==typeof t?t:e||"(default)",i=Wl("object"==typeof t?t:rE(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=N2("firestore");s&&function bpe(t,e,n,r={}){var i;const s=(t=ue(t,lh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Sr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Rt.MOCK_USER;else{a=P2(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(c)}t._authCredentials=new Ide(new Kj(a,u))}}(i,...s)}return i}function _t(t){return t._firestoreClient||BG(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BG(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ehe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kG(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new fpe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Dt.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ec{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HG{constructor(e){this._methodName=e}}class xA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const Mpe=/^__.*__$/;class Rpe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}function zG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Xm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Zm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(zG(this.ca)&&Mpe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Npe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ah(e)}ya(e,n,r,i=!1){return new Xm({ca:e,methodName:n,ga:r,path:dt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tc(t){const e=t._freezeSettings(),n=ah(t._databaseId);return new Npe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MA(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);NA("Data must be an object, but it was:",o,r);const a=YG(r,o);let u,c;if(s.merge)u=new Ln(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=fh(e,d,n);if(!o.contains(h))throw new D(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JG(l,h)||l.push(h)}u=new Ln(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Rpe(new Qt(a),u,c)}function Go(t,e){if(XG(t=$t(t)))return NA("Unsupported field value:",e,t),YG(t,e);if(t instanceof HG)return function(n,r){if(!zG(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Go(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=$t(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return j$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Je.fromDate(n);return{timestampValue:Uu(r.serializer,i)}}if(n instanceof Je){const i=new Je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Uu(r.serializer,i)}}if(n instanceof xA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ho)return{bytesValue:uH(r.serializer,n._byteString)};if(n instanceof ft){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Y0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Ym(n)}`)}(t,e)}function YG(t,e){const n={};return l$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(r,i)=>{const s=Go(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function XG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof xA||t instanceof Ho||t instanceof ft||t instanceof HG)}function NA(t,e,n){if(!XG(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ym(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function fh(t,e,n){if((e=$t(e))instanceof ec)return e._internalPath;if("string"==typeof e)return Jm(t,e);throw Zm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fpe=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,n){if(e.search(Fpe)>=0)throw Zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ec(...e.split("."))._internalPath}catch{throw Zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}function JG(t,e){return t.some(n=>n.isEqual(e))}class kA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ey("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Lpe extends kA{data(){return super.data()}}function ey(t,e){return"string"==typeof e?Jm(t,e):e instanceof ec?e._internalPath:e._delegate._internalPath}function ZG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Upe{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Es(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xA(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const n=bs(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);$(_H(r));const i=new Mo(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||lt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends kA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ey("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iy extends rc{data(e={}){return super.data(e)}}class ic{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new iy(this._firestore,this._userDataWriter,r.key,r,new zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new iy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new iy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:jpe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jpe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}class Ps extends Upe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function $pe(t){t=ue(t,Yt);const e=ue(t.firestore,He),n=_t(e),r=new Ps(e);return ZG(t._query),function NG(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,u){const c=new qm({next:d=>{s.enqueueAndForget(()=>GS(i,l)),d.fromCache&&"server"===a.source?u.reject(new D(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new WS(o,c,{includeMetadataChanges:!0,Ku:!0});return $S(i,l)}(yield Zu(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new ic(e,r,t,i))}function Hpe(t,e){const n=ue(t.firestore,He),r=function Dpe(t,e,...n){if(t=$t(t),1===arguments.length&&(e=Yj.A()),SA("doc","path",e),t instanceof lh){const r=de.fromString(e,...n);return OG(r),new ft(t,null,new R(r))}{if(!(t instanceof ft||t instanceof ii))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return OG(r),new ft(t.firestore,t instanceof ii?t.converter:null,new R(r))}}(t),i=function OA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function gh(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(y(function*(){return function Wfe(t,e,n){return JS.apply(this,arguments)}(yield function DA(t){return Km(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(_t(t),e)}(n,[MA(tc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}!function(t,e=!0){Au=fu,on(new Ht("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new He(new Ede(n.getProvider("auth-internal")),new Dde(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),We(Wj,"3.13.0",t),We(Wj,"3.13.0","esm2017")}();var oy=function(){return oy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},oy.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var nge={includeMetadataChanges:!1};function VA(t,e){return void 0===e&&(e=nge),new Ge(function(n){var r=function Gpe(t,...e){var n,r,i;t=$t(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||AA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(AA(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ft)c=ue(t.firestore,He),l=Pu(t._key.path),u={next:d=>{e[o]&&e[o](function FA(t,e,n){const r=n.docs.get(e._key),i=new Ps(t);return new rc(t,i,e._key,r,new zo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ue(t,Yt);c=ue(d.firestore,He),l=d._query;const h=new Ps(c);u={next:f=>{e[o]&&e[o](new ic(c,h,d,f))},error:e[o+1],complete:e[o+2]},ZG(t._query)}return function(d,h,f,p){const g=new qm(p),m=new WS(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return $S(yield Zu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return GS(yield Zu(d),m)}))}}(_t(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function cge(t,e){return void 0===e&&(e={}),function uge(t){return VA(t,{includeMetadataChanges:!0}).pipe(fe(function(e){return e.docs}))}(t).pipe(fe(function(n){return n.map(function(r){return function a4(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?oy(oy({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class sc{constructor(e){return e}}const d4="firestore",jA=new F("angularfire2.firestore-instances");function fge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sc(r)}}const pge={provide:class dge{constructor(){return dg(d4)}},deps:[[new Tt,jA]]},gge={provide:sc,useFactory:function hge(t,e){const n=lg(d4,t,e);return n&&new sc(n)},deps:[[new Tt,jA],vo]};let mge=(()=>{class t{constructor(){We("angularfire",cg.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=hn({type:t}),t.\u0275inj=Xt({providers:[gge,pge]}),t})();function yge(t,...e){return{ngModule:mge,providers:[{provide:jA,useFactory:fge(t),multi:!0,deps:[Ee,tn,iC,sC,[new Tt,hT],[new Tt,PT],...e]}]}}const $A=Cr(cge,!0),HA=Cr(Hpe,!0),oc=Cr(Cpe,!0),GA=Cr($pe,!0),_ge=Cr(Ape,!0),h4="firebasestorage.googleapis.com",f4="storageBucket";class Ze extends cr{constructor(e,n,r=0){super(zA(e),`Firebase Storage: ${n} (${zA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Qe=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Qe||{});function zA(t){return"storage/"+t}function qA(){return new Ze(Qe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function WA(t){return new Ze(Qe.INVALID_ARGUMENT,t)}function y4(){return new Ze(Qe.APP_DELETED,"The Firebase app was deleted.")}function mh(t,e){return new Ze(Qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yh(t){throw new Ze(Qe.INTERNAL_ERROR,"Internal error: "+t)}class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(""===r.path)return r;throw function Age(t){return new Ze(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===h4?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const V=E[A],z=V.regex.exec(e);if(z){let et=z[V.indices.path];et||(et=""),r=new Dn(z[V.indices.bucket],et),V.postModify(r);break}}if(null==r)throw function Sge(t){return new Ze(Qe.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Pge{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ay(t){return"string"==typeof t||t instanceof String}function _4(t){return KA()&&t instanceof Blob}function KA(){return typeof Blob<"u"&&!function O2(){var t;const e=null===(t=Xp())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function QA(t,e,n,r){if(r<e)throw WA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw WA(`Invalid value for '${t}'. Expected ${n} or less.`)}function Gi(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function v4(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var ac=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ac||{});class Bge{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function Lge(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=qA();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?y4():function g4(){return new Ze(Qe.CANCELED,"User canceled the upload/download.")}():function p4(){return new Ze(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new uy(!1,null,!0)):this.backoffId_=function Oge(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...m){c||(c=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(f,u())},m)}function h(){s&&clearTimeout(s)}function f(m,...v){if(c)return void h();if(m)return h(),void l.call(null,m,...v);if(u()||o)return h(),void l.call(null,m,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function g(m){p||(p=!0,h(),!c&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new uy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ac.NO_ERROR,u=s.getStatus();if(!a||function w4(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===ac.ABORT;return void r(!1,new uy(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new uy(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Fge(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class uy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wge(...t){const e=function qge(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(KA())return new Blob(t);throw new Ze(Qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class YA{constructor(e,n){this.data=e,this.contentType=n||null}}function E4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function b4(t,e){switch(t){case xr.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw mh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw mh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Qge(t){if(typeof atob>"u")throw function Nge(t){return new Ze(Qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:mh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class C4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw mh(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Zge(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class zi{constructor(e,n){let r=0,i="";_4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_4(this.data_)){const i=function Kge(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new zi(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new zi(r,!0)}}static getBlob(...e){if(KA()){const n=e.map(r=>r instanceof zi?r.data_:r);return new zi(Wge.apply(null,n))}{const n=e.map(o=>ay(o)?function I4(t,e){switch(t){case xr.RAW:return new YA(E4(e));case xr.BASE64:case xr.BASE64URL:return new YA(b4(t,e));case xr.DATA_URL:return new YA(function Xge(t){const e=new C4(t);return e.base64?b4(xr.BASE64,e.rest):function Yge(t){let e;try{e=decodeURIComponent(t)}catch{throw mh(xr.DATA_URL,"Malformed data URL.")}return E4(e)}(e.rest)}(e),function Jge(t){return new C4(t).contentType}(e))}throw qA()}(xr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new zi(i,!0)}}uploadData(){return this.data_}}function XA(t){let e;try{e=JSON.parse(t)}catch{return null}return function Uge(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function D4(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function nme(t,e){return e}class Tn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||nme}}let cy=null;function _h(){if(cy)return cy;const t=[];t.push(new Tn("bucket")),t.push(new Tn("generation")),t.push(new Tn("metageneration")),t.push(new Tn("name","fullPath",!0));const n=new Tn("name");n.xform=function e(s,o){return function rme(t){return!ay(t)||t.length<2?t:D4(t)}(o)},t.push(n);const i=new Tn("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new Tn("timeCreated")),t.push(new Tn("updated")),t.push(new Tn("md5Hash",null,!0)),t.push(new Tn("cacheControl",null,!0)),t.push(new Tn("contentDisposition",null,!0)),t.push(new Tn("contentEncoding",null,!0)),t.push(new Tn("contentLanguage",null,!0)),t.push(new Tn("contentType",null,!0)),t.push(new Tn("metadata","customMetadata",!0)),cy=t,cy}function T4(t,e,n){const r=XA(e);return null===r?null:function sme(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function ime(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new Dn(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}const S4="prefixes",A4="items";class si{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function oi(t){if(!t)throw qA()}function uc(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Dge(){return new Ze(Qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Cge(){return new Ze(Qe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function bge(t){return new Ze(Qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Tge(t){return new Ze(Qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function dme(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=Gi(e.bucketOnlyServerUrl(),t.host,t._protocol),c=t.maxOperationRetryTime,l=new si(a,"GET",function cme(t,e){return function n(r,i){const s=function ume(t,e,n){const r=XA(n);return null===r?null:function ame(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[S4])for(const i of n[S4]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Dn(e,s));r.prefixes.push(o)}if(n[A4])for(const i of n[A4]){const s=t._makeStorageReference(new Dn(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return oi(null!==s),s}}(t,e.bucket),c);return l.urlParams=s,l.errorHandler=uc(e),l}function N4(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let E="";for(let A=0;A<2;A++)E+=Math.random().toString().slice(2);return E}();o["Content-Type"]="multipart/related; boundary="+u;const c=function R4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function gme(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),l=function JA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}(c,n),f=zi.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===f)throw function m4(){return new Ze(Qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},g=Gi(s,t.host,t._protocol),v=t.maxUploadRetryTime,_=new si(g,"POST",function ly(t,e){return function n(r,i){const s=T4(t,i,e);return oi(null!==s),s}}(t,n),v);return _.urlParams=p,_.headers=o,_.body=f.uploadData(),_.errorHandler=uc(e),_}let P4=null;class wme{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ac.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ac.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ac.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw yh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ime extends wme{initXhr(){this.xhr_.responseType="text"}}function Mr(){return P4?P4():new Ime}class qo{constructor(e,n){this._service=e,this._location=n instanceof Dn?n:Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qo(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D4(this._location.path)}get storage(){return this._service}get parent(){const e=function eme(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Dn(this._location.bucket,e);return new qo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function kge(t){return new Ze(Qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function F4(t,e,n){return tx.apply(this,arguments)}function tx(){return tx=y(function*(t,e,n){const i=yield function L4(t,e){null!=e&&"number"==typeof e.maxResults&&QA("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=dme(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Mr)}(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield F4(t,e,i.nextPageToken))}),tx.apply(this,arguments)}function Pme(t){t._throwIfRoot("getDownloadURL");const e=function hme(t,e,n){const i=Gi(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new si(i,"GET",function lme(t,e){return function n(r,i){const s=T4(t,i,e);return oi(null!==s),function ome(t,e,n,r){const i=XA(e);if(null===i||!ay(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.fullPath;return Gi("/b/"+o(t.bucket)+"/o/"+o(d),n,r)+v4({alt:"media",token:c})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=function vh(t){const e=uc(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Ege(t){return new Ze(Qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}(e),a}(t.storage,t._location,_h());return t.storage.makeRequestWithTokens(e,Mr).then(n=>{if(null===n)throw function Rge(){return new Ze(Qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function U4(t,e){if(t instanceof nx){const n=t;if(null==n._bucket)throw function xge(){return new Ze(Qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f4+"' property when initializing the app?")}();const r=new qo(n,n._bucket);return null!=e?U4(r,e):r}return void 0!==e?function V4(t,e){const n=function tme(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Dn(t._location.bucket,n);return new qo(t.storage,r)}(t,e):t}function B4(t,e){const n=e?.[f4];return null==n?null:Dn.makeFromBucketSpec(n,t)}class nx{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=h4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Dn.makeFromBucketSpec(i,this._host):B4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Dn.makeFromBucketSpec(this._url,e):B4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return y(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return y(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Pge(y4());{const o=function zge(t,e,n,r,i,s,o=!0){const a=v4(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function Hge(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function jge(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function $ge(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function Gge(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Bge(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return y(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const j4="@firebase/storage",H4="storage";function Bme(t,e,n){return function O4(t,e,n){t._throwIfRoot("uploadBytes");const r=N4(t.storage,t._location,_h(),new zi(e,!0),n);return t.storage.makeRequestWithTokens(r,Mr).then(i=>({metadata:i,ref:t}))}(t=$t(t),e,n)}function jme(t){return function Rme(t){const e={prefixes:[],items:[]};return F4(t,e).then(()=>e)}(t=$t(t))}function $me(t){return Pme(t=$t(t))}function Hme(t,e){return function Vme(t,e){if(e&&function Fme(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof nx)return function Lme(t,e){return new qo(t,e)}(t,e);throw WA("To use ref(service, url), the first argument must be a Storage instance.")}return U4(t,e)}(t=$t(t),e)}function Gme(t=rE(),e){const r=Wl(t=$t(t),H4).getImmediate({identifier:e}),i=N2("storage");return i&&function zme(t,e,n,r={}){!function Ume(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:P2(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function qme(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nx(n,r,i,e,fu)}!function Wme(){on(new Ht(H4,qme,"PUBLIC").setMultipleInstances(!0)),We(j4,"0.11.2",""),We(j4,"0.11.2","esm2017")}();class hy{constructor(e){return e}}const G4="storage",rx=new F("angularfire2.storage-instances");function Yme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new hy(r)}}const Xme={provide:class Kme{constructor(){return dg(G4)}},deps:[[new Tt,rx]]},Jme={provide:hy,useFactory:function Qme(t,e){const n=lg(G4,t,e);return n&&new hy(n)},deps:[[new Tt,rx],vo]};let Zme=(()=>{class t{constructor(){We("angularfire",cg.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=hn({type:t}),t.\u0275inj=Xt({providers:[Jme,Xme]}),t})();function eye(t,...e){return{ngModule:Zme,providers:[{provide:rx,useFactory:Yme(t),multi:!0,deps:[Ee,tn,iC,sC,[new Tt,hT],[new Tt,PT],...e]}]}}const tye=Cr($me,!0),nye=Cr(Gme,!0),rye=Cr(jme,!0),z4=Cr(Hme,!0),iye=Cr(Bme,!0);let q4=(()=>{class t{constructor(n,r){this.firestore=n,this.storage=r}insertar(n){var r=this;return y(function*(){const i=oc(r.firestore,"peliculas");let s=null,o=0;r.obtenerPeliculas().subscribe(function(){var u=y(function*(c){s=c});return function(c){return u.apply(this,arguments)}}());let a=setTimeout(()=>{s.forEach(l=>{const d=l;console.log(d),d.idPelicula>o&&(o=d.idPelicula)}),o++,HA(i,{idPelicula:o,nombre:n.Nombre,tipo:n.Tipo,fechaEstreno:n.FechaEstreno,cantidadPublico:n.CantidadPublico,foto:"./"+n.Nombre+n.Foto.name.match(/\.(j|p|g|t|b)\w+$/)[0],actores:n.Actores});const c=z4(r.storage,"peliculas/"+n.Nombre+n.Foto.name.match(/\.(j|p|g|t|b)\w+$/)[0]);iye(c,n.Foto).then(l=>console.log(l)),clearInterval(a)},5e3)})()}obtenerPeliculas(){const n=oc(this.firestore,"peliculas");return GA(n),$A(n,{idField:"id"})}obtenerImagenesPeliculas(){var n=this;return y(function*(){let r=[];const i=z4(n.storage,"peliculas");return yield rye(i).then(function(){var s=y(function*(o){r=[];for(let a of o.items){const u=yield tye(a);r.push({nombre:"./"+a.name,url:u})}});return function(o){return s.apply(this,arguments)}}()),r})()}static#e=this.\u0275fac=function(r){return new(r||t)(B(sc),B(hy))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sye=(()=>{class t{constructor(){this.outPutdetalle=new Me,this.pelicula=null}obtenerDetallePelicula(){this.outPutdetalle.emit(this.pelicula)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-tabla-pelicula"]],inputs:{pelicula:"pelicula"},outputs:{outPutdetalle:"outPutdetalle"},decls:7,vars:3,consts:[[1,"pelicula","card",2,"width","18rem"],[1,"img","card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(M(0,"div",0),Re(1,"img",1),M(2,"div",2)(3,"h5",3),G(4),P(),M(5,"button",4),De("click",function(){return i.obtenerDetallePelicula()}),G(6,"Ver Detalle"),P()()()),2&r&&(me(1),Ws("src",i.pelicula.urlFoto,$c),ja("alt","imagen de la pelicula ",i.pelicula.nombre,""),me(3),Ha(i.pelicula.nombre))},styles:[".pelicula[_ngcontent-%COMP%]{cursor:pointer}.pelicula[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:420px}"]})}return t})();function oye(t,e){if(1&t){const n=Ba();M(0,"app-tabla-pelicula",3),De("outPutdetalle",function(i){return oa(n),aa(ns().obtenerPelicula(i))}),P()}2&t&&Fe("pelicula",e.$implicit)}let W4=(()=>{class t{constructor(n){this.servicioPeliculas=n,this.outPutPelicula=new Me,this.listadoPeliculas=[],this.imagenes=[]}ngOnInit(){var n=this;return y(function*(){n.imagenes=yield n.servicioPeliculas.obtenerImagenesPeliculas(),n.servicioPeliculas.obtenerPeliculas().subscribe(function(){var r=y(function*(i){n.listadoPeliculas=i;for(let s of n.imagenes)for(let o=0;o<n.listadoPeliculas.length;o++)s.nombre===n.listadoPeliculas[o].foto&&(n.listadoPeliculas[o].urlFoto=s.url);console.log(n.listadoPeliculas)});return function(i){return r.apply(this,arguments)}}())})()}obtenerPelicula(n){this.outPutPelicula.emit(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(q4))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-pelicula-listado"]],outputs:{outPutPelicula:"outPutPelicula"},decls:5,vars:1,consts:[[1,"listado-peliculas"],[1,"peliculas"],[3,"pelicula","outPutdetalle",4,"ngFor","ngForOf"],[3,"pelicula","outPutdetalle"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"h2"),G(2,"Listado de Peliculas"),P(),M(3,"div",1),Bt(4,oye,1,1,"app-tabla-pelicula",2),P()()),2&r&&(me(4),Fe("ngForOf",i.listadoPeliculas))},dependencies:[mp,sye],styles:[".listado-peliculas[_ngcontent-%COMP%]{height:calc(100vh - 56px);display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}.listado-peliculas[_ngcontent-%COMP%]   .peliculas[_ngcontent-%COMP%]{max-width:80%;max-height:90%;display:flex;justify-content:center;flex-wrap:wrap;gap:20px}"]})}return t})(),aye=(()=>{class t{constructor(){this.outPutCerrarDetalle=new Me,this.pelicula=null}eliminarModal(){this.outPutCerrarDetalle.emit()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-detalle-pelicula"]],inputs:{pelicula:"pelicula"},outputs:{outPutCerrarDetalle:"outPutCerrarDetalle"},decls:13,vars:8,consts:[[1,"detalle-pelicula"],[1,"pelicula"],[1,"img",3,"src","alt"],[1,"informacion"],[1,"titulo"],[1,"detalle"],[1,"modal",3,"click"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"article",1),Re(2,"img",2),M(3,"div",3)(4,"h2",4),G(5),P(),M(6,"span",5),G(7),P(),M(8,"span",5),G(9),P(),M(10,"span",5),G(11),P()()()(),M(12,"div",6),De("click",function(){return i.eliminarModal()}),P()),2&r&&(me(2),Ws("src",i.pelicula.urlFoto,$c),ja("alt","imagen de la pelicula ",i.pelicula.nombre,""),me(3),Ha(i.pelicula.nombre),me(2),Ga("Tipo: ",i.pelicula.tipo,""),me(2),Ga("fecha de Estreno: ",i.pelicula.fechaEstreno,""),me(2),Ga("Cantidad de Publico: ",i.pelicula.cantidadPublico,""),me(1),Lv("display","block"))},styles:[".detalle-pelicula[_ngcontent-%COMP%]{height:calc(100vh - 56px);display:flex;justify-content:center;align-items:center}.detalle-pelicula[_ngcontent-%COMP%]   .pelicula[_ngcontent-%COMP%]{width:30%;height:50%;display:flex;gap:10px;background-color:#333;color:#fff;border-radius:5%;box-shadow:0 0 10px #00000080;z-index:1001}.pelicula[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:40%;height:100%}.pelicula[_ngcontent-%COMP%]   .informacion[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;gap:5px}.informacion[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{margin:50px 0}.informacion[_ngcontent-%COMP%]   .detalle[_ngcontent-%COMP%]{font-size:1.3rem}.modal[_ngcontent-%COMP%]{display:none;position:fixed;background-color:#00000080;inset:0;z-index:1000}"]})}return t})();class fy{constructor(e,n,r){this.id=void 0!==r?r:"",this.email=e,this.password=n}get ID(){return this.id}get Email(){return this.email}get Password(){return this.password}guardarLocalStorage(){localStorage.setItem("usuario",JSON.stringify(this))}static eliminarLocalStorage(){localStorage.removeItem("usuario")}static obtenerLocalStorage(){return null!==localStorage.getItem("usuario")?JSON.parse(localStorage.getItem("usuario")):null}}let py=(()=>{class t{constructor(n){this.router=n}deslogin(){fy.eliminarLocalStorage(),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(r){return new(r||t)(b(sn))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-header"]],decls:23,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","header"],[1,"container-fluid"],[1,"navbar-brand","white"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/bienvenido",1,"nav-link","active"],["routerLink","/busqueda",1,"nav-link"],["routerLink","/actor/alta",1,"nav-link"],["routerLink","/peliculas/alta",1,"nav-link"],[1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(M(0,"header",0)(1,"div",1)(2,"a",2),G(3,"Peliculas"),P(),M(4,"button",3),Re(5,"span",4),P(),M(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),G(10,"Home"),P()(),M(11,"li",7)(12,"a",9),G(13,"Busqueda Peliculas"),P()(),M(14,"li",7)(15,"a",10),G(16,"Alta Actores"),P()(),M(17,"li",7)(18,"a",11),G(19,"Alta Pelicula"),P()(),M(20,"li",7)(21,"button",12),De("click",function(){return i.deslogin()}),G(22,"Deslogin"),P()()()()()())},dependencies:[du],styles:[".header[_ngcontent-%COMP%]{background-color:#333;box-shadow:0 4px 4px #0003}.white[_ngcontent-%COMP%]{color:#fff}"]})}return t})();function uye(t,e){if(1&t){const n=Ba();M(0,"app-pelicula-listado",2),De("outPutPelicula",function(i){return oa(n),aa(ns().obtenerPelicula(i))}),P()}}function cye(t,e){if(1&t){const n=Ba();M(0,"app-detalle-pelicula",3),De("outPutCerrarDetalle",function(){return oa(n),aa(ns().ocultarComponenteDetallePelicula())}),P()}2&t&&Fe("pelicula",ns().pelicula)}let lye=(()=>{class t{constructor(){this.pelicula=null,this.ocultarListadoPeliculas=!0,this.ocultarDetallePelicula=!1}obtenerPelicula(n){this.pelicula=n,this.ocultarDetallePelicula=!this.ocultarDetallePelicula,this.ocultarListadoPeliculas=!this.ocultarListadoPeliculas}ocultarComponenteDetallePelicula(){this.ocultarDetallePelicula=!this.ocultarDetallePelicula,this.ocultarListadoPeliculas=!this.ocultarListadoPeliculas}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-busqueda"]],decls:3,vars:2,consts:[[3,"outPutPelicula",4,"ngIf"],[3,"pelicula","outPutCerrarDetalle",4,"ngIf"],[3,"outPutPelicula"],[3,"pelicula","outPutCerrarDetalle"]],template:function(r,i){1&r&&(Re(0,"app-header"),Bt(1,uye,1,0,"app-pelicula-listado",0),Bt(2,cye,1,1,"app-detalle-pelicula",1)),2&r&&(me(1),Fe("ngIf",i.ocultarListadoPeliculas),me(1),Fe("ngIf",i.ocultarDetallePelicula))},dependencies:[ml,W4,aye,py]})}return t})();class dye{constructor(e,n,r,i,s,o,a){this.id=void 0!==a?a:"",this.nombre=e,this.tipo=n,this.fechaEstreno=r,this.cantidadPublico=i,this.foto=s,this.actores=o}get ID(){return this.id}get Nombre(){return this.nombre}get Tipo(){return this.tipo}get FechaEstreno(){return this.fechaEstreno}get CantidadPublico(){return this.cantidadPublico}get Foto(){return this.foto}get Actores(){return this.actores}}class lc{static soloLetras(e){let n=null;return/^[a-zA-Z\xf1\xd1]+$/.test(e.value)||(n={soloLetras:!0}),n}static soloNumeros(e){let n=null;return/^[0-9]+$/.test(e.value)||(n={soloNumeros:!0}),n}}let K4=(()=>{class t{constructor(n){this.firestore=n}insertar(n){var r=this;return y(function*(){const i=oc(r.firestore,"actores");return yield HA(i,{pais:n.Pais,nombre:n.Nombre,apellido:n.Apellido,usuario:n.Usuario,numero:n.Numero,email:n.Email,direccion1:n.Direccion1,direccion2:n.Direccion2})})()}obtenerActores(){const n=oc(this.firestore,"actores");return GA(n),$A(n,{idField:"id"})}static#e=this.\u0275fac=function(r){return new(r||t)(B(sc))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const hye=function(t){return{active:t}};function fye(t,e){if(1&t){const n=Ba();M(0,"li",3),De("click",function(){const s=oa(n).index;return aa(ns().activarItem(s))}),M(1,"span"),G(2),P()()}if(2&t){const n=e.$implicit;Ws("id",e.index),Fe("ngClass",Qv(3,hye,n.seleccionado)),me(2),Ha(n.nombre)}}let pye=(()=>{class t{constructor(n){this.servicioActores=n,this.outPutActores=new Me,this.listadoActores=[]}ngOnInit(){this.servicioActores.obtenerActores().subscribe(n=>{this.listadoActores=n.map(r=>({...r,seleccionado:!1}))})}activarItem(n){this.listadoActores[n].seleccionado=!this.listadoActores[n].seleccionado,this.obtenerActor()}obtenerActor(){this.outPutActores.emit(this.listadoActores.filter(n=>n.seleccionado).map(n=>n.nombre))}static#e=this.\u0275fac=function(r){return new(r||t)(b(K4))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-tabla-actor"]],outputs:{outPutActores:"outPutActores"},decls:3,vars:1,consts:[[1,"actores"],[1,"lista","list-group"],["class","item list-group-item",3,"ngClass","id","click",4,"ngFor","ngForOf"],[1,"item","list-group-item",3,"ngClass","id","click"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"ul",1),Bt(2,fye,3,5,"li",2),P()()),2&r&&(me(2),Fe("ngForOf",i.listadoActores))},dependencies:[Lw,mp],styles:[".actores[_ngcontent-%COMP%]{width:200%;max-height:210px;overflow-y:auto;-webkit-user-select:none;user-select:none}.lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{cursor:pointer}"]})}return t})(),gye=(()=>{class t{constructor(n,r){this.formBuilder=n,this.servicioPelicula=r,this.actoresSeleccionados=[],this.formulario=this.formBuilder.group({nombre:["",[ye.required,ye.minLength(3),ye.pattern(/^[a-zA-Z0-9 ]*$/)]],tipo:["",[ye.required,ye.minLength(3),lc.soloLetras]],fechaEstreno:["",[ye.required,ye.minLength(5),ye.pattern(/^[a-zA-Z0-9/ ]*$/)]],cantidadPublico:["",[ye.required,lc.soloNumeros]],foto:["",[ye.required]]})}obtenerPaisSeleccionado(n){this.actoresSeleccionados=n}seleccionArchivo(n){this.imagen=n.target?.files[0],this.formulario.get("foto")?.setValue("./"+n.target?.files[0].name.toString())}darAlta(){this.formulario.valid&&null!==this.actoresSeleccionados&&this.servicioPelicula.insertar(new dye(this.formulario.get("nombre")?.value,this.formulario.get("tipo")?.value,this.formulario.get("fechaEstreno")?.value,parseInt(this.formulario.get("cantidadPublico")?.value),this.imagen,this.actoresSeleccionados))}static#e=this.\u0275fac=function(r){return new(r||t)(b(Mp),b(q4))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-pelicula-alta"]],decls:39,vars:1,consts:[[1,"pelicula-alta"],[1,"campos"],[1,"form",3,"formGroup"],[1,"datos"],[1,"info"],[1,""],["for","validationCustom01",1,"form-label"],["type","text","formControlName","nombre","id","nombre",1,"form-control"],[1,"valid-feedback"],["for","validationCustom02",1,"form-label"],["type","text","formControlName","tipo","id","tipo",1,"form-control"],["for","validationCustomUsername",1,"form-label"],[1,"input-group","has-validation"],["type","text","formControlName","fechaEstreno","id","fechaEstreno","aria-describedby","inputGroupPrepend",1,"form-control"],[1,"invalid-feedback"],["for","validationCustom03",1,"form-label"],["type","text","formControlName","cantidadPublico","id","cantidadPublico",1,"form-control"],[1,"archivo"],["type","file","id","foto",1,"input-archivo","form-control",3,"change"],["type","submit",1,"btn","btn-primary",3,"click"],[3,"outPutActores"]],template:function(r,i){1&r&&(Re(0,"app-header"),M(1,"main",0)(2,"section",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),G(8,"Nombre"),P(),Re(9,"input",7),M(10,"div",8),G(11," Looks good! "),P()(),M(12,"div",5)(13,"label",9),G(14,"Tipo"),P(),Re(15,"input",10),M(16,"div",8),G(17," Looks good! "),P()()(),M(18,"div",4)(19,"div",5)(20,"label",11),G(21,"Fecha de Estreno"),P(),M(22,"div",12),Re(23,"input",13),M(24,"div",14),G(25," Please choose a username. "),P()()(),M(26,"div",5)(27,"label",15),G(28,"Cantidad de Publico"),P(),Re(29,"input",16),M(30,"div",14),G(31," Please provide a valid city. "),P()()()(),M(32,"div")(33,"div",17)(34,"input",18),De("change",function(o){return i.seleccionArchivo(o)}),P()(),M(35,"div",5)(36,"button",19),De("click",function(){return i.darAlta()}),G(37,"Dar de Alta"),P()()()(),M(38,"app-tabla-actor",20),De("outPutActores",function(o){return i.obtenerPaisSeleccionado(o)}),P()()()),2&r&&(me(3),Fe("formGroup",i.formulario))},dependencies:[Al,eo,vl,wl,no,Za,py,pye],styles:[".pelicula-alta[_ngcontent-%COMP%]{height:calc(100vh - 56px)}.pelicula-alta[_ngcontent-%COMP%]   .campos[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;gap:20px}.pelicula-alta[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.pelicula-alta[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]{display:flex;gap:20px}.pelicula-alta[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.pelicula-alta[_ngcontent-%COMP%]   .archivo[_ngcontent-%COMP%]{width:160px;margin:10px 0}"]})}return t})();class mye{constructor(e,n,r,i,s,o,a,u){this.pais=e,this.nombre=n,this.apellido=r,this.usuario=i,this.numero=s,this.email=o,this.direccion1=a,this.direccion2=void 0!==u?u:""}get Pais(){return this.pais}get Nombre(){return this.nombre}get Apellido(){return this.apellido}get Usuario(){return this.usuario}get Numero(){return this.numero}get Email(){return this.email}get Direccion1(){return this.direccion1}get Direccion2(){return this.direccion2}}class gy{}class my{}class ai{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ai?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ai;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ai?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class _ye{encodeKey(e){return Q4(e)}encodeValue(e){return Q4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const wye=/%(\d[a-f0-9])/gi,Iye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q4(t){return encodeURIComponent(t).replace(wye,(e,n)=>Iye[n]??e)}function yy(t){return`${t}`}class Os{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _ye,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vye(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(yy):[yy(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Os({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(yy(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(yy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Eye{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Y4(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function X4(t){return typeof Blob<"u"&&t instanceof Blob}function J4(t){return typeof FormData<"u"&&t instanceof FormData}class wh{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bye(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ai),this.context||(this.context=new Eye),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Os,this.urlWithParams=n}serializeBody(){return null===this.body?null:Y4(this.body)||X4(this.body)||J4(this.body)||function Cye(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Os?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||J4(this.body)?null:X4(this.body)?this.body.type||null:Y4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Os?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new wh(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var dc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(dc||{});class ix{constructor(e,n=200,r="OK"){this.headers=e.headers||new ai,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sx extends ix{constructor(e={}){super(e),this.type=dc.ResponseHeader}clone(e={}){return new sx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hc extends ix{constructor(e={}){super(e),this.type=dc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Z4 extends ix{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ox(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ez=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof wh)s=n;else{let u,c;u=i.headers instanceof ai?i.headers:new ai(i.headers),i.params&&(c=i.params instanceof Os?i.params:new Os({fromObject:i.params})),s=new wh(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=q(s).pipe(tu(u=>this.handler.handle(u)));if(n instanceof wh||"events"===i.observe)return o;const a=o.pipe(Di(u=>u instanceof hc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(fe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(fe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(fe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(fe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Os).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,ox(i,r))}post(n,r,i={}){return this.request("POST",n,ox(i,r))}put(n,r,i={}){return this.request("PUT",n,ox(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(B(gy))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function rz(t,e){return e(t)}function Tye(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const Aye=new F(""),Ih=new F(""),iz=new F("");function xye(){let t=null;return(e,n)=>{null===t&&(t=(L(Aye,{optional:!0})??[]).reduceRight(Tye,rz));const r=L(Xf),i=r.add();return t(e,n).pipe(Ml(()=>r.remove(i)))}}let sz=(()=>{class t extends gy{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=L(Xf)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ih),...this.injector.get(iz,[])]));this.chain=i.reduceRight((s,o)=>function Sye(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),rz)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ml(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(B(my),B(qn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const kye=/^\)\]\}',?\n/;let az=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new T(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?wt(r.\u0275loadImpl()):q(null)).pipe(fr(()=>new Ge(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((g,m)=>o.setRequestHeader(g,m.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const g=o.statusText||"OK",m=new ai(o.getAllResponseHeaders()),v=function Pye(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new sx({headers:m,status:o.status,statusText:g,url:v}),u},l=()=>{let{headers:g,status:m,statusText:v,url:_}=c(),E=null;204!==m&&(E=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=E?200:0);let A=m>=200&&m<300;if("json"===n.responseType&&"string"==typeof E){const V=E;E=E.replace(kye,"");try{E=""!==E?JSON.parse(E):null}catch(z){E=V,A&&(A=!1,E={error:z,text:E})}}A?(s.next(new hc({body:E,headers:g,status:m,statusText:v,url:_||void 0})),s.complete()):s.error(new Z4({error:E,headers:g,status:m,statusText:v,url:_||void 0}))},d=g=>{const{url:m}=c(),v=new Z4({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(v)};let h=!1;const f=g=>{h||(s.next(c()),h=!0);let m={type:dc.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===n.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},p=g=>{let m={type:dc.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),s.next(m)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:dc.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(B(KO))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const ax=new F("XSRF_ENABLED"),uz=new F("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),cz=new F("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lz{}let Lye=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=UO(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(B(Qn),B(gi),B(uz))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Vye(t,e){const n=t.url.toLowerCase();if(!L(ax)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=L(lz).getToken(),i=L(cz);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Fs=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Fs||{});function Uye(...t){const e=[ez,az,sz,{provide:gy,useExisting:sz},{provide:my,useExisting:az},{provide:Ih,useValue:Vye,multi:!0},{provide:ax,useValue:!0},{provide:lz,useClass:Lye}];for(const n of t)e.push(...n.\u0275providers);return function H_(t){return{\u0275providers:t}}(e)}const dz=new F("LEGACY_INTERCEPTOR_FN");function Bye(){return function Wo(t,e){return{\u0275kind:t,\u0275providers:e}}(Fs.LegacyInterceptors,[{provide:dz,useFactory:xye},{provide:Ih,useExisting:dz,multi:!0}])}let jye=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({providers:[Uye(Bye())]})}return t})(),Wye=(()=>{class t{constructor(n){this.http=n}obtenerPaises(n){return this.http.get("https://restcountries.com/v3.1/all"+(void 0!==n?"?"+n:""))}static#e=this.\u0275fac=function(r){return new(r||t)(B(ez))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Kye=function(t){return{active:t}};function Qye(t,e){if(1&t){const n=Ba();M(0,"li",3),De("click",function(){const i=oa(n),s=i.$implicit,o=i.index;return aa(ns().activarItem(s.name.common,o))}),Re(1,"img",4),M(2,"span"),G(3),P()()}if(2&t){const n=e.$implicit,r=e.index,i=ns();Ws("id",r),Fe("ngClass",Qv(5,Kye,r===i.paisSeleccionado.itemSeleccionado)),me(1),Ws("src",n.flags.svg,$c),ja("alt","imagen del pais ",n.name.common,""),me(2),Ha(n.name.common)}}let Yye=(()=>{class t{constructor(n){this.servicioPaises=n,this.outPutPais=new Me,this.listadoPaises=[],this.paisSeleccionado={pais:null,itemSeleccionado:null}}ngOnInit(){this.servicioPaises.obtenerPaises("fields=name,flags").subscribe(n=>{this.listadoPaises=n})}activarItem(n,r){this.paisSeleccionado.pais=n,this.paisSeleccionado.itemSeleccionado=r,this.obtenerPais()}obtenerPais(){this.outPutPais.emit(this.paisSeleccionado.pais)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Wye))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-tabla-paises"]],outputs:{outPutPais:"outPutPais"},decls:3,vars:1,consts:[[1,"paises"],[1,"lista","list-group"],["class","item list-group-item",3,"ngClass","id","click",4,"ngFor","ngForOf"],[1,"item","list-group-item",3,"ngClass","id","click"],[1,"img",3,"src","alt"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"ul",1),Bt(2,Qye,4,7,"li",2),P()()),2&r&&(me(2),Fe("ngForOf",i.listadoPaises))},dependencies:[Lw,mp],styles:[".paises[_ngcontent-%COMP%]{width:70%;max-height:210px;overflow-y:auto;-webkit-user-select:none;user-select:none}.lista[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{cursor:pointer}.lista[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0 10px}"]})}return t})();function Xye(t,e){1&t&&(M(0,"div",14),G(1," Solo se permiten letras. "),P())}function Jye(t,e){1&t&&(M(0,"div",14),G(1," email invalido "),P())}function Zye(t,e){1&t&&(M(0,"div",14),G(1," Usuario invalido. "),P())}function e_e(t,e){1&t&&(M(0,"div",14),G(1," Direccion invalida "),P())}function t_e(t,e){1&t&&(M(0,"div",14),G(1," numero invalido "),P())}let n_e=(()=>{class t{constructor(n,r){this.formBuilder=n,this.servicioActor=r,this.paisSeleccionado="",this.formulario=this.formBuilder.group({nombre:["",[ye.required,ye.minLength(3),lc.soloLetras]],apellido:["",[ye.required,ye.minLength(3),lc.soloLetras]],usuario:["",[ye.required,ye.minLength(3),lc.soloLetras]],numero:["",[ye.required,ye.maxLength(11),lc.soloNumeros]],email:["",[ye.required,ye.email]],direccion1:["",[ye.required,ye.pattern(/^[a-zA-Z0-9, ]*$/)]],direccion2:[""]})}obtenerPaisSeleccionado(n){this.paisSeleccionado=n}darAlta(){this.formulario.valid&&""!==this.paisSeleccionado&&this.servicioActor.insertar(new mye(this.paisSeleccionado,this.formulario.get("nombre")?.value,this.formulario.get("apellido")?.value,this.formulario.get("usuario")?.value,this.formulario.get("numero")?.value,this.formulario.get("email")?.value,this.formulario.get("direccion1")?.value,null!==this.formulario.get("direccion2")?.value?this.formulario.get("direccion2")?.value.toString():void 0))}static#e=this.\u0275fac=function(r){return new(r||t)(b(Mp),b(K4))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-actor-alta"]],decls:36,vars:6,consts:[[1,"actor-alta"],[1,"campos"],[1,"form-actor",3,"formGroup"],[1,"datos"],["type","text","id","nombre","formControlName","nombre"],["type","text","id","apellido","formControlName","apellido"],["style","color: #FF0000;",4,"ngIf"],["type","text","id","usuario","formControlName","usuario"],["type","text","id","email","formControlName","email"],["type","text","id","numero","formControlName","numero"],["type","text","id","direccion1","formControlName","direccion1"],["type","text","id","direccion2","formControlName","direccion2"],[3,"outPutPais"],[1,"boton","btn","btn-primary",3,"click"],[2,"color","#FF0000"]],template:function(r,i){if(1&r&&(Re(0,"app-header"),M(1,"main",0)(2,"section",1)(3,"form",2)(4,"div",3)(5,"span"),G(6,"Nombre"),P(),Re(7,"input",4),M(8,"span"),G(9,"Apellido"),P(),Re(10,"input",5),Bt(11,Xye,2,0,"div",6),P(),M(12,"div",3)(13,"span"),G(14,"Usuario"),P(),Re(15,"input",7),M(16,"span"),G(17,"Email"),P(),Re(18,"input",8),Bt(19,Jye,2,0,"div",6),Bt(20,Zye,2,0,"div",6),P(),M(21,"div",3)(22,"span"),G(23,"Numero de Telefono"),P(),Re(24,"input",9),M(25,"span"),G(26,"Direccion"),P(),Re(27,"input",10),M(28,"span"),G(29,"Direccion 2"),P(),Re(30,"input",11),Bt(31,e_e,2,0,"div",6),Bt(32,t_e,2,0,"div",6),P()(),M(33,"app-tabla-paises",12),De("outPutPais",function(o){return i.obtenerPaisSeleccionado(o)}),P()(),M(34,"button",13),De("click",function(){return i.darAlta()}),G(35,"Dar de alta"),P()()),2&r){let s,o,a,u;me(3),Fe("formGroup",i.formulario),me(8),Fe("ngIf",(null==i.formulario.controls.nombre.errors?null:i.formulario.controls.nombre.errors.soloLetras)&&i.formulario.controls.nombre.touched||(null==i.formulario.controls.apellido.errors?null:i.formulario.controls.apellido.errors.soloLetras)&&i.formulario.controls.apellido.touched),me(8),Fe("ngIf",null==(s=i.formulario.get("email"))?null:s.hasError("email")),me(1),Fe("ngIf",null==(o=i.formulario.get("usuario"))?null:o.hasError("soloLetras")),me(11),Fe("ngIf",(null==(a=i.formulario.get("direccion1"))?null:a.hasError("pattern"))||(null==(a=i.formulario.get("direccion2"))?null:a.hasError("pattern"))),me(1),Fe("ngIf",null==(u=i.formulario.get("numero"))?null:u.hasError("soloNumeros"))}},dependencies:[ml,Al,eo,vl,wl,no,Za,py,Yye],styles:[".actor-alta[_ngcontent-%COMP%]{height:calc(100vh - 56px);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px}.actor-alta[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{align-self:flex-start;margin:0 22%}.actor-alta[_ngcontent-%COMP%]   .campos[_ngcontent-%COMP%]{display:flex;gap:50px}.actor-alta[_ngcontent-%COMP%]   .form-actor[_ngcontent-%COMP%]{display:flex;gap:20px}.form-actor[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}"]})}return t})(),r_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-actor-listado"]],decls:0,vars:0,template:function(r,i){}})}return t})(),i_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-bienvenido"]],decls:4,vars:0,consts:[[1,"bienvenido"]],template:function(r,i){1&r&&(Re(0,"app-header"),M(1,"main",0)(2,"h1"),G(3,"\xa1Bienvenido a tu pagina de peliculas favoritas!"),P()())},dependencies:[py],styles:[".bienvenido[_ngcontent-%COMP%]{height:calc(100vh - 56px);display:flex;justify-content:center;align-items:center;color:#000;background-image:url(fondo.9ab444f65b36a4e5.jpg);background-size:cover;background-repeat:no-repeat;background-position:center center}"]})}return t})(),ux=(()=>{class t{constructor(n){this.firestore=n,this.logueado=!1}insertar(n){var r=this;return y(function*(){const i=oc(r.firestore,"usuarios");return yield HA(i,{email:n.Email,password:n.Password})})()}obtenerUsuarios(){const n=oc(this.firestore,"usuarios");return GA(n),$A(n,{idField:"id"})}static#e=this.\u0275fac=function(r){return new(r||t)(B(sc))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s_e(t,e){1&t&&(M(0,"div",11),G(1," Email invalido. "),P())}function o_e(t,e){1&t&&(M(0,"div",11),G(1," Solo se permiten letras y numeros. "),P())}function a_e(t,e){1&t&&(M(0,"div",11),G(1," Usuario Invalido "),P())}let u_e=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.servicioUsuario=i,this.logueado=!1,this.email="",this.password="",this.formulario=this.formBuilder.group({password:["",[ye.required,ye.minLength(3),ye.pattern(/^[a-zA-Z0-9]+$/)]],email:["",[ye.required,ye.email]]})}login(){this.formulario.valid&&this.servicioUsuario.obtenerUsuarios().subscribe(n=>{console.log(n);for(let r of n)if(r.password===this.formulario.get("password")?.value&&r.email===this.formulario.get("email")?.value){this.servicioUsuario.logueado=!0,new fy(this.formulario.get("email")?.value,this.formulario.get("password")?.value,r.id).guardarLocalStorage(),this.router.navigate(["/bienvenido"]);break}this.logueado=!0})}autoLogin(){this.formulario.get("email")?.setValue("gonzalonl308@gmail.com"),this.formulario.get("password")?.setValue("gonza123")}static#e=this.\u0275fac=function(r){return new(r||t)(b(Mp),b(sn),b(ux))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-login"]],decls:21,vars:4,consts:[[1,"login"],[1,"formulario",3,"formGroup"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],["for","floatingPassword"],["style","color: #FF0000;",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"click"],["type","submit","routerLink","/register",1,"btn","btn-primary","w-100","py-2"],[2,"color","#FF0000"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"form",1)(2,"h1",2),G(3,"Logueate!"),P(),M(4,"div",3),Re(5,"input",4),M(6,"label",5),G(7,"Email"),P()(),M(8,"div",3),Re(9,"input",6),M(10,"label",7),G(11,"Contrase\xf1a"),P()(),Bt(12,s_e,2,0,"div",8),Bt(13,o_e,2,0,"div",8),Bt(14,a_e,2,0,"div",8),M(15,"button",9),De("click",function(){return i.login()}),G(16,"Login"),P(),M(17,"button",10),G(18,"Register"),P(),M(19,"button",9),De("click",function(){return i.autoLogin()}),G(20,"Auto Login"),P()()()),2&r&&(me(1),Fe("formGroup",i.formulario),me(11),Fe("ngIf",(null==i.formulario.controls.email.errors?null:i.formulario.controls.email.errors.email)&&i.formulario.controls.email.touched),me(1),Fe("ngIf",(null==i.formulario.controls.password.errors?null:i.formulario.controls.password.errors.pattern)&&i.formulario.controls.password.touched),me(1),Fe("ngIf",i.logueado))},dependencies:[ml,du,Al,eo,vl,wl,no,Za],styles:[".login[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.login[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]})}return t})();function c_e(t,e){1&t&&(M(0,"div",11),G(1," Email invalido. "),P())}function l_e(t,e){1&t&&(M(0,"div",11),G(1," Solo se permiten letras y numeros. "),P())}function d_e(t,e){1&t&&(M(0,"div",11),G(1," El email ya esta registrado "),P())}const h_e=[{path:"bienvenido",component:i_e,canActivate:[(t,e)=>oR(ux).logueado]},{path:"busqueda",component:lye},{path:"peliculas/alta",component:gye},{path:"peliculas/listado",component:W4},{path:"actor/alta",component:n_e},{path:"actor/listado",component:r_e},{path:"login",component:u_e},{path:"register",component:(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.servicioUsuario=i,this.usuario=!1,this.formulario=this.formBuilder.group({password:["",[ye.required,ye.minLength(3),ye.pattern(/^[a-zA-Z0-9]+$/)]],email:["",[ye.required,ye.email]]})}register(){this.formulario.valid&&this.servicioUsuario.obtenerUsuarios().subscribe(n=>{console.log(n);for(let r of n)if(r.email===this.formulario.get("email")?.value){this.usuario=!0;break}if(!this.usuario){let r=new fy(this.formulario.get("email")?.value,this.formulario.get("password")?.value);this.servicioUsuario.insertar(r),r.guardarLocalStorage(),this.router.navigate(["/bienvenido"])}})}autoRegister(){this.formulario.get("email")?.setValue("gonzalonl308@gmail.com"),this.formulario.get("password")?.setValue("gonza123")}static#e=this.\u0275fac=function(r){return new(r||t)(b(Mp),b(sn),b(ux))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-register"]],decls:21,vars:4,consts:[[1,"register"],[1,"formulario",3,"formGroup"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],["for","floatingPassword"],["style","color: #FF0000;",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"click"],["type","submit","routerLink","/login",1,"btn","btn-primary","w-100","py-2"],[2,"color","#FF0000"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"form",1)(2,"h1",2),G(3,"Registrate!"),P(),M(4,"div",3),Re(5,"input",4),M(6,"label",5),G(7,"Email"),P()(),M(8,"div",3),Re(9,"input",6),M(10,"label",7),G(11,"Contrase\xf1a"),P()(),Bt(12,c_e,2,0,"div",8),Bt(13,l_e,2,0,"div",8),Bt(14,d_e,2,0,"div",8),M(15,"button",9),De("click",function(){return i.register()}),G(16,"Register"),P(),M(17,"button",10),G(18,"Volver"),P(),M(19,"button",9),De("click",function(){return i.autoRegister()}),G(20,"Auto Register"),P()()()),2&r&&(me(1),Fe("formGroup",i.formulario),me(11),Fe("ngIf",(null==i.formulario.controls.email.errors?null:i.formulario.controls.email.errors.email)&&i.formulario.controls.email.touched),me(1),Fe("ngIf",(null==i.formulario.controls.password.errors?null:i.formulario.controls.password.errors.pattern)&&i.formulario.controls.password.touched),me(1),Fe("ngIf",i.usuario))},dependencies:[ml,du,Al,eo,vl,wl,no,Za],styles:[".register[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.register[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]})}return t})()},{path:"",redirectTo:"bienvenido",pathMatch:"full"}];let f_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t});static#n=this.\u0275inj=Xt({imports:[S2.forRoot(h_e),S2]})}return t})(),p_e=(()=>{class t{constructor(n){this.router=n}ngOnInit(){fy.obtenerLocalStorage()||this.router.navigate(["/login"])}static#e=this.\u0275fac=function(r){return new(r||t)(b(sn))};static#t=this.\u0275cmp=Jt({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main"]],template:function(r,i){1&r&&(M(0,"main",0),Re(1,"router-outlet"),P())},dependencies:[NI],styles:[".main[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}"]})}return t})();const g_e_firebase={projectId:"simulacro-primerparcial-8f886",appId:"1:624420879754:web:e429e0ed03191284839c73",storageBucket:"simulacro-primerparcial-8f886.appspot.com",locationId:"us-central",apiKey:"AIzaSyDkK4DJQ7TpmmryHnNPheRdOpN0yfHHk2g",authDomain:"simulacro-primerparcial-8f886.firebaseapp.com",messagingSenderId:"624420879754",measurementId:"G-LDZTPGK5E8"};let m_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=hn({type:t,bootstrap:[p_e]});static#n=this.\u0275inj=Xt({imports:[bJ,f_e,jye,MZ,RZ,Yoe(()=>Xoe(g_e_firebase)),yge(()=>_ge()),eye(()=>nye())]})}return t})();IJ().bootstrapModule(m_e).catch(t=>console.error(t))}},xe=>{xe(xe.s=96)}]);